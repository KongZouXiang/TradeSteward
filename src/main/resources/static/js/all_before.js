function setCookie(a,b){window.localStorage.setItem(a,b);}function setCookieExpDays(b,c,a){window.localStorage.setItem(b,c);}function getCookie(b){if(b=="pid"){var a=document.cookie.match(new RegExp("(^| )"+b+"=([^;]*)(;|$)"));if(a!=null){return unescape(a[2]);}return null;}else{return window.localStorage.getItem(b);}}function delCookie(a){window.localStorage.removeItem(a);}function deleteCookie(a){window.localStorage.removeItem(a);}
/*
 * jQuery JavaScript Library v1.8.3
 * http://jquery.com/
 *
 * Includes Sizzle.js
 * http://sizzlejs.com/
 *
 * Copyright 2012 jQuery Foundation and other contributors
 * Released under the MIT license
 * http://jquery.org/license
 *
 * Date: Tue Nov 13 2012 08:20:33 GMT-0500 (Eastern Standard Time)
 */
(function(window,undefined){var rootjQuery,readyList,document=window.document,location=window.location,navigator=window.navigator,_jQuery=window.jQuery,_$=window.$,core_push=Array.prototype.push,core_slice=Array.prototype.slice,core_indexOf=Array.prototype.indexOf,core_toString=Object.prototype.toString,core_hasOwn=Object.prototype.hasOwnProperty,core_trim=String.prototype.trim,jQuery=function(selector,context){return new jQuery.fn.init(selector,context,rootjQuery);},core_pnum=/[\-+]?(?:\d*\.|)\d+(?:[eE][\-+]?\d+|)/.source,core_rnotwhite=/\S/,core_rspace=/\s+/,rtrim=/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,rquickExpr=/^(?:[^#<]*(<[\w\W]+>)[^>]*$|#([\w\-]*)$)/,rsingleTag=/^<(\w+)\s*\/?>(?:<\/\1>|)$/,rvalidchars=/^[\],:{}\s]*$/,rvalidbraces=/(?:^|:|,)(?:\s*\[)+/g,rvalidescape=/\\(?:["\\\/bfnrt]|u[\da-fA-F]{4})/g,rvalidtokens=/"[^"\\\r\n]*"|true|false|null|-?(?:\d\d*\.|)\d+(?:[eE][\-+]?\d+|)/g,rmsPrefix=/^-ms-/,rdashAlpha=/-([\da-z])/gi,fcamelCase=function(all,letter){return(letter+"").toUpperCase();},DOMContentLoaded=function(){if(document.addEventListener){document.removeEventListener("DOMContentLoaded",DOMContentLoaded,false);jQuery.ready();}else{if(document.readyState==="complete"){document.detachEvent("onreadystatechange",DOMContentLoaded);jQuery.ready();}}},class2type={};jQuery.fn=jQuery.prototype={constructor:jQuery,init:function(selector,context,rootjQuery){var match,elem,ret,doc;if(!selector){return this;}if(selector.nodeType){this.context=this[0]=selector;this.length=1;return this;}if(typeof selector==="string"){if(selector.charAt(0)==="<"&&selector.charAt(selector.length-1)===">"&&selector.length>=3){match=[null,selector,null];}else{match=rquickExpr.exec(selector);}if(match&&(match[1]||!context)){if(match[1]){context=context instanceof jQuery?context[0]:context;doc=(context&&context.nodeType?context.ownerDocument||context:document);selector=jQuery.parseHTML(match[1],doc,true);if(rsingleTag.test(match[1])&&jQuery.isPlainObject(context)){this.attr.call(selector,context,true);}return jQuery.merge(this,selector);}else{elem=document.getElementById(match[2]);if(elem&&elem.parentNode){if(elem.id!==match[2]){return rootjQuery.find(selector);}this.length=1;this[0]=elem;}this.context=document;this.selector=selector;return this;}}else{if(!context||context.jquery){return(context||rootjQuery).find(selector);}else{return this.constructor(context).find(selector);}}}else{if(jQuery.isFunction(selector)){return rootjQuery.ready(selector);}}if(selector.selector!==undefined){this.selector=selector.selector;this.context=selector.context;}return jQuery.makeArray(selector,this);},selector:"",jquery:"1.8.3",length:0,size:function(){return this.length;},toArray:function(){return core_slice.call(this);},get:function(num){return num==null?this.toArray():(num<0?this[this.length+num]:this[num]);},pushStack:function(elems,name,selector){var ret=jQuery.merge(this.constructor(),elems);ret.prevObject=this;ret.context=this.context;if(name==="find"){ret.selector=this.selector+(this.selector?" ":"")+selector;}else{if(name){ret.selector=this.selector+"."+name+"("+selector+")";}}return ret;},each:function(callback,args){return jQuery.each(this,callback,args);},ready:function(fn){jQuery.ready.promise().done(fn);return this;},eq:function(i){i=+i;return i===-1?this.slice(i):this.slice(i,i+1);},first:function(){return this.eq(0);},last:function(){return this.eq(-1);},slice:function(){return this.pushStack(core_slice.apply(this,arguments),"slice",core_slice.call(arguments).join(","));},map:function(callback){return this.pushStack(jQuery.map(this,function(elem,i){return callback.call(elem,i,elem);}));},end:function(){return this.prevObject||this.constructor(null);},push:core_push,sort:[].sort,splice:[].splice};jQuery.fn.init.prototype=jQuery.fn;jQuery.extend=jQuery.fn.extend=function(){var options,name,src,copy,copyIsArray,clone,target=arguments[0]||{},i=1,length=arguments.length,deep=false;if(typeof target==="boolean"){deep=target;target=arguments[1]||{};i=2;}if(typeof target!=="object"&&!jQuery.isFunction(target)){target={};}if(length===i){target=this;--i;}for(;i<length;i++){if((options=arguments[i])!=null){for(name in options){src=target[name];copy=options[name];if(target===copy){continue;}if(deep&&copy&&(jQuery.isPlainObject(copy)||(copyIsArray=jQuery.isArray(copy)))){if(copyIsArray){copyIsArray=false;clone=src&&jQuery.isArray(src)?src:[];}else{clone=src&&jQuery.isPlainObject(src)?src:{};}target[name]=jQuery.extend(deep,clone,copy);}else{if(copy!==undefined){target[name]=copy;}}}}}return target;};jQuery.extend({noConflict:function(deep){if(window.$===jQuery){window.$=_$;}if(deep&&window.jQuery===jQuery){window.jQuery=_jQuery;}return jQuery;},isReady:false,readyWait:1,holdReady:function(hold){if(hold){jQuery.readyWait++;}else{jQuery.ready(true);}},ready:function(wait){if(wait===true?--jQuery.readyWait:jQuery.isReady){return;}if(!document.body){return setTimeout(jQuery.ready,1);}jQuery.isReady=true;if(wait!==true&&--jQuery.readyWait>0){return;}readyList.resolveWith(document,[jQuery]);if(jQuery.fn.trigger){jQuery(document).trigger("ready").off("ready");}},isFunction:function(obj){return jQuery.type(obj)==="function";},isArray:Array.isArray||function(obj){return jQuery.type(obj)==="array";},isWindow:function(obj){return obj!=null&&obj==obj.window;},isNumeric:function(obj){return !isNaN(parseFloat(obj))&&isFinite(obj);},type:function(obj){return obj==null?String(obj):class2type[core_toString.call(obj)]||"object";},isPlainObject:function(obj){if(!obj||jQuery.type(obj)!=="object"||obj.nodeType||jQuery.isWindow(obj)){return false;}try{if(obj.constructor&&!core_hasOwn.call(obj,"constructor")&&!core_hasOwn.call(obj.constructor.prototype,"isPrototypeOf")){return false;}}catch(e){return false;}var key;for(key in obj){}return key===undefined||core_hasOwn.call(obj,key);},isEmptyObject:function(obj){var name;for(name in obj){return false;}return true;},error:function(msg){throw new Error(msg);},parseHTML:function(data,context,scripts){var parsed;if(!data||typeof data!=="string"){return null;}if(typeof context==="boolean"){scripts=context;context=0;}context=context||document;if((parsed=rsingleTag.exec(data))){return[context.createElement(parsed[1])];}parsed=jQuery.buildFragment([data],context,scripts?null:[]);return jQuery.merge([],(parsed.cacheable?jQuery.clone(parsed.fragment):parsed.fragment).childNodes);},parseJSON:function(data){if(!data||typeof data!=="string"){return null;}data=jQuery.trim(data);if(window.JSON&&window.JSON.parse){return window.JSON.parse(data);}if(rvalidchars.test(data.replace(rvalidescape,"@").replace(rvalidtokens,"]").replace(rvalidbraces,""))){return(new Function("return "+data))();}jQuery.error("Invalid JSON: "+data);},parseXML:function(data){var xml,tmp;if(!data||typeof data!=="string"){return null;}try{if(window.DOMParser){tmp=new DOMParser();xml=tmp.parseFromString(data,"text/xml");}else{xml=new ActiveXObject("Microsoft.XMLDOM");xml.async="false";xml.loadXML(data);}}catch(e){xml=undefined;}if(!xml||!xml.documentElement||xml.getElementsByTagName("parsererror").length){jQuery.error("Invalid XML: "+data);}return xml;},noop:function(){},globalEval:function(data){if(data&&core_rnotwhite.test(data)){(window.execScript||function(data){window["eval"].call(window,data);})(data);}},camelCase:function(string){return string.replace(rmsPrefix,"ms-").replace(rdashAlpha,fcamelCase);},nodeName:function(elem,name){return elem.nodeName&&elem.nodeName.toLowerCase()===name.toLowerCase();},each:function(obj,callback,args){var name,i=0,length=obj.length,isObj=length===undefined||jQuery.isFunction(obj);if(args){if(isObj){for(name in obj){if(callback.apply(obj[name],args)===false){break;}}}else{for(;i<length;){if(callback.apply(obj[i++],args)===false){break;}}}}else{if(isObj){for(name in obj){if(callback.call(obj[name],name,obj[name])===false){break;}}}else{for(;i<length;){if(callback.call(obj[i],i,obj[i++])===false){break;}}}}return obj;},trim:core_trim&&!core_trim.call("\uFEFF\xA0")?function(text){return text==null?"":core_trim.call(text);}:function(text){return text==null?"":(text+"").replace(rtrim,"");},makeArray:function(arr,results){var type,ret=results||[];if(arr!=null){type=jQuery.type(arr);if(arr.length==null||type==="string"||type==="function"||type==="regexp"||jQuery.isWindow(arr)){core_push.call(ret,arr);}else{jQuery.merge(ret,arr);}}return ret;},inArray:function(elem,arr,i){var len;if(arr){if(core_indexOf){return core_indexOf.call(arr,elem,i);}len=arr.length;i=i?i<0?Math.max(0,len+i):i:0;for(;i<len;i++){if(i in arr&&arr[i]===elem){return i;}}}return -1;},merge:function(first,second){var l=second.length,i=first.length,j=0;if(typeof l==="number"){for(;j<l;j++){first[i++]=second[j];}}else{while(second[j]!==undefined){first[i++]=second[j++];}}first.length=i;return first;},grep:function(elems,callback,inv){var retVal,ret=[],i=0,length=elems.length;inv=!!inv;for(;i<length;i++){retVal=!!callback(elems[i],i);if(inv!==retVal){ret.push(elems[i]);}}return ret;},map:function(elems,callback,arg){var value,key,ret=[],i=0,length=elems.length,isArray=elems instanceof jQuery||length!==undefined&&typeof length==="number"&&((length>0&&elems[0]&&elems[length-1])||length===0||jQuery.isArray(elems));if(isArray){for(;i<length;i++){value=callback(elems[i],i,arg);if(value!=null){ret[ret.length]=value;}}}else{for(key in elems){value=callback(elems[key],key,arg);if(value!=null){ret[ret.length]=value;}}}return ret.concat.apply([],ret);},guid:1,proxy:function(fn,context){var tmp,args,proxy;if(typeof context==="string"){tmp=fn[context];context=fn;fn=tmp;}if(!jQuery.isFunction(fn)){return undefined;}args=core_slice.call(arguments,2);proxy=function(){return fn.apply(context,args.concat(core_slice.call(arguments)));};proxy.guid=fn.guid=fn.guid||jQuery.guid++;return proxy;},access:function(elems,fn,key,value,chainable,emptyGet,pass){var exec,bulk=key==null,i=0,length=elems.length;if(key&&typeof key==="object"){for(i in key){jQuery.access(elems,fn,i,key[i],1,emptyGet,value);}chainable=1;}else{if(value!==undefined){exec=pass===undefined&&jQuery.isFunction(value);if(bulk){if(exec){exec=fn;fn=function(elem,key,value){return exec.call(jQuery(elem),value);};}else{fn.call(elems,value);fn=null;}}if(fn){for(;i<length;i++){fn(elems[i],key,exec?value.call(elems[i],i,fn(elems[i],key)):value,pass);}}chainable=1;}}return chainable?elems:bulk?fn.call(elems):length?fn(elems[0],key):emptyGet;},now:function(){return(new Date()).getTime();}});jQuery.ready.promise=function(obj){if(!readyList){readyList=jQuery.Deferred();if(document.readyState==="complete"){setTimeout(jQuery.ready,1);}else{if(document.addEventListener){document.addEventListener("DOMContentLoaded",DOMContentLoaded,false);window.addEventListener("load",jQuery.ready,false);}else{document.attachEvent("onreadystatechange",DOMContentLoaded);window.attachEvent("onload",jQuery.ready);var top=false;try{top=window.frameElement==null&&document.documentElement;}catch(e){}if(top&&top.doScroll){(function doScrollCheck(){if(!jQuery.isReady){try{top.doScroll("left");}catch(e){return setTimeout(doScrollCheck,50);}jQuery.ready();}})();}}}}return readyList.promise(obj);};jQuery.each("Boolean Number String Function Array Date RegExp Object".split(" "),function(i,name){class2type["[object "+name+"]"]=name.toLowerCase();});rootjQuery=jQuery(document);var optionsCache={};function createOptions(options){var object=optionsCache[options]={};jQuery.each(options.split(core_rspace),function(_,flag){object[flag]=true;});return object;}jQuery.Callbacks=function(options){options=typeof options==="string"?(optionsCache[options]||createOptions(options)):jQuery.extend({},options);var memory,fired,firing,firingStart,firingLength,firingIndex,list=[],stack=!options.once&&[],fire=function(data){memory=options.memory&&data;fired=true;firingIndex=firingStart||0;firingStart=0;firingLength=list.length;firing=true;for(;list&&firingIndex<firingLength;firingIndex++){if(list[firingIndex].apply(data[0],data[1])===false&&options.stopOnFalse){memory=false;break;}}firing=false;if(list){if(stack){if(stack.length){fire(stack.shift());}}else{if(memory){list=[];}else{self.disable();}}}},self={add:function(){if(list){var start=list.length;(function add(args){jQuery.each(args,function(_,arg){var type=jQuery.type(arg);if(type==="function"){if(!options.unique||!self.has(arg)){list.push(arg);}}else{if(arg&&arg.length&&type!=="string"){add(arg);}}});})(arguments);if(firing){firingLength=list.length;}else{if(memory){firingStart=start;fire(memory);}}}return this;},remove:function(){if(list){jQuery.each(arguments,function(_,arg){var index;while((index=jQuery.inArray(arg,list,index))>-1){list.splice(index,1);if(firing){if(index<=firingLength){firingLength--;}if(index<=firingIndex){firingIndex--;}}}});}return this;},has:function(fn){return jQuery.inArray(fn,list)>-1;},empty:function(){list=[];return this;},disable:function(){list=stack=memory=undefined;return this;},disabled:function(){return !list;},lock:function(){stack=undefined;if(!memory){self.disable();}return this;},locked:function(){return !stack;},fireWith:function(context,args){args=args||[];args=[context,args.slice?args.slice():args];if(list&&(!fired||stack)){if(firing){stack.push(args);}else{fire(args);}}return this;},fire:function(){self.fireWith(this,arguments);return this;},fired:function(){return !!fired;}};return self;};jQuery.extend({Deferred:function(func){var tuples=[["resolve","done",jQuery.Callbacks("once memory"),"resolved"],["reject","fail",jQuery.Callbacks("once memory"),"rejected"],["notify","progress",jQuery.Callbacks("memory")]],state="pending",promise={state:function(){return state;},always:function(){deferred.done(arguments).fail(arguments);return this;},then:function(){var fns=arguments;return jQuery.Deferred(function(newDefer){jQuery.each(tuples,function(i,tuple){var action=tuple[0],fn=fns[i];deferred[tuple[1]](jQuery.isFunction(fn)?function(){var returned=fn.apply(this,arguments);if(returned&&jQuery.isFunction(returned.promise)){returned.promise().done(newDefer.resolve).fail(newDefer.reject).progress(newDefer.notify);}else{newDefer[action+"With"](this===deferred?newDefer:this,[returned]);}}:newDefer[action]);});fns=null;}).promise();},promise:function(obj){return obj!=null?jQuery.extend(obj,promise):promise;}},deferred={};promise.pipe=promise.then;jQuery.each(tuples,function(i,tuple){var list=tuple[2],stateString=tuple[3];promise[tuple[1]]=list.add;if(stateString){list.add(function(){state=stateString;},tuples[i^1][2].disable,tuples[2][2].lock);}deferred[tuple[0]]=list.fire;deferred[tuple[0]+"With"]=list.fireWith;});promise.promise(deferred);if(func){func.call(deferred,deferred);}return deferred;},when:function(subordinate){var i=0,resolveValues=core_slice.call(arguments),length=resolveValues.length,remaining=length!==1||(subordinate&&jQuery.isFunction(subordinate.promise))?length:0,deferred=remaining===1?subordinate:jQuery.Deferred(),updateFunc=function(i,contexts,values){return function(value){contexts[i]=this;values[i]=arguments.length>1?core_slice.call(arguments):value;if(values===progressValues){deferred.notifyWith(contexts,values);}else{if(!(--remaining)){deferred.resolveWith(contexts,values);}}};},progressValues,progressContexts,resolveContexts;if(length>1){progressValues=new Array(length);progressContexts=new Array(length);resolveContexts=new Array(length);for(;i<length;i++){if(resolveValues[i]&&jQuery.isFunction(resolveValues[i].promise)){resolveValues[i].promise().done(updateFunc(i,resolveContexts,resolveValues)).fail(deferred.reject).progress(updateFunc(i,progressContexts,progressValues));}else{--remaining;}}}if(!remaining){deferred.resolveWith(resolveContexts,resolveValues);}return deferred.promise();}});jQuery.support=(function(){var support,all,a,select,opt,input,fragment,eventName,i,isSupported,clickFn,div=document.createElement("div");div.setAttribute("className","t");div.innerHTML="  <link/><table></table><a href='/a'>a</a><input type='checkbox'/>";all=div.getElementsByTagName("*");a=div.getElementsByTagName("a")[0];if(!all||!a||!all.length){return{};}select=document.createElement("select");opt=select.appendChild(document.createElement("option"));input=div.getElementsByTagName("input")[0];a.style.cssText="top:1px;float:left;opacity:.5";support={leadingWhitespace:(div.firstChild.nodeType===3),tbody:!div.getElementsByTagName("tbody").length,htmlSerialize:!!div.getElementsByTagName("link").length,style:/top/.test(a.getAttribute("style")),hrefNormalized:(a.getAttribute("href")==="/a"),opacity:/^0.5/.test(a.style.opacity),cssFloat:!!a.style.cssFloat,checkOn:(input.value==="on"),optSelected:opt.selected,getSetAttribute:div.className!=="t",enctype:!!document.createElement("form").enctype,html5Clone:document.createElement("nav").cloneNode(true).outerHTML!=="<:nav></:nav>",boxModel:(document.compatMode==="CSS1Compat"),submitBubbles:true,changeBubbles:true,focusinBubbles:false,deleteExpando:true,noCloneEvent:true,inlineBlockNeedsLayout:false,shrinkWrapBlocks:false,reliableMarginRight:true,boxSizingReliable:true,pixelPosition:false};input.checked=true;support.noCloneChecked=input.cloneNode(true).checked;select.disabled=true;support.optDisabled=!opt.disabled;try{delete div.test;}catch(e){support.deleteExpando=false;}if(!div.addEventListener&&div.attachEvent&&div.fireEvent){div.attachEvent("onclick",clickFn=function(){support.noCloneEvent=false;});div.cloneNode(true).fireEvent("onclick");div.detachEvent("onclick",clickFn);}input=document.createElement("input");input.value="t";input.setAttribute("type","radio");support.radioValue=input.value==="t";input.setAttribute("checked","checked");input.setAttribute("name","t");div.appendChild(input);fragment=document.createDocumentFragment();fragment.appendChild(div.lastChild);support.checkClone=fragment.cloneNode(true).cloneNode(true).lastChild.checked;support.appendChecked=input.checked;fragment.removeChild(input);fragment.appendChild(div);if(div.attachEvent){for(i in {submit:true,change:true,focusin:true}){eventName="on"+i;isSupported=(eventName in div);if(!isSupported){div.setAttribute(eventName,"return;");isSupported=(typeof div[eventName]==="function");}support[i+"Bubbles"]=isSupported;}}jQuery(function(){var container,div,tds,marginDiv,divReset="padding:0;margin:0;border:0;display:block;overflow:hidden;",body=document.getElementsByTagName("body")[0];if(!body){return;}container=document.createElement("div");container.style.cssText="visibility:hidden;border:0;width:0;height:0;position:static;top:0;margin-top:1px";body.insertBefore(container,body.firstChild);div=document.createElement("div");container.appendChild(div);div.innerHTML="<table><tr><td></td><td>t</td></tr></table>";tds=div.getElementsByTagName("td");tds[0].style.cssText="padding:0;margin:0;border:0;display:none";isSupported=(tds[0].offsetHeight===0);tds[0].style.display="";tds[1].style.display="none";support.reliableHiddenOffsets=isSupported&&(tds[0].offsetHeight===0);div.innerHTML="";div.style.cssText="box-sizing:border-box;-moz-box-sizing:border-box;-webkit-box-sizing:border-box;padding:1px;border:1px;display:block;width:4px;margin-top:1%;position:absolute;top:1%;";support.boxSizing=(div.offsetWidth===4);support.doesNotIncludeMarginInBodyOffset=(body.offsetTop!==1);if(window.getComputedStyle){support.pixelPosition=(window.getComputedStyle(div,null)||{}).top!=="1%";support.boxSizingReliable=(window.getComputedStyle(div,null)||{width:"4px"}).width==="4px";marginDiv=document.createElement("div");marginDiv.style.cssText=div.style.cssText=divReset;marginDiv.style.marginRight=marginDiv.style.width="0";div.style.width="1px";div.appendChild(marginDiv);support.reliableMarginRight=!parseFloat((window.getComputedStyle(marginDiv,null)||{}).marginRight);}if(typeof div.style.zoom!=="undefined"){div.innerHTML="";div.style.cssText=divReset+"width:1px;padding:1px;display:inline;zoom:1";support.inlineBlockNeedsLayout=(div.offsetWidth===3);div.style.display="block";div.style.overflow="visible";div.innerHTML="<div></div>";div.firstChild.style.width="5px";support.shrinkWrapBlocks=(div.offsetWidth!==3);container.style.zoom=1;}body.removeChild(container);container=div=tds=marginDiv=null;});fragment.removeChild(div);all=a=select=opt=input=fragment=div=null;return support;})();var rbrace=/(?:\{[\s\S]*\}|\[[\s\S]*\])$/,rmultiDash=/([A-Z])/g;jQuery.extend({cache:{},deletedIds:[],uuid:0,expando:"jQuery"+(jQuery.fn.jquery+Math.random()).replace(/\D/g,""),noData:{embed:true,object:"clsid:D27CDB6E-AE6D-11cf-96B8-444553540000",applet:true},hasData:function(elem){elem=elem.nodeType?jQuery.cache[elem[jQuery.expando]]:elem[jQuery.expando];return !!elem&&!isEmptyDataObject(elem);},data:function(elem,name,data,pvt){if(!jQuery.acceptData(elem)){return;}var thisCache,ret,internalKey=jQuery.expando,getByName=typeof name==="string",isNode=elem.nodeType,cache=isNode?jQuery.cache:elem,id=isNode?elem[internalKey]:elem[internalKey]&&internalKey;if((!id||!cache[id]||(!pvt&&!cache[id].data))&&getByName&&data===undefined){return;}if(!id){if(isNode){elem[internalKey]=id=jQuery.deletedIds.pop()||jQuery.guid++;}else{id=internalKey;}}if(!cache[id]){cache[id]={};if(!isNode){cache[id].toJSON=jQuery.noop;}}if(typeof name==="object"||typeof name==="function"){if(pvt){cache[id]=jQuery.extend(cache[id],name);}else{cache[id].data=jQuery.extend(cache[id].data,name);}}thisCache=cache[id];if(!pvt){if(!thisCache.data){thisCache.data={};}thisCache=thisCache.data;}if(data!==undefined){thisCache[jQuery.camelCase(name)]=data;}if(getByName){ret=thisCache[name];if(ret==null){ret=thisCache[jQuery.camelCase(name)];}}else{ret=thisCache;}return ret;},removeData:function(elem,name,pvt){if(!jQuery.acceptData(elem)){return;}var thisCache,i,l,isNode=elem.nodeType,cache=isNode?jQuery.cache:elem,id=isNode?elem[jQuery.expando]:jQuery.expando;if(!cache[id]){return;}if(name){thisCache=pvt?cache[id]:cache[id].data;if(thisCache){if(!jQuery.isArray(name)){if(name in thisCache){name=[name];}else{name=jQuery.camelCase(name);if(name in thisCache){name=[name];}else{name=name.split(" ");}}}for(i=0,l=name.length;i<l;i++){delete thisCache[name[i]];}if(!(pvt?isEmptyDataObject:jQuery.isEmptyObject)(thisCache)){return;}}}if(!pvt){delete cache[id].data;if(!isEmptyDataObject(cache[id])){return;}}if(isNode){jQuery.cleanData([elem],true);}else{if(jQuery.support.deleteExpando||cache!=cache.window){delete cache[id];}else{cache[id]=null;}}},_data:function(elem,name,data){return jQuery.data(elem,name,data,true);},acceptData:function(elem){var noData=elem.nodeName&&jQuery.noData[elem.nodeName.toLowerCase()];return !noData||noData!==true&&elem.getAttribute("classid")===noData;}});jQuery.fn.extend({data:function(key,value){var parts,part,attr,name,l,elem=this[0],i=0,data=null;if(key===undefined){if(this.length){data=jQuery.data(elem);if(elem.nodeType===1&&!jQuery._data(elem,"parsedAttrs")){attr=elem.attributes;for(l=attr.length;i<l;i++){name=attr[i].name;if(!name.indexOf("data-")){name=jQuery.camelCase(name.substring(5));dataAttr(elem,name,data[name]);}}jQuery._data(elem,"parsedAttrs",true);}}return data;}if(typeof key==="object"){return this.each(function(){jQuery.data(this,key);});}parts=key.split(".",2);parts[1]=parts[1]?"."+parts[1]:"";part=parts[1]+"!";return jQuery.access(this,function(value){if(value===undefined){data=this.triggerHandler("getData"+part,[parts[0]]);if(data===undefined&&elem){data=jQuery.data(elem,key);data=dataAttr(elem,key,data);}return data===undefined&&parts[1]?this.data(parts[0]):data;}parts[1]=value;this.each(function(){var self=jQuery(this);self.triggerHandler("setData"+part,parts);jQuery.data(this,key,value);self.triggerHandler("changeData"+part,parts);});},null,value,arguments.length>1,null,false);},removeData:function(key){return this.each(function(){jQuery.removeData(this,key);});}});function dataAttr(elem,key,data){if(data===undefined&&elem.nodeType===1){var name="data-"+key.replace(rmultiDash,"-$1").toLowerCase();data=elem.getAttribute(name);if(typeof data==="string"){try{data=data==="true"?true:data==="false"?false:data==="null"?null:+data+""===data?+data:rbrace.test(data)?jQuery.parseJSON(data):data;}catch(e){}jQuery.data(elem,key,data);}else{data=undefined;}}return data;}function isEmptyDataObject(obj){var name;for(name in obj){if(name==="data"&&jQuery.isEmptyObject(obj[name])){continue;}if(name!=="toJSON"){return false;}}return true;}jQuery.extend({queue:function(elem,type,data){var queue;if(elem){type=(type||"fx")+"queue";queue=jQuery._data(elem,type);if(data){if(!queue||jQuery.isArray(data)){queue=jQuery._data(elem,type,jQuery.makeArray(data));}else{queue.push(data);}}return queue||[];}},dequeue:function(elem,type){type=type||"fx";var queue=jQuery.queue(elem,type),startLength=queue.length,fn=queue.shift(),hooks=jQuery._queueHooks(elem,type),next=function(){jQuery.dequeue(elem,type);};if(fn==="inprogress"){fn=queue.shift();startLength--;}if(fn){if(type==="fx"){queue.unshift("inprogress");}delete hooks.stop;fn.call(elem,next,hooks);}if(!startLength&&hooks){hooks.empty.fire();}},_queueHooks:function(elem,type){var key=type+"queueHooks";return jQuery._data(elem,key)||jQuery._data(elem,key,{empty:jQuery.Callbacks("once memory").add(function(){jQuery.removeData(elem,type+"queue",true);jQuery.removeData(elem,key,true);})});}});jQuery.fn.extend({queue:function(type,data){var setter=2;if(typeof type!=="string"){data=type;type="fx";setter--;}if(arguments.length<setter){return jQuery.queue(this[0],type);}return data===undefined?this:this.each(function(){var queue=jQuery.queue(this,type,data);jQuery._queueHooks(this,type);if(type==="fx"&&queue[0]!=="inprogress"){jQuery.dequeue(this,type);}});},dequeue:function(type){return this.each(function(){jQuery.dequeue(this,type);});},delay:function(time,type){time=jQuery.fx?jQuery.fx.speeds[time]||time:time;type=type||"fx";return this.queue(type,function(next,hooks){var timeout=setTimeout(next,time);hooks.stop=function(){clearTimeout(timeout);};});},clearQueue:function(type){return this.queue(type||"fx",[]);},promise:function(type,obj){var tmp,count=1,defer=jQuery.Deferred(),elements=this,i=this.length,resolve=function(){if(!(--count)){defer.resolveWith(elements,[elements]);}};if(typeof type!=="string"){obj=type;type=undefined;}type=type||"fx";while(i--){tmp=jQuery._data(elements[i],type+"queueHooks");if(tmp&&tmp.empty){count++;tmp.empty.add(resolve);}}resolve();return defer.promise(obj);}});var nodeHook,boolHook,fixSpecified,rclass=/[\t\r\n]/g,rreturn=/\r/g,rtype=/^(?:button|input)$/i,rfocusable=/^(?:button|input|object|select|textarea)$/i,rclickable=/^a(?:rea|)$/i,rboolean=/^(?:autofocus|autoplay|async|checked|controls|defer|disabled|hidden|loop|multiple|open|readonly|required|scoped|selected)$/i,getSetAttribute=jQuery.support.getSetAttribute;jQuery.fn.extend({attr:function(name,value){return jQuery.access(this,jQuery.attr,name,value,arguments.length>1);},removeAttr:function(name){return this.each(function(){jQuery.removeAttr(this,name);});},prop:function(name,value){return jQuery.access(this,jQuery.prop,name,value,arguments.length>1);},removeProp:function(name){name=jQuery.propFix[name]||name;return this.each(function(){try{this[name]=undefined;delete this[name];}catch(e){}});},addClass:function(value){var classNames,i,l,elem,setClass,c,cl;if(jQuery.isFunction(value)){return this.each(function(j){jQuery(this).addClass(value.call(this,j,this.className));});}if(value&&typeof value==="string"){classNames=value.split(core_rspace);for(i=0,l=this.length;i<l;i++){elem=this[i];if(elem.nodeType===1){if(!elem.className&&classNames.length===1){elem.className=value;}else{setClass=" "+elem.className+" ";for(c=0,cl=classNames.length;c<cl;c++){if(setClass.indexOf(" "+classNames[c]+" ")<0){setClass+=classNames[c]+" ";}}elem.className=jQuery.trim(setClass);}}}}return this;},removeClass:function(value){var removes,className,elem,c,cl,i,l;if(jQuery.isFunction(value)){return this.each(function(j){jQuery(this).removeClass(value.call(this,j,this.className));});}if((value&&typeof value==="string")||value===undefined){removes=(value||"").split(core_rspace);for(i=0,l=this.length;i<l;i++){elem=this[i];if(elem.nodeType===1&&elem.className){className=(" "+elem.className+" ").replace(rclass," ");for(c=0,cl=removes.length;c<cl;c++){while(className.indexOf(" "+removes[c]+" ")>=0){className=className.replace(" "+removes[c]+" "," ");}}elem.className=value?jQuery.trim(className):"";}}}return this;},toggleClass:function(value,stateVal){var type=typeof value,isBool=typeof stateVal==="boolean";if(jQuery.isFunction(value)){return this.each(function(i){jQuery(this).toggleClass(value.call(this,i,this.className,stateVal),stateVal);});}return this.each(function(){if(type==="string"){var className,i=0,self=jQuery(this),state=stateVal,classNames=value.split(core_rspace);while((className=classNames[i++])){state=isBool?state:!self.hasClass(className);self[state?"addClass":"removeClass"](className);}}else{if(type==="undefined"||type==="boolean"){if(this.className){jQuery._data(this,"__className__",this.className);}this.className=this.className||value===false?"":jQuery._data(this,"__className__")||"";}}});},hasClass:function(selector){var className=" "+selector+" ",i=0,l=this.length;for(;i<l;i++){if(this[i].nodeType===1&&(" "+this[i].className+" ").replace(rclass," ").indexOf(className)>=0){return true;}}return false;},val:function(value){var hooks,ret,isFunction,elem=this[0];if(!arguments.length){if(elem){hooks=jQuery.valHooks[elem.type]||jQuery.valHooks[elem.nodeName.toLowerCase()];if(hooks&&"get" in hooks&&(ret=hooks.get(elem,"value"))!==undefined){return ret;}ret=elem.value;return typeof ret==="string"?ret.replace(rreturn,""):ret==null?"":ret;}return;}isFunction=jQuery.isFunction(value);return this.each(function(i){var val,self=jQuery(this);if(this.nodeType!==1){return;}if(isFunction){val=value.call(this,i,self.val());}else{val=value;}if(val==null){val="";}else{if(typeof val==="number"){val+="";}else{if(jQuery.isArray(val)){val=jQuery.map(val,function(value){return value==null?"":value+"";});}}}hooks=jQuery.valHooks[this.type]||jQuery.valHooks[this.nodeName.toLowerCase()];if(!hooks||!("set" in hooks)||hooks.set(this,val,"value")===undefined){this.value=val;}});}});jQuery.extend({valHooks:{option:{get:function(elem){var val=elem.attributes.value;return !val||val.specified?elem.value:elem.text;}},select:{get:function(elem){var value,option,options=elem.options,index=elem.selectedIndex,one=elem.type==="select-one"||index<0,values=one?null:[],max=one?index+1:options.length,i=index<0?max:one?index:0;for(;i<max;i++){option=options[i];if((option.selected||i===index)&&(jQuery.support.optDisabled?!option.disabled:option.getAttribute("disabled")===null)&&(!option.parentNode.disabled||!jQuery.nodeName(option.parentNode,"optgroup"))){value=jQuery(option).val();if(one){return value;}values.push(value);}}return values;},set:function(elem,value){var values=jQuery.makeArray(value);jQuery(elem).find("option").each(function(){this.selected=jQuery.inArray(jQuery(this).val(),values)>=0;});if(!values.length){elem.selectedIndex=-1;}return values;}}},attrFn:{},attr:function(elem,name,value,pass){var ret,hooks,notxml,nType=elem.nodeType;if(!elem||nType===3||nType===8||nType===2){return;}if(pass&&jQuery.isFunction(jQuery.fn[name])){return jQuery(elem)[name](value);}if(typeof elem.getAttribute==="undefined"){return jQuery.prop(elem,name,value);}notxml=nType!==1||!jQuery.isXMLDoc(elem);if(notxml){name=name.toLowerCase();hooks=jQuery.attrHooks[name]||(rboolean.test(name)?boolHook:nodeHook);}if(value!==undefined){if(value===null){jQuery.removeAttr(elem,name);return;}else{if(hooks&&"set" in hooks&&notxml&&(ret=hooks.set(elem,value,name))!==undefined){return ret;}else{elem.setAttribute(name,value+"");return value;}}}else{if(hooks&&"get" in hooks&&notxml&&(ret=hooks.get(elem,name))!==null){return ret;}else{ret=elem.getAttribute(name);return ret===null?undefined:ret;}}},removeAttr:function(elem,value){var propName,attrNames,name,isBool,i=0;if(value&&elem.nodeType===1){attrNames=value.split(core_rspace);for(;i<attrNames.length;i++){name=attrNames[i];if(name){propName=jQuery.propFix[name]||name;isBool=rboolean.test(name);if(!isBool){jQuery.attr(elem,name,"");}elem.removeAttribute(getSetAttribute?name:propName);if(isBool&&propName in elem){elem[propName]=false;}}}}},attrHooks:{type:{set:function(elem,value){if(rtype.test(elem.nodeName)&&elem.parentNode){jQuery.error("type property can't be changed");}else{if(!jQuery.support.radioValue&&value==="radio"&&jQuery.nodeName(elem,"input")){var val=elem.value;elem.setAttribute("type",value);if(val){elem.value=val;}return value;}}}},value:{get:function(elem,name){if(nodeHook&&jQuery.nodeName(elem,"button")){return nodeHook.get(elem,name);}return name in elem?elem.value:null;},set:function(elem,value,name){if(nodeHook&&jQuery.nodeName(elem,"button")){return nodeHook.set(elem,value,name);}elem.value=value;}}},propFix:{tabindex:"tabIndex",readonly:"readOnly","for":"htmlFor","class":"className",maxlength:"maxLength",cellspacing:"cellSpacing",cellpadding:"cellPadding",rowspan:"rowSpan",colspan:"colSpan",usemap:"useMap",frameborder:"frameBorder",contenteditable:"contentEditable"},prop:function(elem,name,value){var ret,hooks,notxml,nType=elem.nodeType;if(!elem||nType===3||nType===8||nType===2){return;}notxml=nType!==1||!jQuery.isXMLDoc(elem);if(notxml){name=jQuery.propFix[name]||name;hooks=jQuery.propHooks[name];}if(value!==undefined){if(hooks&&"set" in hooks&&(ret=hooks.set(elem,value,name))!==undefined){return ret;}else{return(elem[name]=value);}}else{if(hooks&&"get" in hooks&&(ret=hooks.get(elem,name))!==null){return ret;}else{return elem[name];}}},propHooks:{tabIndex:{get:function(elem){var attributeNode=elem.getAttributeNode("tabindex");return attributeNode&&attributeNode.specified?parseInt(attributeNode.value,10):rfocusable.test(elem.nodeName)||rclickable.test(elem.nodeName)&&elem.href?0:undefined;}}}});boolHook={get:function(elem,name){var attrNode,property=jQuery.prop(elem,name);return property===true||typeof property!=="boolean"&&(attrNode=elem.getAttributeNode(name))&&attrNode.nodeValue!==false?name.toLowerCase():undefined;},set:function(elem,value,name){var propName;if(value===false){jQuery.removeAttr(elem,name);}else{propName=jQuery.propFix[name]||name;if(propName in elem){elem[propName]=true;}elem.setAttribute(name,name.toLowerCase());}return name;}};if(!getSetAttribute){fixSpecified={name:true,id:true,coords:true};nodeHook=jQuery.valHooks.button={get:function(elem,name){var ret;ret=elem.getAttributeNode(name);return ret&&(fixSpecified[name]?ret.value!=="":ret.specified)?ret.value:undefined;},set:function(elem,value,name){var ret=elem.getAttributeNode(name);if(!ret){ret=document.createAttribute(name);elem.setAttributeNode(ret);}return(ret.value=value+"");}};jQuery.each(["width","height"],function(i,name){jQuery.attrHooks[name]=jQuery.extend(jQuery.attrHooks[name],{set:function(elem,value){if(value===""){elem.setAttribute(name,"auto");return value;}}});});jQuery.attrHooks.contenteditable={get:nodeHook.get,set:function(elem,value,name){if(value===""){value="false";}nodeHook.set(elem,value,name);}};}if(!jQuery.support.hrefNormalized){jQuery.each(["href","src","width","height"],function(i,name){jQuery.attrHooks[name]=jQuery.extend(jQuery.attrHooks[name],{get:function(elem){var ret=elem.getAttribute(name,2);return ret===null?undefined:ret;}});});}if(!jQuery.support.style){jQuery.attrHooks.style={get:function(elem){return elem.style.cssText.toLowerCase()||undefined;},set:function(elem,value){return(elem.style.cssText=value+"");}};}if(!jQuery.support.optSelected){jQuery.propHooks.selected=jQuery.extend(jQuery.propHooks.selected,{get:function(elem){var parent=elem.parentNode;if(parent){parent.selectedIndex;if(parent.parentNode){parent.parentNode.selectedIndex;}}return null;}});}if(!jQuery.support.enctype){jQuery.propFix.enctype="encoding";}if(!jQuery.support.checkOn){jQuery.each(["radio","checkbox"],function(){jQuery.valHooks[this]={get:function(elem){return elem.getAttribute("value")===null?"on":elem.value;}};});}jQuery.each(["radio","checkbox"],function(){jQuery.valHooks[this]=jQuery.extend(jQuery.valHooks[this],{set:function(elem,value){if(jQuery.isArray(value)){return(elem.checked=jQuery.inArray(jQuery(elem).val(),value)>=0);}}});});var rformElems=/^(?:textarea|input|select)$/i,rtypenamespace=/^([^\.]*|)(?:\.(.+)|)$/,rhoverHack=/(?:^|\s)hover(\.\S+|)\b/,rkeyEvent=/^key/,rmouseEvent=/^(?:mouse|contextmenu)|click/,rfocusMorph=/^(?:focusinfocus|focusoutblur)$/,hoverHack=function(events){return jQuery.event.special.hover?events:events.replace(rhoverHack,"mouseenter$1 mouseleave$1");};jQuery.event={add:function(elem,types,handler,data,selector){var elemData,eventHandle,events,t,tns,type,namespaces,handleObj,handleObjIn,handlers,special;if(elem.nodeType===3||elem.nodeType===8||!types||!handler||!(elemData=jQuery._data(elem))){return;}if(handler.handler){handleObjIn=handler;handler=handleObjIn.handler;selector=handleObjIn.selector;}if(!handler.guid){handler.guid=jQuery.guid++;}events=elemData.events;if(!events){elemData.events=events={};}eventHandle=elemData.handle;if(!eventHandle){elemData.handle=eventHandle=function(e){return typeof jQuery!=="undefined"&&(!e||jQuery.event.triggered!==e.type)?jQuery.event.dispatch.apply(eventHandle.elem,arguments):undefined;};eventHandle.elem=elem;}types=jQuery.trim(hoverHack(types)).split(" ");for(t=0;t<types.length;t++){tns=rtypenamespace.exec(types[t])||[];type=tns[1];namespaces=(tns[2]||"").split(".").sort();special=jQuery.event.special[type]||{};type=(selector?special.delegateType:special.bindType)||type;special=jQuery.event.special[type]||{};handleObj=jQuery.extend({type:type,origType:tns[1],data:data,handler:handler,guid:handler.guid,selector:selector,needsContext:selector&&jQuery.expr.match.needsContext.test(selector),namespace:namespaces.join(".")},handleObjIn);handlers=events[type];if(!handlers){handlers=events[type]=[];handlers.delegateCount=0;if(!special.setup||special.setup.call(elem,data,namespaces,eventHandle)===false){if(elem.addEventListener){elem.addEventListener(type,eventHandle,false);}else{if(elem.attachEvent){elem.attachEvent("on"+type,eventHandle);}}}}if(special.add){special.add.call(elem,handleObj);if(!handleObj.handler.guid){handleObj.handler.guid=handler.guid;}}if(selector){handlers.splice(handlers.delegateCount++,0,handleObj);}else{handlers.push(handleObj);}jQuery.event.global[type]=true;}elem=null;},global:{},remove:function(elem,types,handler,selector,mappedTypes){var t,tns,type,origType,namespaces,origCount,j,events,special,eventType,handleObj,elemData=jQuery.hasData(elem)&&jQuery._data(elem);if(!elemData||!(events=elemData.events)){return;}types=jQuery.trim(hoverHack(types||"")).split(" ");for(t=0;t<types.length;t++){tns=rtypenamespace.exec(types[t])||[];type=origType=tns[1];namespaces=tns[2];if(!type){for(type in events){jQuery.event.remove(elem,type+types[t],handler,selector,true);}continue;}special=jQuery.event.special[type]||{};type=(selector?special.delegateType:special.bindType)||type;eventType=events[type]||[];origCount=eventType.length;namespaces=namespaces?new RegExp("(^|\\.)"+namespaces.split(".").sort().join("\\.(?:.*\\.|)")+"(\\.|$)"):null;for(j=0;j<eventType.length;j++){handleObj=eventType[j];if((mappedTypes||origType===handleObj.origType)&&(!handler||handler.guid===handleObj.guid)&&(!namespaces||namespaces.test(handleObj.namespace))&&(!selector||selector===handleObj.selector||selector==="**"&&handleObj.selector)){eventType.splice(j--,1);if(handleObj.selector){eventType.delegateCount--;}if(special.remove){special.remove.call(elem,handleObj);}}}if(eventType.length===0&&origCount!==eventType.length){if(!special.teardown||special.teardown.call(elem,namespaces,elemData.handle)===false){jQuery.removeEvent(elem,type,elemData.handle);}delete events[type];}}if(jQuery.isEmptyObject(events)){delete elemData.handle;jQuery.removeData(elem,"events",true);}},customEvent:{getData:true,setData:true,changeData:true},trigger:function(event,data,elem,onlyHandlers){if(elem&&(elem.nodeType===3||elem.nodeType===8)){return;}var cache,exclusive,i,cur,old,ontype,special,handle,eventPath,bubbleType,type=event.type||event,namespaces=[];if(rfocusMorph.test(type+jQuery.event.triggered)){return;}if(type.indexOf("!")>=0){type=type.slice(0,-1);exclusive=true;}if(type.indexOf(".")>=0){namespaces=type.split(".");type=namespaces.shift();namespaces.sort();}if((!elem||jQuery.event.customEvent[type])&&!jQuery.event.global[type]){return;}event=typeof event==="object"?event[jQuery.expando]?event:new jQuery.Event(type,event):new jQuery.Event(type);event.type=type;event.isTrigger=true;event.exclusive=exclusive;event.namespace=namespaces.join(".");event.namespace_re=event.namespace?new RegExp("(^|\\.)"+namespaces.join("\\.(?:.*\\.|)")+"(\\.|$)"):null;ontype=type.indexOf(":")<0?"on"+type:"";if(!elem){cache=jQuery.cache;for(i in cache){if(cache[i].events&&cache[i].events[type]){jQuery.event.trigger(event,data,cache[i].handle.elem,true);}}return;}event.result=undefined;if(!event.target){event.target=elem;}data=data!=null?jQuery.makeArray(data):[];data.unshift(event);special=jQuery.event.special[type]||{};if(special.trigger&&special.trigger.apply(elem,data)===false){return;}eventPath=[[elem,special.bindType||type]];if(!onlyHandlers&&!special.noBubble&&!jQuery.isWindow(elem)){bubbleType=special.delegateType||type;cur=rfocusMorph.test(bubbleType+type)?elem:elem.parentNode;for(old=elem;cur;cur=cur.parentNode){eventPath.push([cur,bubbleType]);old=cur;}if(old===(elem.ownerDocument||document)){eventPath.push([old.defaultView||old.parentWindow||window,bubbleType]);}}for(i=0;i<eventPath.length&&!event.isPropagationStopped();i++){cur=eventPath[i][0];event.type=eventPath[i][1];handle=(jQuery._data(cur,"events")||{})[event.type]&&jQuery._data(cur,"handle");if(handle){handle.apply(cur,data);}handle=ontype&&cur[ontype];if(handle&&jQuery.acceptData(cur)&&handle.apply&&handle.apply(cur,data)===false){event.preventDefault();}}event.type=type;if(!onlyHandlers&&!event.isDefaultPrevented()){if((!special._default||special._default.apply(elem.ownerDocument,data)===false)&&!(type==="click"&&jQuery.nodeName(elem,"a"))&&jQuery.acceptData(elem)){if(ontype&&elem[type]&&((type!=="focus"&&type!=="blur")||event.target.offsetWidth!==0)&&!jQuery.isWindow(elem)){old=elem[ontype];if(old){elem[ontype]=null;}jQuery.event.triggered=type;elem[type]();jQuery.event.triggered=undefined;if(old){elem[ontype]=old;}}}}return event.result;},dispatch:function(event){event=jQuery.event.fix(event||window.event);var i,j,cur,ret,selMatch,matched,matches,handleObj,sel,related,handlers=((jQuery._data(this,"events")||{})[event.type]||[]),delegateCount=handlers.delegateCount,args=core_slice.call(arguments),run_all=!event.exclusive&&!event.namespace,special=jQuery.event.special[event.type]||{},handlerQueue=[];args[0]=event;event.delegateTarget=this;if(special.preDispatch&&special.preDispatch.call(this,event)===false){return;}if(delegateCount&&!(event.button&&event.type==="click")){for(cur=event.target;cur!=this;cur=cur.parentNode||this){if(cur.disabled!==true||event.type!=="click"){selMatch={};matches=[];for(i=0;i<delegateCount;i++){handleObj=handlers[i];sel=handleObj.selector;if(selMatch[sel]===undefined){selMatch[sel]=handleObj.needsContext?jQuery(sel,this).index(cur)>=0:jQuery.find(sel,this,null,[cur]).length;}if(selMatch[sel]){matches.push(handleObj);}}if(matches.length){handlerQueue.push({elem:cur,matches:matches});}}}}if(handlers.length>delegateCount){handlerQueue.push({elem:this,matches:handlers.slice(delegateCount)});}for(i=0;i<handlerQueue.length&&!event.isPropagationStopped();i++){matched=handlerQueue[i];event.currentTarget=matched.elem;for(j=0;j<matched.matches.length&&!event.isImmediatePropagationStopped();j++){handleObj=matched.matches[j];if(run_all||(!event.namespace&&!handleObj.namespace)||event.namespace_re&&event.namespace_re.test(handleObj.namespace)){event.data=handleObj.data;event.handleObj=handleObj;ret=((jQuery.event.special[handleObj.origType]||{}).handle||handleObj.handler).apply(matched.elem,args);if(ret!==undefined){event.result=ret;if(ret===false){event.preventDefault();event.stopPropagation();}}}}}if(special.postDispatch){special.postDispatch.call(this,event);}return event.result;},props:"attrChange attrName relatedNode srcElement altKey bubbles cancelable ctrlKey currentTarget eventPhase metaKey relatedTarget shiftKey target timeStamp view which".split(" "),fixHooks:{},keyHooks:{props:"char charCode key keyCode".split(" "),filter:function(event,original){if(event.which==null){event.which=original.charCode!=null?original.charCode:original.keyCode;}return event;}},mouseHooks:{props:"button buttons clientX clientY fromElement offsetX offsetY pageX pageY screenX screenY toElement".split(" "),filter:function(event,original){var eventDoc,doc,body,button=original.button,fromElement=original.fromElement;if(event.pageX==null&&original.clientX!=null){eventDoc=event.target.ownerDocument||document;doc=eventDoc.documentElement;body=eventDoc.body;event.pageX=original.clientX+(doc&&doc.scrollLeft||body&&body.scrollLeft||0)-(doc&&doc.clientLeft||body&&body.clientLeft||0);event.pageY=original.clientY+(doc&&doc.scrollTop||body&&body.scrollTop||0)-(doc&&doc.clientTop||body&&body.clientTop||0);}if(!event.relatedTarget&&fromElement){event.relatedTarget=fromElement===event.target?original.toElement:fromElement;}if(!event.which&&button!==undefined){event.which=(button&1?1:(button&2?3:(button&4?2:0)));}return event;}},fix:function(event){if(event[jQuery.expando]){return event;}var i,prop,originalEvent=event,fixHook=jQuery.event.fixHooks[event.type]||{},copy=fixHook.props?this.props.concat(fixHook.props):this.props;event=jQuery.Event(originalEvent);for(i=copy.length;i;){prop=copy[--i];event[prop]=originalEvent[prop];}if(!event.target){event.target=originalEvent.srcElement||document;}if(event.target.nodeType===3){event.target=event.target.parentNode;}event.metaKey=!!event.metaKey;return fixHook.filter?fixHook.filter(event,originalEvent):event;},special:{load:{noBubble:true},focus:{delegateType:"focusin"},blur:{delegateType:"focusout"},beforeunload:{setup:function(data,namespaces,eventHandle){if(jQuery.isWindow(this)){this.onbeforeunload=eventHandle;}},teardown:function(namespaces,eventHandle){if(this.onbeforeunload===eventHandle){this.onbeforeunload=null;}}}},simulate:function(type,elem,event,bubble){var e=jQuery.extend(new jQuery.Event(),event,{type:type,isSimulated:true,originalEvent:{}});if(bubble){jQuery.event.trigger(e,null,elem);}else{jQuery.event.dispatch.call(elem,e);}if(e.isDefaultPrevented()){event.preventDefault();}}};jQuery.event.handle=jQuery.event.dispatch;jQuery.removeEvent=document.removeEventListener?function(elem,type,handle){if(elem.removeEventListener){elem.removeEventListener(type,handle,false);}}:function(elem,type,handle){var name="on"+type;if(elem.detachEvent){if(typeof elem[name]==="undefined"){elem[name]=null;}elem.detachEvent(name,handle);}};jQuery.Event=function(src,props){if(!(this instanceof jQuery.Event)){return new jQuery.Event(src,props);}if(src&&src.type){this.originalEvent=src;this.type=src.type;this.isDefaultPrevented=(src.defaultPrevented||src.returnValue===false||src.getPreventDefault&&src.getPreventDefault())?returnTrue:returnFalse;}else{this.type=src;}if(props){jQuery.extend(this,props);}this.timeStamp=src&&src.timeStamp||jQuery.now();this[jQuery.expando]=true;};function returnFalse(){return false;}function returnTrue(){return true;}jQuery.Event.prototype={preventDefault:function(){this.isDefaultPrevented=returnTrue;var e=this.originalEvent;if(!e){return;}if(e.preventDefault){e.preventDefault();}else{e.returnValue=false;}},stopPropagation:function(){this.isPropagationStopped=returnTrue;var e=this.originalEvent;if(!e){return;}if(e.stopPropagation){e.stopPropagation();}e.cancelBubble=true;},stopImmediatePropagation:function(){this.isImmediatePropagationStopped=returnTrue;this.stopPropagation();},isDefaultPrevented:returnFalse,isPropagationStopped:returnFalse,isImmediatePropagationStopped:returnFalse};jQuery.each({mouseenter:"mouseover",mouseleave:"mouseout"},function(orig,fix){jQuery.event.special[orig]={delegateType:fix,bindType:fix,handle:function(event){var ret,target=this,related=event.relatedTarget,handleObj=event.handleObj,selector=handleObj.selector;if(!related||(related!==target&&!jQuery.contains(target,related))){event.type=handleObj.origType;ret=handleObj.handler.apply(this,arguments);event.type=fix;}return ret;}};});if(!jQuery.support.submitBubbles){jQuery.event.special.submit={setup:function(){if(jQuery.nodeName(this,"form")){return false;}jQuery.event.add(this,"click._submit keypress._submit",function(e){var elem=e.target,form=jQuery.nodeName(elem,"input")||jQuery.nodeName(elem,"button")?elem.form:undefined;if(form&&!jQuery._data(form,"_submit_attached")){jQuery.event.add(form,"submit._submit",function(event){event._submit_bubble=true;});jQuery._data(form,"_submit_attached",true);}});},postDispatch:function(event){if(event._submit_bubble){delete event._submit_bubble;if(this.parentNode&&!event.isTrigger){jQuery.event.simulate("submit",this.parentNode,event,true);}}},teardown:function(){if(jQuery.nodeName(this,"form")){return false;}jQuery.event.remove(this,"._submit");}};}if(!jQuery.support.changeBubbles){jQuery.event.special.change={setup:function(){if(rformElems.test(this.nodeName)){if(this.type==="checkbox"||this.type==="radio"){jQuery.event.add(this,"propertychange._change",function(event){if(event.originalEvent.propertyName==="checked"){this._just_changed=true;}});jQuery.event.add(this,"click._change",function(event){if(this._just_changed&&!event.isTrigger){this._just_changed=false;}jQuery.event.simulate("change",this,event,true);});}return false;}jQuery.event.add(this,"beforeactivate._change",function(e){var elem=e.target;if(rformElems.test(elem.nodeName)&&!jQuery._data(elem,"_change_attached")){jQuery.event.add(elem,"change._change",function(event){if(this.parentNode&&!event.isSimulated&&!event.isTrigger){jQuery.event.simulate("change",this.parentNode,event,true);}});jQuery._data(elem,"_change_attached",true);}});},handle:function(event){var elem=event.target;if(this!==elem||event.isSimulated||event.isTrigger||(elem.type!=="radio"&&elem.type!=="checkbox")){return event.handleObj.handler.apply(this,arguments);}},teardown:function(){jQuery.event.remove(this,"._change");return !rformElems.test(this.nodeName);}};}if(!jQuery.support.focusinBubbles){jQuery.each({focus:"focusin",blur:"focusout"},function(orig,fix){var attaches=0,handler=function(event){jQuery.event.simulate(fix,event.target,jQuery.event.fix(event),true);};jQuery.event.special[fix]={setup:function(){if(attaches++===0){document.addEventListener(orig,handler,true);}},teardown:function(){if(--attaches===0){document.removeEventListener(orig,handler,true);}}};});}jQuery.fn.extend({on:function(types,selector,data,fn,one){var origFn,type;if(typeof types==="object"){if(typeof selector!=="string"){data=data||selector;selector=undefined;}for(type in types){this.on(type,selector,data,types[type],one);}return this;}if(data==null&&fn==null){fn=selector;data=selector=undefined;}else{if(fn==null){if(typeof selector==="string"){fn=data;data=undefined;}else{fn=data;data=selector;selector=undefined;}}}if(fn===false){fn=returnFalse;}else{if(!fn){return this;}}if(one===1){origFn=fn;fn=function(event){jQuery().off(event);return origFn.apply(this,arguments);};fn.guid=origFn.guid||(origFn.guid=jQuery.guid++);}return this.each(function(){jQuery.event.add(this,types,fn,data,selector);});},one:function(types,selector,data,fn){return this.on(types,selector,data,fn,1);},off:function(types,selector,fn){var handleObj,type;if(types&&types.preventDefault&&types.handleObj){handleObj=types.handleObj;jQuery(types.delegateTarget).off(handleObj.namespace?handleObj.origType+"."+handleObj.namespace:handleObj.origType,handleObj.selector,handleObj.handler);return this;}if(typeof types==="object"){for(type in types){this.off(type,selector,types[type]);}return this;}if(selector===false||typeof selector==="function"){fn=selector;selector=undefined;}if(fn===false){fn=returnFalse;}return this.each(function(){jQuery.event.remove(this,types,fn,selector);});},bind:function(types,data,fn){return this.on(types,null,data,fn);},unbind:function(types,fn){return this.off(types,null,fn);},live:function(types,data,fn){jQuery(this.context).on(types,this.selector,data,fn);return this;},die:function(types,fn){jQuery(this.context).off(types,this.selector||"**",fn);return this;},delegate:function(selector,types,data,fn){return this.on(types,selector,data,fn);},undelegate:function(selector,types,fn){return arguments.length===1?this.off(selector,"**"):this.off(types,selector||"**",fn);},trigger:function(type,data){return this.each(function(){jQuery.event.trigger(type,data,this);});},triggerHandler:function(type,data){if(this[0]){return jQuery.event.trigger(type,data,this[0],true);}},toggle:function(fn){var args=arguments,guid=fn.guid||jQuery.guid++,i=0,toggler=function(event){var lastToggle=(jQuery._data(this,"lastToggle"+fn.guid)||0)%i;jQuery._data(this,"lastToggle"+fn.guid,lastToggle+1);event.preventDefault();return args[lastToggle].apply(this,arguments)||false;};toggler.guid=guid;while(i<args.length){args[i++].guid=guid;}return this.click(toggler);},hover:function(fnOver,fnOut){return this.mouseenter(fnOver).mouseleave(fnOut||fnOver);}});jQuery.each(("blur focus focusin focusout load resize scroll unload click dblclick mousedown mouseup mousemove mouseover mouseout mouseenter mouseleave change select submit keydown keypress keyup error contextmenu").split(" "),function(i,name){jQuery.fn[name]=function(data,fn){if(fn==null){fn=data;data=null;}return arguments.length>0?this.on(name,null,data,fn):this.trigger(name);};if(rkeyEvent.test(name)){jQuery.event.fixHooks[name]=jQuery.event.keyHooks;}if(rmouseEvent.test(name)){jQuery.event.fixHooks[name]=jQuery.event.mouseHooks;}});
/*
 * Sizzle CSS Selector Engine
 * Copyright 2012 jQuery Foundation and other contributors
 * Released under the MIT license
 * http://sizzlejs.com/
 */
(function(window,undefined){var cachedruns,assertGetIdNotName,Expr,getText,isXML,contains,compile,sortOrder,hasDuplicate,outermostContext,baseHasDuplicate=true,strundefined="undefined",expando=("sizcache"+Math.random()).replace(".",""),Token=String,document=window.document,docElem=document.documentElement,dirruns=0,done=0,pop=[].pop,push=[].push,slice=[].slice,indexOf=[].indexOf||function(elem){var i=0,len=this.length;for(;i<len;i++){if(this[i]===elem){return i;}}return -1;},markFunction=function(fn,value){fn[expando]=value==null||value;return fn;},createCache=function(){var cache={},keys=[];return markFunction(function(key,value){if(keys.push(key)>Expr.cacheLength){delete cache[keys.shift()];}return(cache[key+" "]=value);},cache);},classCache=createCache(),tokenCache=createCache(),compilerCache=createCache(),whitespace="[\\x20\\t\\r\\n\\f]",characterEncoding="(?:\\\\.|[-\\w]|[^\\x00-\\xa0])+",identifier=characterEncoding.replace("w","w#"),operators="([*^$|!~]?=)",attributes="\\["+whitespace+"*("+characterEncoding+")"+whitespace+"*(?:"+operators+whitespace+"*(?:(['\"])((?:\\\\.|[^\\\\])*?)\\3|("+identifier+")|)|)"+whitespace+"*\\]",pseudos=":("+characterEncoding+")(?:\\((?:(['\"])((?:\\\\.|[^\\\\])*?)\\2|([^()[\\]]*|(?:(?:"+attributes+")|[^:]|\\\\.)*|.*))\\)|)",pos=":(even|odd|eq|gt|lt|nth|first|last)(?:\\("+whitespace+"*((?:-\\d)?\\d*)"+whitespace+"*\\)|)(?=[^-]|$)",rtrim=new RegExp("^"+whitespace+"+|((?:^|[^\\\\])(?:\\\\.)*)"+whitespace+"+$","g"),rcomma=new RegExp("^"+whitespace+"*,"+whitespace+"*"),rcombinators=new RegExp("^"+whitespace+"*([\\x20\\t\\r\\n\\f>+~])"+whitespace+"*"),rpseudo=new RegExp(pseudos),rquickExpr=/^(?:#([\w\-]+)|(\w+)|\.([\w\-]+))$/,rnot=/^:not/,rsibling=/[\x20\t\r\n\f]*[+~]/,rendsWithNot=/:not\($/,rheader=/h\d/i,rinputs=/input|select|textarea|button/i,rbackslash=/\\(?!\\)/g,matchExpr={ID:new RegExp("^#("+characterEncoding+")"),CLASS:new RegExp("^\\.("+characterEncoding+")"),NAME:new RegExp("^\\[name=['\"]?("+characterEncoding+")['\"]?\\]"),TAG:new RegExp("^("+characterEncoding.replace("w","w*")+")"),ATTR:new RegExp("^"+attributes),PSEUDO:new RegExp("^"+pseudos),POS:new RegExp(pos,"i"),CHILD:new RegExp("^:(only|nth|first|last)-child(?:\\("+whitespace+"*(even|odd|(([+-]|)(\\d*)n|)"+whitespace+"*(?:([+-]|)"+whitespace+"*(\\d+)|))"+whitespace+"*\\)|)","i"),needsContext:new RegExp("^"+whitespace+"*[>+~]|"+pos,"i")},assert=function(fn){var div=document.createElement("div");try{return fn(div);}catch(e){return false;}finally{div=null;}},assertTagNameNoComments=assert(function(div){div.appendChild(document.createComment(""));return !div.getElementsByTagName("*").length;}),assertHrefNotNormalized=assert(function(div){div.innerHTML="<a href='#'></a>";return div.firstChild&&typeof div.firstChild.getAttribute!==strundefined&&div.firstChild.getAttribute("href")==="#";}),assertAttributes=assert(function(div){div.innerHTML="<select></select>";var type=typeof div.lastChild.getAttribute("multiple");return type!=="boolean"&&type!=="string";}),assertUsableClassName=assert(function(div){div.innerHTML="<div class='hidden e'></div><div class='hidden'></div>";if(!div.getElementsByClassName||!div.getElementsByClassName("e").length){return false;}div.lastChild.className="e";return div.getElementsByClassName("e").length===2;}),assertUsableName=assert(function(div){div.id=expando+0;div.innerHTML="<a name='"+expando+"'></a><div name='"+expando+"'></div>";docElem.insertBefore(div,docElem.firstChild);var pass=document.getElementsByName&&document.getElementsByName(expando).length===2+document.getElementsByName(expando+0).length;assertGetIdNotName=!document.getElementById(expando);docElem.removeChild(div);return pass;});try{slice.call(docElem.childNodes,0)[0].nodeType;}catch(e){slice=function(i){var elem,results=[];for(;(elem=this[i]);i++){results.push(elem);}return results;};}function Sizzle(selector,context,results,seed){results=results||[];context=context||document;var match,elem,xml,m,nodeType=context.nodeType;if(!selector||typeof selector!=="string"){return results;}if(nodeType!==1&&nodeType!==9){return[];}xml=isXML(context);if(!xml&&!seed){if((match=rquickExpr.exec(selector))){if((m=match[1])){if(nodeType===9){elem=context.getElementById(m);if(elem&&elem.parentNode){if(elem.id===m){results.push(elem);return results;}}else{return results;}}else{if(context.ownerDocument&&(elem=context.ownerDocument.getElementById(m))&&contains(context,elem)&&elem.id===m){results.push(elem);return results;}}}else{if(match[2]){push.apply(results,slice.call(context.getElementsByTagName(selector),0));return results;}else{if((m=match[3])&&assertUsableClassName&&context.getElementsByClassName){push.apply(results,slice.call(context.getElementsByClassName(m),0));return results;}}}}}return select(selector.replace(rtrim,"$1"),context,results,seed,xml);}Sizzle.matches=function(expr,elements){return Sizzle(expr,null,null,elements);};Sizzle.matchesSelector=function(elem,expr){return Sizzle(expr,null,null,[elem]).length>0;};function createInputPseudo(type){return function(elem){var name=elem.nodeName.toLowerCase();return name==="input"&&elem.type===type;};}function createButtonPseudo(type){return function(elem){var name=elem.nodeName.toLowerCase();return(name==="input"||name==="button")&&elem.type===type;};}function createPositionalPseudo(fn){return markFunction(function(argument){argument=+argument;return markFunction(function(seed,matches){var j,matchIndexes=fn([],seed.length,argument),i=matchIndexes.length;while(i--){if(seed[(j=matchIndexes[i])]){seed[j]=!(matches[j]=seed[j]);}}});});}getText=Sizzle.getText=function(elem){var node,ret="",i=0,nodeType=elem.nodeType;if(nodeType){if(nodeType===1||nodeType===9||nodeType===11){if(typeof elem.textContent==="string"){return elem.textContent;}else{for(elem=elem.firstChild;elem;elem=elem.nextSibling){ret+=getText(elem);}}}else{if(nodeType===3||nodeType===4){return elem.nodeValue;}}}else{for(;(node=elem[i]);i++){ret+=getText(node);}}return ret;};isXML=Sizzle.isXML=function(elem){var documentElement=elem&&(elem.ownerDocument||elem).documentElement;return documentElement?documentElement.nodeName!=="HTML":false;};contains=Sizzle.contains=docElem.contains?function(a,b){var adown=a.nodeType===9?a.documentElement:a,bup=b&&b.parentNode;return a===bup||!!(bup&&bup.nodeType===1&&adown.contains&&adown.contains(bup));}:docElem.compareDocumentPosition?function(a,b){return b&&!!(a.compareDocumentPosition(b)&16);}:function(a,b){while((b=b.parentNode)){if(b===a){return true;}}return false;};Sizzle.attr=function(elem,name){var val,xml=isXML(elem);if(!xml){name=name.toLowerCase();}if((val=Expr.attrHandle[name])){return val(elem);}if(xml||assertAttributes){return elem.getAttribute(name);}val=elem.getAttributeNode(name);return val?typeof elem[name]==="boolean"?elem[name]?name:null:val.specified?val.value:null:null;};Expr=Sizzle.selectors={cacheLength:50,createPseudo:markFunction,match:matchExpr,attrHandle:assertHrefNotNormalized?{}:{href:function(elem){return elem.getAttribute("href",2);},type:function(elem){return elem.getAttribute("type");}},find:{ID:assertGetIdNotName?function(id,context,xml){if(typeof context.getElementById!==strundefined&&!xml){var m=context.getElementById(id);return m&&m.parentNode?[m]:[];}}:function(id,context,xml){if(typeof context.getElementById!==strundefined&&!xml){var m=context.getElementById(id);return m?m.id===id||typeof m.getAttributeNode!==strundefined&&m.getAttributeNode("id").value===id?[m]:undefined:[];}},TAG:assertTagNameNoComments?function(tag,context){if(typeof context.getElementsByTagName!==strundefined){return context.getElementsByTagName(tag);}}:function(tag,context){var results=context.getElementsByTagName(tag);if(tag==="*"){var elem,tmp=[],i=0;for(;(elem=results[i]);i++){if(elem.nodeType===1){tmp.push(elem);}}return tmp;}return results;},NAME:assertUsableName&&function(tag,context){if(typeof context.getElementsByName!==strundefined){return context.getElementsByName(name);}},CLASS:assertUsableClassName&&function(className,context,xml){if(typeof context.getElementsByClassName!==strundefined&&!xml){return context.getElementsByClassName(className);}}},relative:{">":{dir:"parentNode",first:true}," ":{dir:"parentNode"},"+":{dir:"previousSibling",first:true},"~":{dir:"previousSibling"}},preFilter:{ATTR:function(match){match[1]=match[1].replace(rbackslash,"");match[3]=(match[4]||match[5]||"").replace(rbackslash,"");if(match[2]==="~="){match[3]=" "+match[3]+" ";}return match.slice(0,4);},CHILD:function(match){match[1]=match[1].toLowerCase();if(match[1]==="nth"){if(!match[2]){Sizzle.error(match[0]);}match[3]=+(match[3]?match[4]+(match[5]||1):2*(match[2]==="even"||match[2]==="odd"));match[4]=+((match[6]+match[7])||match[2]==="odd");}else{if(match[2]){Sizzle.error(match[0]);}}return match;},PSEUDO:function(match){var unquoted,excess;if(matchExpr.CHILD.test(match[0])){return null;}if(match[3]){match[2]=match[3];}else{if((unquoted=match[4])){if(rpseudo.test(unquoted)&&(excess=tokenize(unquoted,true))&&(excess=unquoted.indexOf(")",unquoted.length-excess)-unquoted.length)){unquoted=unquoted.slice(0,excess);match[0]=match[0].slice(0,excess);}match[2]=unquoted;}}return match.slice(0,3);}},filter:{ID:assertGetIdNotName?function(id){id=id.replace(rbackslash,"");return function(elem){return elem.getAttribute("id")===id;};}:function(id){id=id.replace(rbackslash,"");return function(elem){var node=typeof elem.getAttributeNode!==strundefined&&elem.getAttributeNode("id");return node&&node.value===id;};},TAG:function(nodeName){if(nodeName==="*"){return function(){return true;};}nodeName=nodeName.replace(rbackslash,"").toLowerCase();return function(elem){return elem.nodeName&&elem.nodeName.toLowerCase()===nodeName;};},CLASS:function(className){var pattern=classCache[expando][className+" "];return pattern||(pattern=new RegExp("(^|"+whitespace+")"+className+"("+whitespace+"|$)"))&&classCache(className,function(elem){return pattern.test(elem.className||(typeof elem.getAttribute!==strundefined&&elem.getAttribute("class"))||"");});},ATTR:function(name,operator,check){return function(elem,context){var result=Sizzle.attr(elem,name);if(result==null){return operator==="!=";}if(!operator){return true;}result+="";return operator==="="?result===check:operator==="!="?result!==check:operator==="^="?check&&result.indexOf(check)===0:operator==="*="?check&&result.indexOf(check)>-1:operator==="$="?check&&result.substr(result.length-check.length)===check:operator==="~="?(" "+result+" ").indexOf(check)>-1:operator==="|="?result===check||result.substr(0,check.length+1)===check+"-":false;};},CHILD:function(type,argument,first,last){if(type==="nth"){return function(elem){var node,diff,parent=elem.parentNode;if(first===1&&last===0){return true;}if(parent){diff=0;for(node=parent.firstChild;node;node=node.nextSibling){if(node.nodeType===1){diff++;if(elem===node){break;}}}}diff-=last;return diff===first||(diff%first===0&&diff/first>=0);};}return function(elem){var node=elem;switch(type){case"only":case"first":while((node=node.previousSibling)){if(node.nodeType===1){return false;}}if(type==="first"){return true;}node=elem;case"last":while((node=node.nextSibling)){if(node.nodeType===1){return false;}}return true;}};},PSEUDO:function(pseudo,argument){var args,fn=Expr.pseudos[pseudo]||Expr.setFilters[pseudo.toLowerCase()]||Sizzle.error("unsupported pseudo: "+pseudo);if(fn[expando]){return fn(argument);}if(fn.length>1){args=[pseudo,pseudo,"",argument];return Expr.setFilters.hasOwnProperty(pseudo.toLowerCase())?markFunction(function(seed,matches){var idx,matched=fn(seed,argument),i=matched.length;while(i--){idx=indexOf.call(seed,matched[i]);seed[idx]=!(matches[idx]=matched[i]);}}):function(elem){return fn(elem,0,args);};}return fn;}},pseudos:{not:markFunction(function(selector){var input=[],results=[],matcher=compile(selector.replace(rtrim,"$1"));return matcher[expando]?markFunction(function(seed,matches,context,xml){var elem,unmatched=matcher(seed,null,xml,[]),i=seed.length;while(i--){if((elem=unmatched[i])){seed[i]=!(matches[i]=elem);}}}):function(elem,context,xml){input[0]=elem;matcher(input,null,xml,results);return !results.pop();};}),has:markFunction(function(selector){return function(elem){return Sizzle(selector,elem).length>0;};}),contains:markFunction(function(text){return function(elem){return(elem.textContent||elem.innerText||getText(elem)).indexOf(text)>-1;};}),enabled:function(elem){return elem.disabled===false;},disabled:function(elem){return elem.disabled===true;},checked:function(elem){var nodeName=elem.nodeName.toLowerCase();return(nodeName==="input"&&!!elem.checked)||(nodeName==="option"&&!!elem.selected);},selected:function(elem){if(elem.parentNode){elem.parentNode.selectedIndex;}return elem.selected===true;},parent:function(elem){return !Expr.pseudos.empty(elem);},empty:function(elem){var nodeType;elem=elem.firstChild;while(elem){if(elem.nodeName>"@"||(nodeType=elem.nodeType)===3||nodeType===4){return false;}elem=elem.nextSibling;}return true;},header:function(elem){return rheader.test(elem.nodeName);},text:function(elem){var type,attr;return elem.nodeName.toLowerCase()==="input"&&(type=elem.type)==="text"&&((attr=elem.getAttribute("type"))==null||attr.toLowerCase()===type);},radio:createInputPseudo("radio"),checkbox:createInputPseudo("checkbox"),file:createInputPseudo("file"),password:createInputPseudo("password"),image:createInputPseudo("image"),submit:createButtonPseudo("submit"),reset:createButtonPseudo("reset"),button:function(elem){var name=elem.nodeName.toLowerCase();return name==="input"&&elem.type==="button"||name==="button";},input:function(elem){return rinputs.test(elem.nodeName);},focus:function(elem){var doc=elem.ownerDocument;return elem===doc.activeElement&&(!doc.hasFocus||doc.hasFocus())&&!!(elem.type||elem.href||~elem.tabIndex);},active:function(elem){return elem===elem.ownerDocument.activeElement;},first:createPositionalPseudo(function(){return[0];}),last:createPositionalPseudo(function(matchIndexes,length){return[length-1];}),eq:createPositionalPseudo(function(matchIndexes,length,argument){return[argument<0?argument+length:argument];}),even:createPositionalPseudo(function(matchIndexes,length){for(var i=0;i<length;i+=2){matchIndexes.push(i);}return matchIndexes;}),odd:createPositionalPseudo(function(matchIndexes,length){for(var i=1;i<length;i+=2){matchIndexes.push(i);}return matchIndexes;}),lt:createPositionalPseudo(function(matchIndexes,length,argument){for(var i=argument<0?argument+length:argument;--i>=0;){matchIndexes.push(i);}return matchIndexes;}),gt:createPositionalPseudo(function(matchIndexes,length,argument){for(var i=argument<0?argument+length:argument;++i<length;){matchIndexes.push(i);}return matchIndexes;})}};function siblingCheck(a,b,ret){if(a===b){return ret;}var cur=a.nextSibling;while(cur){if(cur===b){return -1;}cur=cur.nextSibling;}return 1;}sortOrder=docElem.compareDocumentPosition?function(a,b){if(a===b){hasDuplicate=true;return 0;}return(!a.compareDocumentPosition||!b.compareDocumentPosition?a.compareDocumentPosition:a.compareDocumentPosition(b)&4)?-1:1;}:function(a,b){if(a===b){hasDuplicate=true;return 0;}else{if(a.sourceIndex&&b.sourceIndex){return a.sourceIndex-b.sourceIndex;}}var al,bl,ap=[],bp=[],aup=a.parentNode,bup=b.parentNode,cur=aup;if(aup===bup){return siblingCheck(a,b);}else{if(!aup){return -1;}else{if(!bup){return 1;}}}while(cur){ap.unshift(cur);cur=cur.parentNode;}cur=bup;while(cur){bp.unshift(cur);cur=cur.parentNode;}al=ap.length;bl=bp.length;for(var i=0;i<al&&i<bl;i++){if(ap[i]!==bp[i]){return siblingCheck(ap[i],bp[i]);}}return i===al?siblingCheck(a,bp[i],-1):siblingCheck(ap[i],b,1);};[0,0].sort(sortOrder);baseHasDuplicate=!hasDuplicate;Sizzle.uniqueSort=function(results){var elem,duplicates=[],i=1,j=0;hasDuplicate=baseHasDuplicate;results.sort(sortOrder);if(hasDuplicate){for(;(elem=results[i]);i++){if(elem===results[i-1]){j=duplicates.push(i);}}while(j--){results.splice(duplicates[j],1);}}return results;};Sizzle.error=function(msg){throw new Error("Syntax error, unrecognized expression: "+msg);};function tokenize(selector,parseOnly){var matched,match,tokens,type,soFar,groups,preFilters,cached=tokenCache[expando][selector+" "];if(cached){return parseOnly?0:cached.slice(0);}soFar=selector;groups=[];preFilters=Expr.preFilter;while(soFar){if(!matched||(match=rcomma.exec(soFar))){if(match){soFar=soFar.slice(match[0].length)||soFar;}groups.push(tokens=[]);}matched=false;if((match=rcombinators.exec(soFar))){tokens.push(matched=new Token(match.shift()));soFar=soFar.slice(matched.length);matched.type=match[0].replace(rtrim," ");}for(type in Expr.filter){if((match=matchExpr[type].exec(soFar))&&(!preFilters[type]||(match=preFilters[type](match)))){tokens.push(matched=new Token(match.shift()));soFar=soFar.slice(matched.length);matched.type=type;matched.matches=match;}}if(!matched){break;}}return parseOnly?soFar.length:soFar?Sizzle.error(selector):tokenCache(selector,groups).slice(0);}function addCombinator(matcher,combinator,base){var dir=combinator.dir,checkNonElements=base&&combinator.dir==="parentNode",doneName=done++;return combinator.first?function(elem,context,xml){while((elem=elem[dir])){if(checkNonElements||elem.nodeType===1){return matcher(elem,context,xml);}}}:function(elem,context,xml){if(!xml){var cache,dirkey=dirruns+" "+doneName+" ",cachedkey=dirkey+cachedruns;while((elem=elem[dir])){if(checkNonElements||elem.nodeType===1){if((cache=elem[expando])===cachedkey){return elem.sizset;}else{if(typeof cache==="string"&&cache.indexOf(dirkey)===0){if(elem.sizset){return elem;}}else{elem[expando]=cachedkey;if(matcher(elem,context,xml)){elem.sizset=true;return elem;}elem.sizset=false;}}}}}else{while((elem=elem[dir])){if(checkNonElements||elem.nodeType===1){if(matcher(elem,context,xml)){return elem;}}}}};}function elementMatcher(matchers){return matchers.length>1?function(elem,context,xml){var i=matchers.length;while(i--){if(!matchers[i](elem,context,xml)){return false;}}return true;}:matchers[0];}function condense(unmatched,map,filter,context,xml){var elem,newUnmatched=[],i=0,len=unmatched.length,mapped=map!=null;for(;i<len;i++){if((elem=unmatched[i])){if(!filter||filter(elem,context,xml)){newUnmatched.push(elem);if(mapped){map.push(i);}}}}return newUnmatched;}function setMatcher(preFilter,selector,matcher,postFilter,postFinder,postSelector){if(postFilter&&!postFilter[expando]){postFilter=setMatcher(postFilter);}if(postFinder&&!postFinder[expando]){postFinder=setMatcher(postFinder,postSelector);}return markFunction(function(seed,results,context,xml){var temp,i,elem,preMap=[],postMap=[],preexisting=results.length,elems=seed||multipleContexts(selector||"*",context.nodeType?[context]:context,[]),matcherIn=preFilter&&(seed||!selector)?condense(elems,preMap,preFilter,context,xml):elems,matcherOut=matcher?postFinder||(seed?preFilter:preexisting||postFilter)?[]:results:matcherIn;if(matcher){matcher(matcherIn,matcherOut,context,xml);}if(postFilter){temp=condense(matcherOut,postMap);postFilter(temp,[],context,xml);i=temp.length;while(i--){if((elem=temp[i])){matcherOut[postMap[i]]=!(matcherIn[postMap[i]]=elem);}}}if(seed){if(postFinder||preFilter){if(postFinder){temp=[];i=matcherOut.length;while(i--){if((elem=matcherOut[i])){temp.push((matcherIn[i]=elem));}}postFinder(null,(matcherOut=[]),temp,xml);}i=matcherOut.length;while(i--){if((elem=matcherOut[i])&&(temp=postFinder?indexOf.call(seed,elem):preMap[i])>-1){seed[temp]=!(results[temp]=elem);}}}}else{matcherOut=condense(matcherOut===results?matcherOut.splice(preexisting,matcherOut.length):matcherOut);if(postFinder){postFinder(null,results,matcherOut,xml);}else{push.apply(results,matcherOut);}}});}function matcherFromTokens(tokens){var checkContext,matcher,j,len=tokens.length,leadingRelative=Expr.relative[tokens[0].type],implicitRelative=leadingRelative||Expr.relative[" "],i=leadingRelative?1:0,matchContext=addCombinator(function(elem){return elem===checkContext;},implicitRelative,true),matchAnyContext=addCombinator(function(elem){return indexOf.call(checkContext,elem)>-1;},implicitRelative,true),matchers=[function(elem,context,xml){return(!leadingRelative&&(xml||context!==outermostContext))||((checkContext=context).nodeType?matchContext(elem,context,xml):matchAnyContext(elem,context,xml));}];for(;i<len;i++){if((matcher=Expr.relative[tokens[i].type])){matchers=[addCombinator(elementMatcher(matchers),matcher)];}else{matcher=Expr.filter[tokens[i].type].apply(null,tokens[i].matches);if(matcher[expando]){j=++i;for(;j<len;j++){if(Expr.relative[tokens[j].type]){break;}}return setMatcher(i>1&&elementMatcher(matchers),i>1&&tokens.slice(0,i-1).join("").replace(rtrim,"$1"),matcher,i<j&&matcherFromTokens(tokens.slice(i,j)),j<len&&matcherFromTokens((tokens=tokens.slice(j))),j<len&&tokens.join(""));}matchers.push(matcher);}}return elementMatcher(matchers);}function matcherFromGroupMatchers(elementMatchers,setMatchers){var bySet=setMatchers.length>0,byElement=elementMatchers.length>0,superMatcher=function(seed,context,xml,results,expandContext){var elem,j,matcher,setMatched=[],matchedCount=0,i="0",unmatched=seed&&[],outermost=expandContext!=null,contextBackup=outermostContext,elems=seed||byElement&&Expr.find.TAG("*",expandContext&&context.parentNode||context),dirrunsUnique=(dirruns+=contextBackup==null?1:Math.E);if(outermost){outermostContext=context!==document&&context;cachedruns=superMatcher.el;}for(;(elem=elems[i])!=null;i++){if(byElement&&elem){for(j=0;(matcher=elementMatchers[j]);j++){if(matcher(elem,context,xml)){results.push(elem);break;}}if(outermost){dirruns=dirrunsUnique;cachedruns=++superMatcher.el;}}if(bySet){if((elem=!matcher&&elem)){matchedCount--;}if(seed){unmatched.push(elem);}}}matchedCount+=i;if(bySet&&i!==matchedCount){for(j=0;(matcher=setMatchers[j]);j++){matcher(unmatched,setMatched,context,xml);}if(seed){if(matchedCount>0){while(i--){if(!(unmatched[i]||setMatched[i])){setMatched[i]=pop.call(results);}}}setMatched=condense(setMatched);}push.apply(results,setMatched);if(outermost&&!seed&&setMatched.length>0&&(matchedCount+setMatchers.length)>1){Sizzle.uniqueSort(results);}}if(outermost){dirruns=dirrunsUnique;outermostContext=contextBackup;}return unmatched;};superMatcher.el=0;return bySet?markFunction(superMatcher):superMatcher;}compile=Sizzle.compile=function(selector,group){var i,setMatchers=[],elementMatchers=[],cached=compilerCache[expando][selector+" "];if(!cached){if(!group){group=tokenize(selector);}i=group.length;while(i--){cached=matcherFromTokens(group[i]);if(cached[expando]){setMatchers.push(cached);}else{elementMatchers.push(cached);}}cached=compilerCache(selector,matcherFromGroupMatchers(elementMatchers,setMatchers));}return cached;};function multipleContexts(selector,contexts,results){var i=0,len=contexts.length;for(;i<len;i++){Sizzle(selector,contexts[i],results);}return results;}function select(selector,context,results,seed,xml){var i,tokens,token,type,find,match=tokenize(selector),j=match.length;if(!seed){if(match.length===1){tokens=match[0]=match[0].slice(0);if(tokens.length>2&&(token=tokens[0]).type==="ID"&&context.nodeType===9&&!xml&&Expr.relative[tokens[1].type]){context=Expr.find.ID(token.matches[0].replace(rbackslash,""),context,xml)[0];if(!context){return results;}selector=selector.slice(tokens.shift().length);}for(i=matchExpr.POS.test(selector)?-1:tokens.length-1;i>=0;i--){token=tokens[i];if(Expr.relative[(type=token.type)]){break;}if((find=Expr.find[type])){if((seed=find(token.matches[0].replace(rbackslash,""),rsibling.test(tokens[0].type)&&context.parentNode||context,xml))){tokens.splice(i,1);selector=seed.length&&tokens.join("");if(!selector){push.apply(results,slice.call(seed,0));return results;}break;}}}}}compile(selector,match)(seed,context,xml,results,rsibling.test(selector));return results;}if(document.querySelectorAll){(function(){var disconnectedMatch,oldSelect=select,rescape=/'|\\/g,rattributeQuotes=/\=[\x20\t\r\n\f]*([^'"\]]*)[\x20\t\r\n\f]*\]/g,rbuggyQSA=[":focus"],rbuggyMatches=[":active"],matches=docElem.matchesSelector||docElem.mozMatchesSelector||docElem.webkitMatchesSelector||docElem.oMatchesSelector||docElem.msMatchesSelector;assert(function(div){div.innerHTML="<select><option selected=''></option></select>";if(!div.querySelectorAll("[selected]").length){rbuggyQSA.push("\\["+whitespace+"*(?:checked|disabled|ismap|multiple|readonly|selected|value)");}if(!div.querySelectorAll(":checked").length){rbuggyQSA.push(":checked");}});assert(function(div){div.innerHTML="<p test=''></p>";if(div.querySelectorAll("[test^='']").length){rbuggyQSA.push("[*^$]="+whitespace+"*(?:\"\"|'')");}div.innerHTML="<input type='hidden'/>";if(!div.querySelectorAll(":enabled").length){rbuggyQSA.push(":enabled",":disabled");}});rbuggyQSA=new RegExp(rbuggyQSA.join("|"));select=function(selector,context,results,seed,xml){if(!seed&&!xml&&!rbuggyQSA.test(selector)){var groups,i,old=true,nid=expando,newContext=context,newSelector=context.nodeType===9&&selector;if(context.nodeType===1&&context.nodeName.toLowerCase()!=="object"){groups=tokenize(selector);if((old=context.getAttribute("id"))){nid=old.replace(rescape,"\\$&");}else{context.setAttribute("id",nid);}nid="[id='"+nid+"'] ";i=groups.length;while(i--){groups[i]=nid+groups[i].join("");}newContext=rsibling.test(selector)&&context.parentNode||context;newSelector=groups.join(",");}if(newSelector){try{push.apply(results,slice.call(newContext.querySelectorAll(newSelector),0));return results;}catch(qsaError){}finally{if(!old){context.removeAttribute("id");}}}}return oldSelect(selector,context,results,seed,xml);};if(matches){assert(function(div){disconnectedMatch=matches.call(div,"div");try{matches.call(div,"[test!='']:sizzle");rbuggyMatches.push("!=",pseudos);}catch(e){}});rbuggyMatches=new RegExp(rbuggyMatches.join("|"));Sizzle.matchesSelector=function(elem,expr){expr=expr.replace(rattributeQuotes,"='$1']");if(!isXML(elem)&&!rbuggyMatches.test(expr)&&!rbuggyQSA.test(expr)){try{var ret=matches.call(elem,expr);if(ret||disconnectedMatch||elem.document&&elem.document.nodeType!==11){return ret;}}catch(e){}}return Sizzle(expr,null,null,[elem]).length>0;};}})();}Expr.pseudos.nth=Expr.pseudos.eq;function setFilters(){}Expr.filters=setFilters.prototype=Expr.pseudos;Expr.setFilters=new setFilters();Sizzle.attr=jQuery.attr;jQuery.find=Sizzle;jQuery.expr=Sizzle.selectors;jQuery.expr[":"]=jQuery.expr.pseudos;jQuery.unique=Sizzle.uniqueSort;jQuery.text=Sizzle.getText;jQuery.isXMLDoc=Sizzle.isXML;jQuery.contains=Sizzle.contains;})(window);var runtil=/Until$/,rparentsprev=/^(?:parents|prev(?:Until|All))/,isSimple=/^.[^:#\[\.,]*$/,rneedsContext=jQuery.expr.match.needsContext,guaranteedUnique={children:true,contents:true,next:true,prev:true};jQuery.fn.extend({find:function(selector){var i,l,length,n,r,ret,self=this;if(typeof selector!=="string"){return jQuery(selector).filter(function(){for(i=0,l=self.length;i<l;i++){if(jQuery.contains(self[i],this)){return true;}}});}ret=this.pushStack("","find",selector);for(i=0,l=this.length;i<l;i++){length=ret.length;jQuery.find(selector,this[i],ret);if(i>0){for(n=length;n<ret.length;n++){for(r=0;r<length;r++){if(ret[r]===ret[n]){ret.splice(n--,1);break;}}}}}return ret;},has:function(target){var i,targets=jQuery(target,this),len=targets.length;return this.filter(function(){for(i=0;i<len;i++){if(jQuery.contains(this,targets[i])){return true;}}});},not:function(selector){return this.pushStack(winnow(this,selector,false),"not",selector);},filter:function(selector){return this.pushStack(winnow(this,selector,true),"filter",selector);},is:function(selector){return !!selector&&(typeof selector==="string"?rneedsContext.test(selector)?jQuery(selector,this.context).index(this[0])>=0:jQuery.filter(selector,this).length>0:this.filter(selector).length>0);},closest:function(selectors,context){var cur,i=0,l=this.length,ret=[],pos=rneedsContext.test(selectors)||typeof selectors!=="string"?jQuery(selectors,context||this.context):0;for(;i<l;i++){cur=this[i];while(cur&&cur.ownerDocument&&cur!==context&&cur.nodeType!==11){if(pos?pos.index(cur)>-1:jQuery.find.matchesSelector(cur,selectors)){ret.push(cur);break;}cur=cur.parentNode;}}ret=ret.length>1?jQuery.unique(ret):ret;return this.pushStack(ret,"closest",selectors);},index:function(elem){if(!elem){return(this[0]&&this[0].parentNode)?this.prevAll().length:-1;}if(typeof elem==="string"){return jQuery.inArray(this[0],jQuery(elem));}return jQuery.inArray(elem.jquery?elem[0]:elem,this);},add:function(selector,context){var set=typeof selector==="string"?jQuery(selector,context):jQuery.makeArray(selector&&selector.nodeType?[selector]:selector),all=jQuery.merge(this.get(),set);return this.pushStack(isDisconnected(set[0])||isDisconnected(all[0])?all:jQuery.unique(all));},addBack:function(selector){return this.add(selector==null?this.prevObject:this.prevObject.filter(selector));}});jQuery.fn.andSelf=jQuery.fn.addBack;function isDisconnected(node){return !node||!node.parentNode||node.parentNode.nodeType===11;}function sibling(cur,dir){do{cur=cur[dir];}while(cur&&cur.nodeType!==1);return cur;}jQuery.each({parent:function(elem){var parent=elem.parentNode;return parent&&parent.nodeType!==11?parent:null;},parents:function(elem){return jQuery.dir(elem,"parentNode");},parentsUntil:function(elem,i,until){return jQuery.dir(elem,"parentNode",until);},next:function(elem){return sibling(elem,"nextSibling");},prev:function(elem){return sibling(elem,"previousSibling");},nextAll:function(elem){return jQuery.dir(elem,"nextSibling");},prevAll:function(elem){return jQuery.dir(elem,"previousSibling");},nextUntil:function(elem,i,until){return jQuery.dir(elem,"nextSibling",until);},prevUntil:function(elem,i,until){return jQuery.dir(elem,"previousSibling",until);},siblings:function(elem){return jQuery.sibling((elem.parentNode||{}).firstChild,elem);},children:function(elem){return jQuery.sibling(elem.firstChild);},contents:function(elem){return jQuery.nodeName(elem,"iframe")?elem.contentDocument||elem.contentWindow.document:jQuery.merge([],elem.childNodes);}},function(name,fn){jQuery.fn[name]=function(until,selector){var ret=jQuery.map(this,fn,until);if(!runtil.test(name)){selector=until;}if(selector&&typeof selector==="string"){ret=jQuery.filter(selector,ret);}ret=this.length>1&&!guaranteedUnique[name]?jQuery.unique(ret):ret;if(this.length>1&&rparentsprev.test(name)){ret=ret.reverse();}return this.pushStack(ret,name,core_slice.call(arguments).join(","));};});jQuery.extend({filter:function(expr,elems,not){if(not){expr=":not("+expr+")";}return elems.length===1?jQuery.find.matchesSelector(elems[0],expr)?[elems[0]]:[]:jQuery.find.matches(expr,elems);},dir:function(elem,dir,until){var matched=[],cur=elem[dir];while(cur&&cur.nodeType!==9&&(until===undefined||cur.nodeType!==1||!jQuery(cur).is(until))){if(cur.nodeType===1){matched.push(cur);}cur=cur[dir];}return matched;},sibling:function(n,elem){var r=[];for(;n;n=n.nextSibling){if(n.nodeType===1&&n!==elem){r.push(n);}}return r;}});function winnow(elements,qualifier,keep){qualifier=qualifier||0;if(jQuery.isFunction(qualifier)){return jQuery.grep(elements,function(elem,i){var retVal=!!qualifier.call(elem,i,elem);return retVal===keep;});}else{if(qualifier.nodeType){return jQuery.grep(elements,function(elem,i){return(elem===qualifier)===keep;});}else{if(typeof qualifier==="string"){var filtered=jQuery.grep(elements,function(elem){return elem.nodeType===1;});if(isSimple.test(qualifier)){return jQuery.filter(qualifier,filtered,!keep);}else{qualifier=jQuery.filter(qualifier,filtered);}}}}return jQuery.grep(elements,function(elem,i){return(jQuery.inArray(elem,qualifier)>=0)===keep;});}function createSafeFragment(document){var list=nodeNames.split("|"),safeFrag=document.createDocumentFragment();if(safeFrag.createElement){while(list.length){safeFrag.createElement(list.pop());}}return safeFrag;}var nodeNames="abbr|article|aside|audio|bdi|canvas|data|datalist|details|figcaption|figure|footer|header|hgroup|mark|meter|nav|output|progress|section|summary|time|video",rinlinejQuery=/ jQuery\d+="(?:null|\d+)"/g,rleadingWhitespace=/^\s+/,rxhtmlTag=/<(?!area|br|col|embed|hr|img|input|link|meta|param)(([\w:]+)[^>]*)\/>/gi,rtagName=/<([\w:]+)/,rtbody=/<tbody/i,rhtml=/<|&#?\w+;/,rnoInnerhtml=/<(?:script|style|link)/i,rnocache=/<(?:script|object|embed|option|style)/i,rnoshimcache=new RegExp("<(?:"+nodeNames+")[\\s/>]","i"),rcheckableType=/^(?:checkbox|radio)$/,rchecked=/checked\s*(?:[^=]|=\s*.checked.)/i,rscriptType=/\/(java|ecma)script/i,rcleanScript=/^\s*<!(?:\[CDATA\[|\-\-)|[\]\-]{2}>\s*$/g,wrapMap={option:[1,"<select multiple='multiple'>","</select>"],legend:[1,"<fieldset>","</fieldset>"],thead:[1,"<table>","</table>"],tr:[2,"<table><tbody>","</tbody></table>"],td:[3,"<table><tbody><tr>","</tr></tbody></table>"],col:[2,"<table><tbody></tbody><colgroup>","</colgroup></table>"],area:[1,"<map>","</map>"],_default:[0,"",""]},safeFragment=createSafeFragment(document),fragmentDiv=safeFragment.appendChild(document.createElement("div"));wrapMap.optgroup=wrapMap.option;wrapMap.tbody=wrapMap.tfoot=wrapMap.colgroup=wrapMap.caption=wrapMap.thead;wrapMap.th=wrapMap.td;if(!jQuery.support.htmlSerialize){wrapMap._default=[1,"X<div>","</div>"];}jQuery.fn.extend({text:function(value){return jQuery.access(this,function(value){return value===undefined?jQuery.text(this):this.empty().append((this[0]&&this[0].ownerDocument||document).createTextNode(value));},null,value,arguments.length);},wrapAll:function(html){if(jQuery.isFunction(html)){return this.each(function(i){jQuery(this).wrapAll(html.call(this,i));});}if(this[0]){var wrap=jQuery(html,this[0].ownerDocument).eq(0).clone(true);if(this[0].parentNode){wrap.insertBefore(this[0]);}wrap.map(function(){var elem=this;while(elem.firstChild&&elem.firstChild.nodeType===1){elem=elem.firstChild;}return elem;}).append(this);}return this;},wrapInner:function(html){if(jQuery.isFunction(html)){return this.each(function(i){jQuery(this).wrapInner(html.call(this,i));});}return this.each(function(){var self=jQuery(this),contents=self.contents();if(contents.length){contents.wrapAll(html);}else{self.append(html);}});},wrap:function(html){var isFunction=jQuery.isFunction(html);return this.each(function(i){jQuery(this).wrapAll(isFunction?html.call(this,i):html);});},unwrap:function(){return this.parent().each(function(){if(!jQuery.nodeName(this,"body")){jQuery(this).replaceWith(this.childNodes);}}).end();},append:function(){return this.domManip(arguments,true,function(elem){if(this.nodeType===1||this.nodeType===11){this.appendChild(elem);}});},prepend:function(){return this.domManip(arguments,true,function(elem){if(this.nodeType===1||this.nodeType===11){this.insertBefore(elem,this.firstChild);}});},before:function(){if(!isDisconnected(this[0])){return this.domManip(arguments,false,function(elem){this.parentNode.insertBefore(elem,this);});}if(arguments.length){var set=jQuery.clean(arguments);return this.pushStack(jQuery.merge(set,this),"before",this.selector);}},after:function(){if(!isDisconnected(this[0])){return this.domManip(arguments,false,function(elem){this.parentNode.insertBefore(elem,this.nextSibling);});}if(arguments.length){var set=jQuery.clean(arguments);return this.pushStack(jQuery.merge(this,set),"after",this.selector);}},remove:function(selector,keepData){var elem,i=0;for(;(elem=this[i])!=null;i++){if(!selector||jQuery.filter(selector,[elem]).length){if(!keepData&&elem.nodeType===1){jQuery.cleanData(elem.getElementsByTagName("*"));jQuery.cleanData([elem]);}if(elem.parentNode){elem.parentNode.removeChild(elem);}}}return this;},empty:function(){var elem,i=0;for(;(elem=this[i])!=null;i++){if(elem.nodeType===1){jQuery.cleanData(elem.getElementsByTagName("*"));}while(elem.firstChild){elem.removeChild(elem.firstChild);}}return this;},clone:function(dataAndEvents,deepDataAndEvents){dataAndEvents=dataAndEvents==null?false:dataAndEvents;deepDataAndEvents=deepDataAndEvents==null?dataAndEvents:deepDataAndEvents;return this.map(function(){return jQuery.clone(this,dataAndEvents,deepDataAndEvents);});},html:function(value){return jQuery.access(this,function(value){var elem=this[0]||{},i=0,l=this.length;if(value===undefined){return elem.nodeType===1?elem.innerHTML.replace(rinlinejQuery,""):undefined;}if(typeof value==="string"&&!rnoInnerhtml.test(value)&&(jQuery.support.htmlSerialize||!rnoshimcache.test(value))&&(jQuery.support.leadingWhitespace||!rleadingWhitespace.test(value))&&!wrapMap[(rtagName.exec(value)||["",""])[1].toLowerCase()]){value=value.replace(rxhtmlTag,"<$1></$2>");try{for(;i<l;i++){elem=this[i]||{};if(elem.nodeType===1){jQuery.cleanData(elem.getElementsByTagName("*"));elem.innerHTML=value;}}elem=0;}catch(e){}}if(elem){this.empty().append(value);}},null,value,arguments.length);},replaceWith:function(value){if(!isDisconnected(this[0])){if(jQuery.isFunction(value)){return this.each(function(i){var self=jQuery(this),old=self.html();self.replaceWith(value.call(this,i,old));});}if(typeof value!=="string"){value=jQuery(value).detach();}return this.each(function(){var next=this.nextSibling,parent=this.parentNode;jQuery(this).remove();if(next){jQuery(next).before(value);}else{jQuery(parent).append(value);}});}return this.length?this.pushStack(jQuery(jQuery.isFunction(value)?value():value),"replaceWith",value):this;},detach:function(selector){return this.remove(selector,true);},domManip:function(args,table,callback){args=[].concat.apply([],args);var results,first,fragment,iNoClone,i=0,value=args[0],scripts=[],l=this.length;if(!jQuery.support.checkClone&&l>1&&typeof value==="string"&&rchecked.test(value)){return this.each(function(){jQuery(this).domManip(args,table,callback);});}if(jQuery.isFunction(value)){return this.each(function(i){var self=jQuery(this);args[0]=value.call(this,i,table?self.html():undefined);self.domManip(args,table,callback);});}if(this[0]){results=jQuery.buildFragment(args,this,scripts);fragment=results.fragment;first=fragment.firstChild;if(fragment.childNodes.length===1){fragment=first;}if(first){table=table&&jQuery.nodeName(first,"tr");for(iNoClone=results.cacheable||l-1;i<l;i++){callback.call(table&&jQuery.nodeName(this[i],"table")?findOrAppend(this[i],"tbody"):this[i],i===iNoClone?fragment:jQuery.clone(fragment,true,true));}}fragment=first=null;if(scripts.length){jQuery.each(scripts,function(i,elem){if(elem.src){if(jQuery.ajax){jQuery.ajax({url:elem.src,type:"GET",dataType:"script",async:false,global:false,"throws":true});}else{jQuery.error("no ajax");}}else{jQuery.globalEval((elem.text||elem.textContent||elem.innerHTML||"").replace(rcleanScript,""));}if(elem.parentNode){elem.parentNode.removeChild(elem);}});}}return this;}});function findOrAppend(elem,tag){return elem.getElementsByTagName(tag)[0]||elem.appendChild(elem.ownerDocument.createElement(tag));}function cloneCopyEvent(src,dest){if(dest.nodeType!==1||!jQuery.hasData(src)){return;}var type,i,l,oldData=jQuery._data(src),curData=jQuery._data(dest,oldData),events=oldData.events;if(events){delete curData.handle;curData.events={};for(type in events){for(i=0,l=events[type].length;i<l;i++){jQuery.event.add(dest,type,events[type][i]);}}}if(curData.data){curData.data=jQuery.extend({},curData.data);}}function cloneFixAttributes(src,dest){var nodeName;if(dest.nodeType!==1){return;}if(dest.clearAttributes){dest.clearAttributes();}if(dest.mergeAttributes){dest.mergeAttributes(src);}nodeName=dest.nodeName.toLowerCase();if(nodeName==="object"){if(dest.parentNode){dest.outerHTML=src.outerHTML;}if(jQuery.support.html5Clone&&(src.innerHTML&&!jQuery.trim(dest.innerHTML))){dest.innerHTML=src.innerHTML;}}else{if(nodeName==="input"&&rcheckableType.test(src.type)){dest.defaultChecked=dest.checked=src.checked;if(dest.value!==src.value){dest.value=src.value;}}else{if(nodeName==="option"){dest.selected=src.defaultSelected;}else{if(nodeName==="input"||nodeName==="textarea"){dest.defaultValue=src.defaultValue;}else{if(nodeName==="script"&&dest.text!==src.text){dest.text=src.text;}}}}}dest.removeAttribute(jQuery.expando);}jQuery.buildFragment=function(args,context,scripts){var fragment,cacheable,cachehit,first=args[0];context=context||document;context=!context.nodeType&&context[0]||context;context=context.ownerDocument||context;if(args.length===1&&typeof first==="string"&&first.length<512&&context===document&&first.charAt(0)==="<"&&!rnocache.test(first)&&(jQuery.support.checkClone||!rchecked.test(first))&&(jQuery.support.html5Clone||!rnoshimcache.test(first))){cacheable=true;fragment=jQuery.fragments[first];cachehit=fragment!==undefined;}if(!fragment){fragment=context.createDocumentFragment();jQuery.clean(args,context,fragment,scripts);if(cacheable){jQuery.fragments[first]=cachehit&&fragment;}}return{fragment:fragment,cacheable:cacheable};};jQuery.fragments={};jQuery.each({appendTo:"append",prependTo:"prepend",insertBefore:"before",insertAfter:"after",replaceAll:"replaceWith"},function(name,original){jQuery.fn[name]=function(selector){var elems,i=0,ret=[],insert=jQuery(selector),l=insert.length,parent=this.length===1&&this[0].parentNode;if((parent==null||parent&&parent.nodeType===11&&parent.childNodes.length===1)&&l===1){insert[original](this[0]);return this;}else{for(;i<l;i++){elems=(i>0?this.clone(true):this).get();jQuery(insert[i])[original](elems);ret=ret.concat(elems);}return this.pushStack(ret,name,insert.selector);}};});function getAll(elem){if(typeof elem.getElementsByTagName!=="undefined"){return elem.getElementsByTagName("*");}else{if(typeof elem.querySelectorAll!=="undefined"){return elem.querySelectorAll("*");}else{return[];}}}function fixDefaultChecked(elem){if(rcheckableType.test(elem.type)){elem.defaultChecked=elem.checked;}}jQuery.extend({clone:function(elem,dataAndEvents,deepDataAndEvents){var srcElements,destElements,i,clone;if(jQuery.support.html5Clone||jQuery.isXMLDoc(elem)||!rnoshimcache.test("<"+elem.nodeName+">")){clone=elem.cloneNode(true);}else{fragmentDiv.innerHTML=elem.outerHTML;fragmentDiv.removeChild(clone=fragmentDiv.firstChild);}if((!jQuery.support.noCloneEvent||!jQuery.support.noCloneChecked)&&(elem.nodeType===1||elem.nodeType===11)&&!jQuery.isXMLDoc(elem)){cloneFixAttributes(elem,clone);srcElements=getAll(elem);destElements=getAll(clone);for(i=0;srcElements[i];++i){if(destElements[i]){cloneFixAttributes(srcElements[i],destElements[i]);}}}if(dataAndEvents){cloneCopyEvent(elem,clone);if(deepDataAndEvents){srcElements=getAll(elem);destElements=getAll(clone);for(i=0;srcElements[i];++i){cloneCopyEvent(srcElements[i],destElements[i]);}}}srcElements=destElements=null;return clone;},clean:function(elems,context,fragment,scripts){var i,j,elem,tag,wrap,depth,div,hasBody,tbody,len,handleScript,jsTags,safe=context===document&&safeFragment,ret=[];if(!context||typeof context.createDocumentFragment==="undefined"){context=document;}for(i=0;(elem=elems[i])!=null;i++){if(typeof elem==="number"){elem+="";}if(!elem){continue;}if(typeof elem==="string"){if(!rhtml.test(elem)){elem=context.createTextNode(elem);}else{safe=safe||createSafeFragment(context);div=context.createElement("div");safe.appendChild(div);elem=elem.replace(rxhtmlTag,"<$1></$2>");tag=(rtagName.exec(elem)||["",""])[1].toLowerCase();wrap=wrapMap[tag]||wrapMap._default;depth=wrap[0];div.innerHTML=wrap[1]+elem+wrap[2];while(depth--){div=div.lastChild;}if(!jQuery.support.tbody){hasBody=rtbody.test(elem);tbody=tag==="table"&&!hasBody?div.firstChild&&div.firstChild.childNodes:wrap[1]==="<table>"&&!hasBody?div.childNodes:[];for(j=tbody.length-1;j>=0;--j){if(jQuery.nodeName(tbody[j],"tbody")&&!tbody[j].childNodes.length){tbody[j].parentNode.removeChild(tbody[j]);}}}if(!jQuery.support.leadingWhitespace&&rleadingWhitespace.test(elem)){div.insertBefore(context.createTextNode(rleadingWhitespace.exec(elem)[0]),div.firstChild);}elem=div.childNodes;div.parentNode.removeChild(div);}}if(elem.nodeType){ret.push(elem);}else{jQuery.merge(ret,elem);}}if(div){elem=div=safe=null;}if(!jQuery.support.appendChecked){for(i=0;(elem=ret[i])!=null;i++){if(jQuery.nodeName(elem,"input")){fixDefaultChecked(elem);}else{if(typeof elem.getElementsByTagName!=="undefined"){jQuery.grep(elem.getElementsByTagName("input"),fixDefaultChecked);}}}}if(fragment){handleScript=function(elem){if(!elem.type||rscriptType.test(elem.type)){return scripts?scripts.push(elem.parentNode?elem.parentNode.removeChild(elem):elem):fragment.appendChild(elem);}};for(i=0;(elem=ret[i])!=null;i++){if(!(jQuery.nodeName(elem,"script")&&handleScript(elem))){fragment.appendChild(elem);if(typeof elem.getElementsByTagName!=="undefined"){jsTags=jQuery.grep(jQuery.merge([],elem.getElementsByTagName("script")),handleScript);ret.splice.apply(ret,[i+1,0].concat(jsTags));i+=jsTags.length;}}}}return ret;},cleanData:function(elems,acceptData){var data,id,elem,type,i=0,internalKey=jQuery.expando,cache=jQuery.cache,deleteExpando=jQuery.support.deleteExpando,special=jQuery.event.special;for(;(elem=elems[i])!=null;i++){if(acceptData||jQuery.acceptData(elem)){id=elem[internalKey];data=id&&cache[id];if(data){if(data.events){for(type in data.events){if(special[type]){jQuery.event.remove(elem,type);}else{jQuery.removeEvent(elem,type,data.handle);}}}if(cache[id]){delete cache[id];if(deleteExpando){delete elem[internalKey];}else{if(elem.removeAttribute){elem.removeAttribute(internalKey);}else{elem[internalKey]=null;}}jQuery.deletedIds.push(id);}}}}}});(function(){var matched,browser;jQuery.uaMatch=function(ua){ua=ua.toLowerCase();var match=/(chrome)[ \/]([\w.]+)/.exec(ua)||/(webkit)[ \/]([\w.]+)/.exec(ua)||/(opera)(?:.*version|)[ \/]([\w.]+)/.exec(ua)||/(msie) ([\w.]+)/.exec(ua)||ua.indexOf("compatible")<0&&/(mozilla)(?:.*? rv:([\w.]+)|)/.exec(ua)||[];return{browser:match[1]||"",version:match[2]||"0"};};matched=jQuery.uaMatch(navigator.userAgent);browser={};if(matched.browser){browser[matched.browser]=true;browser.version=matched.version;}if(browser.chrome){browser.webkit=true;}else{if(browser.webkit){browser.safari=true;}}jQuery.browser=browser;jQuery.sub=function(){function jQuerySub(selector,context){return new jQuerySub.fn.init(selector,context);}jQuery.extend(true,jQuerySub,this);jQuerySub.superclass=this;jQuerySub.fn=jQuerySub.prototype=this();jQuerySub.fn.constructor=jQuerySub;jQuerySub.sub=this.sub;jQuerySub.fn.init=function init(selector,context){if(context&&context instanceof jQuery&&!(context instanceof jQuerySub)){context=jQuerySub(context);}return jQuery.fn.init.call(this,selector,context,rootjQuerySub);};jQuerySub.fn.init.prototype=jQuerySub.fn;var rootjQuerySub=jQuerySub(document);return jQuerySub;};})();var curCSS,iframe,iframeDoc,ralpha=/alpha\([^)]*\)/i,ropacity=/opacity=([^)]*)/,rposition=/^(top|right|bottom|left)$/,rdisplayswap=/^(none|table(?!-c[ea]).+)/,rmargin=/^margin/,rnumsplit=new RegExp("^("+core_pnum+")(.*)$","i"),rnumnonpx=new RegExp("^("+core_pnum+")(?!px)[a-z%]+$","i"),rrelNum=new RegExp("^([-+])=("+core_pnum+")","i"),elemdisplay={BODY:"block"},cssShow={position:"absolute",visibility:"hidden",display:"block"},cssNormalTransform={letterSpacing:0,fontWeight:400},cssExpand=["Top","Right","Bottom","Left"],cssPrefixes=["Webkit","O","Moz","ms"],eventsToggle=jQuery.fn.toggle;function vendorPropName(style,name){if(name in style){return name;}var capName=name.charAt(0).toUpperCase()+name.slice(1),origName=name,i=cssPrefixes.length;while(i--){name=cssPrefixes[i]+capName;if(name in style){return name;}}return origName;}function isHidden(elem,el){elem=el||elem;return jQuery.css(elem,"display")==="none"||!jQuery.contains(elem.ownerDocument,elem);}function showHide(elements,show){var elem,display,values=[],index=0,length=elements.length;for(;index<length;index++){elem=elements[index];if(!elem.style){continue;}values[index]=jQuery._data(elem,"olddisplay");if(show){if(!values[index]&&elem.style.display==="none"){elem.style.display="";}if(elem.style.display===""&&isHidden(elem)){values[index]=jQuery._data(elem,"olddisplay",css_defaultDisplay(elem.nodeName));}}else{display=curCSS(elem,"display");if(!values[index]&&display!=="none"){jQuery._data(elem,"olddisplay",display);}}}for(index=0;index<length;index++){elem=elements[index];if(!elem.style){continue;}if(!show||elem.style.display==="none"||elem.style.display===""){elem.style.display=show?values[index]||"":"none";}}return elements;}jQuery.fn.extend({css:function(name,value){return jQuery.access(this,function(elem,name,value){return value!==undefined?jQuery.style(elem,name,value):jQuery.css(elem,name);},name,value,arguments.length>1);},show:function(){return showHide(this,true);},hide:function(){return showHide(this);},toggle:function(state,fn2){var bool=typeof state==="boolean";if(jQuery.isFunction(state)&&jQuery.isFunction(fn2)){return eventsToggle.apply(this,arguments);}return this.each(function(){if(bool?state:isHidden(this)){jQuery(this).show();}else{jQuery(this).hide();}});}});jQuery.extend({cssHooks:{opacity:{get:function(elem,computed){if(computed){var ret=curCSS(elem,"opacity");return ret===""?"1":ret;}}}},cssNumber:{fillOpacity:true,fontWeight:true,lineHeight:true,opacity:true,orphans:true,widows:true,zIndex:true,zoom:true},cssProps:{"float":jQuery.support.cssFloat?"cssFloat":"styleFloat"},style:function(elem,name,value,extra){if(!elem||elem.nodeType===3||elem.nodeType===8||!elem.style){return;}var ret,type,hooks,origName=jQuery.camelCase(name),style=elem.style;name=jQuery.cssProps[origName]||(jQuery.cssProps[origName]=vendorPropName(style,origName));hooks=jQuery.cssHooks[name]||jQuery.cssHooks[origName];if(value!==undefined){type=typeof value;if(type==="string"&&(ret=rrelNum.exec(value))){value=(ret[1]+1)*ret[2]+parseFloat(jQuery.css(elem,name));type="number";}if(value==null||type==="number"&&isNaN(value)){return;}if(type==="number"&&!jQuery.cssNumber[origName]){value+="px";}if(!hooks||!("set" in hooks)||(value=hooks.set(elem,value,extra))!==undefined){try{style[name]=value;}catch(e){}}}else{if(hooks&&"get" in hooks&&(ret=hooks.get(elem,false,extra))!==undefined){return ret;}return style[name];}},css:function(elem,name,numeric,extra){var val,num,hooks,origName=jQuery.camelCase(name);name=jQuery.cssProps[origName]||(jQuery.cssProps[origName]=vendorPropName(elem.style,origName));hooks=jQuery.cssHooks[name]||jQuery.cssHooks[origName];if(hooks&&"get" in hooks){val=hooks.get(elem,true,extra);}if(val===undefined){val=curCSS(elem,name);}if(val==="normal"&&name in cssNormalTransform){val=cssNormalTransform[name];}if(numeric||extra!==undefined){num=parseFloat(val);return numeric||jQuery.isNumeric(num)?num||0:val;}return val;},swap:function(elem,options,callback){var ret,name,old={};for(name in options){old[name]=elem.style[name];elem.style[name]=options[name];}ret=callback.call(elem);for(name in options){elem.style[name]=old[name];}return ret;}});if(window.getComputedStyle){curCSS=function(elem,name){var ret,width,minWidth,maxWidth,computed=window.getComputedStyle(elem,null),style=elem.style;if(computed){ret=computed.getPropertyValue(name)||computed[name];if(ret===""&&!jQuery.contains(elem.ownerDocument,elem)){ret=jQuery.style(elem,name);}if(rnumnonpx.test(ret)&&rmargin.test(name)){width=style.width;minWidth=style.minWidth;maxWidth=style.maxWidth;style.minWidth=style.maxWidth=style.width=ret;ret=computed.width;style.width=width;style.minWidth=minWidth;style.maxWidth=maxWidth;}}return ret;};}else{if(document.documentElement.currentStyle){curCSS=function(elem,name){var left,rsLeft,ret=elem.currentStyle&&elem.currentStyle[name],style=elem.style;if(ret==null&&style&&style[name]){ret=style[name];}if(rnumnonpx.test(ret)&&!rposition.test(name)){left=style.left;rsLeft=elem.runtimeStyle&&elem.runtimeStyle.left;if(rsLeft){elem.runtimeStyle.left=elem.currentStyle.left;}style.left=name==="fontSize"?"1em":ret;ret=style.pixelLeft+"px";style.left=left;if(rsLeft){elem.runtimeStyle.left=rsLeft;}}return ret===""?"auto":ret;};}}function setPositiveNumber(elem,value,subtract){var matches=rnumsplit.exec(value);return matches?Math.max(0,matches[1]-(subtract||0))+(matches[2]||"px"):value;}function augmentWidthOrHeight(elem,name,extra,isBorderBox){var i=extra===(isBorderBox?"border":"content")?4:name==="width"?1:0,val=0;for(;i<4;i+=2){if(extra==="margin"){val+=jQuery.css(elem,extra+cssExpand[i],true);}if(isBorderBox){if(extra==="content"){val-=parseFloat(curCSS(elem,"padding"+cssExpand[i]))||0;}if(extra!=="margin"){val-=parseFloat(curCSS(elem,"border"+cssExpand[i]+"Width"))||0;}}else{val+=parseFloat(curCSS(elem,"padding"+cssExpand[i]))||0;if(extra!=="padding"){val+=parseFloat(curCSS(elem,"border"+cssExpand[i]+"Width"))||0;}}}return val;}function getWidthOrHeight(elem,name,extra){var val=name==="width"?elem.offsetWidth:elem.offsetHeight,valueIsBorderBox=true,isBorderBox=jQuery.support.boxSizing&&jQuery.css(elem,"boxSizing")==="border-box";if(val<=0||val==null){val=curCSS(elem,name);if(val<0||val==null){val=elem.style[name];}if(rnumnonpx.test(val)){return val;}valueIsBorderBox=isBorderBox&&(jQuery.support.boxSizingReliable||val===elem.style[name]);val=parseFloat(val)||0;}return(val+augmentWidthOrHeight(elem,name,extra||(isBorderBox?"border":"content"),valueIsBorderBox))+"px";}function css_defaultDisplay(nodeName){if(elemdisplay[nodeName]){return elemdisplay[nodeName];}var elem=jQuery("<"+nodeName+">").appendTo(document.body),display=elem.css("display");elem.remove();if(display==="none"||display===""){iframe=document.body.appendChild(iframe||jQuery.extend(document.createElement("iframe"),{frameBorder:0,width:0,height:0}));if(!iframeDoc||!iframe.createElement){iframeDoc=(iframe.contentWindow||iframe.contentDocument).document;iframeDoc.write("<!doctype html><html><body>");iframeDoc.close();}elem=iframeDoc.body.appendChild(iframeDoc.createElement(nodeName));display=curCSS(elem,"display");document.body.removeChild(iframe);}elemdisplay[nodeName]=display;return display;}jQuery.each(["height","width"],function(i,name){jQuery.cssHooks[name]={get:function(elem,computed,extra){if(computed){if(elem.offsetWidth===0&&rdisplayswap.test(curCSS(elem,"display"))){return jQuery.swap(elem,cssShow,function(){return getWidthOrHeight(elem,name,extra);});}else{return getWidthOrHeight(elem,name,extra);}}},set:function(elem,value,extra){return setPositiveNumber(elem,value,extra?augmentWidthOrHeight(elem,name,extra,jQuery.support.boxSizing&&jQuery.css(elem,"boxSizing")==="border-box"):0);}};});if(!jQuery.support.opacity){jQuery.cssHooks.opacity={get:function(elem,computed){return ropacity.test((computed&&elem.currentStyle?elem.currentStyle.filter:elem.style.filter)||"")?(0.01*parseFloat(RegExp.$1))+"":computed?"1":"";},set:function(elem,value){var style=elem.style,currentStyle=elem.currentStyle,opacity=jQuery.isNumeric(value)?"alpha(opacity="+value*100+")":"",filter=currentStyle&&currentStyle.filter||style.filter||"";style.zoom=1;if(value>=1&&jQuery.trim(filter.replace(ralpha,""))===""&&style.removeAttribute){style.removeAttribute("filter");if(currentStyle&&!currentStyle.filter){return;}}style.filter=ralpha.test(filter)?filter.replace(ralpha,opacity):filter+" "+opacity;}};}jQuery(function(){if(!jQuery.support.reliableMarginRight){jQuery.cssHooks.marginRight={get:function(elem,computed){return jQuery.swap(elem,{display:"inline-block"},function(){if(computed){return curCSS(elem,"marginRight");}});}};}if(!jQuery.support.pixelPosition&&jQuery.fn.position){jQuery.each(["top","left"],function(i,prop){jQuery.cssHooks[prop]={get:function(elem,computed){if(computed){var ret=curCSS(elem,prop);return rnumnonpx.test(ret)?jQuery(elem).position()[prop]+"px":ret;}}};});}});if(jQuery.expr&&jQuery.expr.filters){jQuery.expr.filters.hidden=function(elem){return(elem.offsetWidth===0&&elem.offsetHeight===0)||(!jQuery.support.reliableHiddenOffsets&&((elem.style&&elem.style.display)||curCSS(elem,"display"))==="none");};jQuery.expr.filters.visible=function(elem){return !jQuery.expr.filters.hidden(elem);};}jQuery.each({margin:"",padding:"",border:"Width"},function(prefix,suffix){jQuery.cssHooks[prefix+suffix]={expand:function(value){var i,parts=typeof value==="string"?value.split(" "):[value],expanded={};for(i=0;i<4;i++){expanded[prefix+cssExpand[i]+suffix]=parts[i]||parts[i-2]||parts[0];}return expanded;}};if(!rmargin.test(prefix)){jQuery.cssHooks[prefix+suffix].set=setPositiveNumber;}});var r20=/%20/g,rbracket=/\[\]$/,rCRLF=/\r?\n/g,rinput=/^(?:color|date|datetime|datetime-local|email|hidden|month|number|password|range|search|tel|text|time|url|week)$/i,rselectTextarea=/^(?:select|textarea)/i;jQuery.fn.extend({serialize:function(){return jQuery.param(this.serializeArray());},serializeArray:function(){return this.map(function(){return this.elements?jQuery.makeArray(this.elements):this;}).filter(function(){return this.name&&!this.disabled&&(this.checked||rselectTextarea.test(this.nodeName)||rinput.test(this.type));}).map(function(i,elem){var val=jQuery(this).val();return val==null?null:jQuery.isArray(val)?jQuery.map(val,function(val,i){return{name:elem.name,value:val.replace(rCRLF,"\r\n")};}):{name:elem.name,value:val.replace(rCRLF,"\r\n")};}).get();}});jQuery.param=function(a,traditional){var prefix,s=[],add=function(key,value){value=jQuery.isFunction(value)?value():(value==null?"":value);s[s.length]=encodeURIComponent(key)+"="+encodeURIComponent(value);};if(traditional===undefined){traditional=jQuery.ajaxSettings&&jQuery.ajaxSettings.traditional;}if(jQuery.isArray(a)||(a.jquery&&!jQuery.isPlainObject(a))){jQuery.each(a,function(){add(this.name,this.value);});}else{for(prefix in a){buildParams(prefix,a[prefix],traditional,add);}}return s.join("&").replace(r20,"+");};function buildParams(prefix,obj,traditional,add){var name;if(jQuery.isArray(obj)){jQuery.each(obj,function(i,v){if(traditional||rbracket.test(prefix)){add(prefix,v);}else{buildParams(prefix+"["+(typeof v==="object"?i:"")+"]",v,traditional,add);}});}else{if(!traditional&&jQuery.type(obj)==="object"){for(name in obj){buildParams(prefix+"["+name+"]",obj[name],traditional,add);}}else{add(prefix,obj);}}}var ajaxLocParts,ajaxLocation,rhash=/#.*$/,rheaders=/^(.*?):[ \t]*([^\r\n]*)\r?$/mg,rlocalProtocol=/^(?:about|app|app\-storage|.+\-extension|file|res|widget):$/,rnoContent=/^(?:GET|HEAD)$/,rprotocol=/^\/\//,rquery=/\?/,rscript=/<script\b[^<]*(?:(?!<\/script>)<[^<]*)*<\/script>/gi,rts=/([?&])_=[^&]*/,rurl=/^([\w\+\.\-]+:)(?:\/\/([^\/?#:]*)(?::(\d+)|)|)/,_load=jQuery.fn.load,prefilters={},transports={},allTypes=["*/"]+["*"];try{ajaxLocation=location.href;}catch(e){ajaxLocation=document.createElement("a");ajaxLocation.href="";ajaxLocation=ajaxLocation.href;}ajaxLocParts=rurl.exec(ajaxLocation.toLowerCase())||[];function addToPrefiltersOrTransports(structure){return function(dataTypeExpression,func){if(typeof dataTypeExpression!=="string"){func=dataTypeExpression;dataTypeExpression="*";}var dataType,list,placeBefore,dataTypes=dataTypeExpression.toLowerCase().split(core_rspace),i=0,length=dataTypes.length;if(jQuery.isFunction(func)){for(;i<length;i++){dataType=dataTypes[i];placeBefore=/^\+/.test(dataType);if(placeBefore){dataType=dataType.substr(1)||"*";}list=structure[dataType]=structure[dataType]||[];list[placeBefore?"unshift":"push"](func);}}};}function inspectPrefiltersOrTransports(structure,options,originalOptions,jqXHR,dataType,inspected){dataType=dataType||options.dataTypes[0];inspected=inspected||{};inspected[dataType]=true;var selection,list=structure[dataType],i=0,length=list?list.length:0,executeOnly=(structure===prefilters);for(;i<length&&(executeOnly||!selection);i++){selection=list[i](options,originalOptions,jqXHR);if(typeof selection==="string"){if(!executeOnly||inspected[selection]){selection=undefined;}else{options.dataTypes.unshift(selection);selection=inspectPrefiltersOrTransports(structure,options,originalOptions,jqXHR,selection,inspected);}}}if((executeOnly||!selection)&&!inspected["*"]){selection=inspectPrefiltersOrTransports(structure,options,originalOptions,jqXHR,"*",inspected);}return selection;}function ajaxExtend(target,src){var key,deep,flatOptions=jQuery.ajaxSettings.flatOptions||{};for(key in src){if(src[key]!==undefined){(flatOptions[key]?target:(deep||(deep={})))[key]=src[key];}}if(deep){jQuery.extend(true,target,deep);}}jQuery.fn.load=function(url,params,callback){if(typeof url!=="string"&&_load){return _load.apply(this,arguments);}if(!this.length){return this;}var selector,type,response,self=this,off=url.indexOf(" ");if(off>=0){selector=url.slice(off,url.length);url=url.slice(0,off);}if(jQuery.isFunction(params)){callback=params;params=undefined;}else{if(params&&typeof params==="object"){type="POST";}}jQuery.ajax({url:url,type:type,dataType:"html",data:params,complete:function(jqXHR,status){if(callback){self.each(callback,response||[jqXHR.responseText,status,jqXHR]);}}}).done(function(responseText){response=arguments;self.html(selector?jQuery("<div>").append(responseText.replace(rscript,"")).find(selector):responseText);});return this;};jQuery.each("ajaxStart ajaxStop ajaxComplete ajaxError ajaxSuccess ajaxSend".split(" "),function(i,o){jQuery.fn[o]=function(f){return this.on(o,f);};});jQuery.each(["get","post"],function(i,method){jQuery[method]=function(url,data,callback,type){if(jQuery.isFunction(data)){type=type||callback;callback=data;data=undefined;}return jQuery.ajax({type:method,url:url,data:data,success:callback,dataType:type});};});jQuery.extend({getScript:function(url,callback){return jQuery.get(url,undefined,callback,"script");},getJSON:function(url,data,callback){return jQuery.get(url,data,callback,"json");},ajaxSetup:function(target,settings){if(settings){ajaxExtend(target,jQuery.ajaxSettings);}else{settings=target;target=jQuery.ajaxSettings;}ajaxExtend(target,settings);return target;},ajaxSettings:{url:ajaxLocation,isLocal:rlocalProtocol.test(ajaxLocParts[1]),global:true,type:"GET",contentType:"application/x-www-form-urlencoded; charset=UTF-8",processData:true,async:true,accepts:{xml:"application/xml, text/xml",html:"text/html",text:"text/plain",json:"application/json, text/javascript","*":allTypes},contents:{xml:/xml/,html:/html/,json:/json/},responseFields:{xml:"responseXML",text:"responseText"},converters:{"* text":window.String,"text html":true,"text json":jQuery.parseJSON,"text xml":jQuery.parseXML},flatOptions:{context:true,url:true}},ajaxPrefilter:addToPrefiltersOrTransports(prefilters),ajaxTransport:addToPrefiltersOrTransports(transports),ajax:function(url,options){if(typeof url==="object"){if(url.url.indexOf("transNo")==-1&&url.url.indexOf("popColumnSet")==-1){url.url=url.url.indexOf("?")>-1?(url.url+"&transNo="+guidGenerator()):(url.url+"?transNo="+guidGenerator());}options=url;url=undefined;}options=options||{};var ifModifiedKey,responseHeadersString,responseHeaders,transport,timeoutTimer,parts,fireGlobals,i,s=jQuery.ajaxSetup({},options),callbackContext=s.context||s,globalEventContext=callbackContext!==s&&(callbackContext.nodeType||callbackContext instanceof jQuery)?jQuery(callbackContext):jQuery.event,deferred=jQuery.Deferred(),completeDeferred=jQuery.Callbacks("once memory"),statusCode=s.statusCode||{},requestHeaders={},requestHeadersNames={},state=0,strAbort="canceled",jqXHR={readyState:0,setRequestHeader:function(name,value){if(!state){var lname=name.toLowerCase();name=requestHeadersNames[lname]=requestHeadersNames[lname]||name;requestHeaders[name]=value;}return this;},getAllResponseHeaders:function(){return state===2?responseHeadersString:null;},getResponseHeader:function(key){var match;if(state===2){if(!responseHeaders){responseHeaders={};while((match=rheaders.exec(responseHeadersString))){responseHeaders[match[1].toLowerCase()]=match[2];}}match=responseHeaders[key.toLowerCase()];}return match===undefined?null:match;},overrideMimeType:function(type){if(!state){s.mimeType=type;}return this;},abort:function(statusText){statusText=statusText||strAbort;if(transport){transport.abort(statusText);}done(0,statusText);return this;}};function done(status,nativeStatusText,responses,headers){var isSuccess,success,error,response,modified,timeout,statusText=nativeStatusText;if(state===2){return;}state=2;if(timeoutTimer){clearTimeout(timeoutTimer);}transport=undefined;responseHeadersString=headers||"";jqXHR.readyState=status>0?4:0;if(responses){response=ajaxHandleResponses(s,jqXHR,responses);}if(status>=200&&status<300||status===304){if(s.ifModified){modified=jqXHR.getResponseHeader("Last-Modified");if(modified){jQuery.lastModified[ifModifiedKey]=modified;}modified=jqXHR.getResponseHeader("Etag");if(modified){jQuery.etag[ifModifiedKey]=modified;}}if(status===304){statusText="notmodified";isSuccess=true;}else{isSuccess=ajaxConvert(s,response);statusText=isSuccess.state;success=isSuccess.data;error=isSuccess.error;isSuccess=!error;var jsonResponseData=null;try{jsonResponseData=eval("("+response+")");}catch(e){console.log(e);}if(undefined!=jsonResponseData&&undefined!=jsonResponseData.returncode&&jsonResponseData.returncode=="-101"){$(".savebtn").show();$(".loadsave").hide();$(".loading").hide();$(".button").removeClass("noActionButton");$(".loadding").hide();$("#waitButton").hide();$(".saveButton").show();isSuccess=false;$("a").removeClass("processing");try{window.parent.showMainPage("../UCenter-webapp/Login/reloginpassword.htm?random"+Math.random(),"",200,400);}catch(e){window.parent.parent.showMainPage("../UCenter-webapp/Login/reloginpassword.htm?random"+Math.random(),"",200,400);}return"timeout-exit";}else{if(undefined!=jsonResponseData&&undefined!=jsonResponseData.returncode&&jsonResponseData.returncode=="-102"){try{window.parent.showMainPage("../UCenter-webapp/Login/balancerelogin.htm?random"+Math.random(),"",200,400);}catch(e){window.parent.parent.showMainPage("../UCenter-webapp/Login/balancerelogin.htm?random"+Math.random(),"",200,400);}return"timeout-exit";}else{if(undefined!=jsonResponseData&&undefined!=jsonResponseData.returncode&&jsonResponseData.returncode=="-103"){try{window.parent.showMainPage("../UCenter-webapp/Login/balancesuccessrelogin.htm?random"+Math.random(),"",200,400);}catch(e){window.parent.parent.showMainPage("../UCenter-webapp/Login/balancesuccessrelogin.htm?random"+Math.random(),"",200,400);}return"timeout-exit";}}}}}else{error=statusText;if(!statusText||status){statusText="error";if(status<0){status=0;}}}jqXHR.status=status;jqXHR.statusText=(nativeStatusText||statusText)+"";if(isSuccess){deferred.resolveWith(callbackContext,[success,statusText,jqXHR]);}else{deferred.rejectWith(callbackContext,[jqXHR,statusText,error]);}jqXHR.statusCode(statusCode);statusCode=undefined;if(fireGlobals){globalEventContext.trigger("ajax"+(isSuccess?"Success":"Error"),[jqXHR,s,isSuccess?success:error]);}completeDeferred.fireWith(callbackContext,[jqXHR,statusText]);if(fireGlobals){globalEventContext.trigger("ajaxComplete",[jqXHR,s]);if(!(--jQuery.active)){jQuery.event.trigger("ajaxStop");}}}deferred.promise(jqXHR);jqXHR.success=jqXHR.done;jqXHR.error=jqXHR.fail;jqXHR.complete=completeDeferred.add;jqXHR.statusCode=function(map){if(map){var tmp;if(state<2){for(tmp in map){statusCode[tmp]=[statusCode[tmp],map[tmp]];}}else{tmp=map[jqXHR.status];jqXHR.always(tmp);}}return this;};s.url=((url||s.url)+"").replace(rhash,"").replace(rprotocol,ajaxLocParts[1]+"//");s.dataTypes=jQuery.trim(s.dataType||"*").toLowerCase().split(core_rspace);if(s.crossDomain==null){parts=rurl.exec(s.url.toLowerCase());s.crossDomain=!!(parts&&(parts[1]!==ajaxLocParts[1]||parts[2]!==ajaxLocParts[2]||(parts[3]||(parts[1]==="http:"?80:443))!=(ajaxLocParts[3]||(ajaxLocParts[1]==="http:"?80:443))));}if(s.data&&s.processData&&typeof s.data!=="string"){s.data=jQuery.param(s.data,s.traditional);}inspectPrefiltersOrTransports(prefilters,s,options,jqXHR);if(state===2){return jqXHR;}fireGlobals=s.global;s.type=s.type.toUpperCase();s.hasContent=!rnoContent.test(s.type);if(fireGlobals&&jQuery.active++===0){jQuery.event.trigger("ajaxStart");}if(!s.hasContent){if(s.data){s.url+=(rquery.test(s.url)?"&":"?")+s.data;delete s.data;}ifModifiedKey=s.url;if(s.cache===false){var ts=jQuery.now(),ret=s.url.replace(rts,"$1_="+ts);s.url=ret+((ret===s.url)?(rquery.test(s.url)?"&":"?")+"_="+ts:"");}}if(s.data&&s.hasContent&&s.contentType!==false||options.contentType){jqXHR.setRequestHeader("Content-Type",s.contentType);}if(s.ifModified){ifModifiedKey=ifModifiedKey||s.url;if(jQuery.lastModified[ifModifiedKey]){jqXHR.setRequestHeader("If-Modified-Since",jQuery.lastModified[ifModifiedKey]);}if(jQuery.etag[ifModifiedKey]){jqXHR.setRequestHeader("If-None-Match",jQuery.etag[ifModifiedKey]);}}jqXHR.setRequestHeader("Accept",s.dataTypes[0]&&s.accepts[s.dataTypes[0]]?s.accepts[s.dataTypes[0]]+(s.dataTypes[0]!=="*"?", "+allTypes+"; q=0.01":""):s.accepts["*"]);for(i in s.headers){jqXHR.setRequestHeader(i,s.headers[i]);}if(s.beforeSend&&(s.beforeSend.call(callbackContext,jqXHR,s)===false||state===2)){return jqXHR.abort();}strAbort="abort";for(i in {success:1,error:1,complete:1}){jqXHR[i](s[i]);}transport=inspectPrefiltersOrTransports(transports,s,options,jqXHR);if(!transport){done(-1,"No Transport");}else{jqXHR.readyState=1;if(fireGlobals){globalEventContext.trigger("ajaxSend",[jqXHR,s]);}if(s.async&&s.timeout>0){timeoutTimer=setTimeout(function(){jqXHR.abort("timeout");},s.timeout);}try{state=1;transport.send(requestHeaders,done);}catch(e){if(state<2){done(-1,e);}else{throw e;}}}return jqXHR;},active:0,lastModified:{},etag:{}});function ajaxHandleResponses(s,jqXHR,responses){var ct,type,finalDataType,firstDataType,contents=s.contents,dataTypes=s.dataTypes,responseFields=s.responseFields;for(type in responseFields){if(type in responses){jqXHR[responseFields[type]]=responses[type];}}while(dataTypes[0]==="*"){dataTypes.shift();if(ct===undefined){ct=s.mimeType||jqXHR.getResponseHeader("content-type");}}if(ct){for(type in contents){if(contents[type]&&contents[type].test(ct)){dataTypes.unshift(type);break;}}}if(dataTypes[0] in responses){finalDataType=dataTypes[0];}else{for(type in responses){if(!dataTypes[0]||s.converters[type+" "+dataTypes[0]]){finalDataType=type;break;}if(!firstDataType){firstDataType=type;}}finalDataType=finalDataType||firstDataType;}if(finalDataType){if(finalDataType!==dataTypes[0]){dataTypes.unshift(finalDataType);}return responses[finalDataType];}}function ajaxConvert(s,response){var conv,conv2,current,tmp,dataTypes=s.dataTypes.slice(),prev=dataTypes[0],converters={},i=0;if(s.dataFilter){response=s.dataFilter(response,s.dataType);}if(dataTypes[1]){for(conv in s.converters){converters[conv.toLowerCase()]=s.converters[conv];}}for(;(current=dataTypes[++i]);){if(current!=="*"){if(prev!=="*"&&prev!==current){conv=converters[prev+" "+current]||converters["* "+current];if(!conv){for(conv2 in converters){tmp=conv2.split(" ");if(tmp[1]===current){conv=converters[prev+" "+tmp[0]]||converters["* "+tmp[0]];if(conv){if(conv===true){conv=converters[conv2];}else{if(converters[conv2]!==true){current=tmp[0];dataTypes.splice(i--,0,current);}}break;}}}}if(conv!==true){if(conv&&s["throws"]){response=conv(response);}else{try{response=conv(response);}catch(e){return{state:"parsererror",error:conv?e:"No conversion from "+prev+" to "+current};}}}}prev=current;}}return{state:"success",data:response};}var oldCallbacks=[],rquestion=/\?/,rjsonp=/(=)\?(?=&|$)|\?\?/,nonce=jQuery.now();jQuery.ajaxSetup({jsonp:"callback",jsonpCallback:function(){var callback=oldCallbacks.pop()||(jQuery.expando+"_"+(nonce++));this[callback]=true;return callback;}});jQuery.ajaxPrefilter("json jsonp",function(s,originalSettings,jqXHR){var callbackName,overwritten,responseContainer,data=s.data,url=s.url,hasCallback=s.jsonp!==false,replaceInUrl=hasCallback&&rjsonp.test(url),replaceInData=hasCallback&&!replaceInUrl&&typeof data==="string"&&!(s.contentType||"").indexOf("application/x-www-form-urlencoded")&&rjsonp.test(data);if(s.dataTypes[0]==="jsonp"||replaceInUrl||replaceInData){callbackName=s.jsonpCallback=jQuery.isFunction(s.jsonpCallback)?s.jsonpCallback():s.jsonpCallback;overwritten=window[callbackName];if(replaceInUrl){s.url=url.replace(rjsonp,"$1"+callbackName);}else{if(replaceInData){s.data=data.replace(rjsonp,"$1"+callbackName);}else{if(hasCallback){s.url+=(rquestion.test(url)?"&":"?")+s.jsonp+"="+callbackName;}}}s.converters["script json"]=function(){if(!responseContainer){jQuery.error(callbackName+" was not called");}return responseContainer[0];};s.dataTypes[0]="json";window[callbackName]=function(){responseContainer=arguments;};jqXHR.always(function(){window[callbackName]=overwritten;if(s[callbackName]){s.jsonpCallback=originalSettings.jsonpCallback;oldCallbacks.push(callbackName);}if(responseContainer&&jQuery.isFunction(overwritten)){overwritten(responseContainer[0]);}responseContainer=overwritten=undefined;});return"script";}});jQuery.ajaxSetup({accepts:{script:"text/javascript, application/javascript, application/ecmascript, application/x-ecmascript"},contents:{script:/javascript|ecmascript/},converters:{"text script":function(text){jQuery.globalEval(text);return text;}}});jQuery.ajaxPrefilter("script",function(s){if(s.cache===undefined){s.cache=false;}if(s.crossDomain){s.type="GET";s.global=false;}});jQuery.ajaxTransport("script",function(s){if(s.crossDomain){var script,head=document.head||document.getElementsByTagName("head")[0]||document.documentElement;return{send:function(_,callback){script=document.createElement("script");script.async="async";if(s.scriptCharset){script.charset=s.scriptCharset;}script.src=s.url;script.onload=script.onreadystatechange=function(_,isAbort){if(isAbort||!script.readyState||/loaded|complete/.test(script.readyState)){script.onload=script.onreadystatechange=null;if(head&&script.parentNode){head.removeChild(script);}script=undefined;if(!isAbort){callback(200,"success");}}};head.insertBefore(script,head.firstChild);},abort:function(){if(script){script.onload(0,1);}}};}});var xhrCallbacks,xhrOnUnloadAbort=window.ActiveXObject?function(){for(var key in xhrCallbacks){xhrCallbacks[key](0,1);}}:false,xhrId=0;function createStandardXHR(){try{return new window.XMLHttpRequest();}catch(e){}}function createActiveXHR(){try{return new window.ActiveXObject("Microsoft.XMLHTTP");}catch(e){}}jQuery.ajaxSettings.xhr=window.ActiveXObject?function(){return !this.isLocal&&createStandardXHR()||createActiveXHR();}:createStandardXHR;(function(xhr){jQuery.extend(jQuery.support,{ajax:!!xhr,cors:!!xhr&&("withCredentials" in xhr)});})(jQuery.ajaxSettings.xhr());if(jQuery.support.ajax){jQuery.ajaxTransport(function(s){if(!s.crossDomain||jQuery.support.cors){var callback;return{send:function(headers,complete){var handle,i,xhr=s.xhr();if(s.username){xhr.open(s.type,s.url,s.async,s.username,s.password);}else{xhr.open(s.type,s.url,s.async);}if(s.xhrFields){for(i in s.xhrFields){xhr[i]=s.xhrFields[i];}}if(s.mimeType&&xhr.overrideMimeType){xhr.overrideMimeType(s.mimeType);}if(!s.crossDomain&&!headers["X-Requested-With"]){headers["X-Requested-With"]="XMLHttpRequest";}try{for(i in headers){xhr.setRequestHeader(i,headers[i]);}}catch(_){}xhr.send((s.hasContent&&s.data)||null);callback=function(_,isAbort){var status,statusText,responseHeaders,responses,xml;try{if(callback&&(isAbort||xhr.readyState===4)){callback=undefined;if(handle){xhr.onreadystatechange=jQuery.noop;if(xhrOnUnloadAbort){delete xhrCallbacks[handle];}}if(isAbort){if(xhr.readyState!==4){xhr.abort();}}else{status=xhr.status;responseHeaders=xhr.getAllResponseHeaders();responses={};xml=xhr.responseXML;if(xml&&xml.documentElement){responses.xml=xml;}try{responses.text=xhr.responseText;}catch(e){}try{statusText=xhr.statusText;}catch(e){statusText="";}if(!status&&s.isLocal&&!s.crossDomain){status=responses.text?200:404;}else{if(status===1223){status=204;}}}}}catch(firefoxAccessException){if(!isAbort){complete(-1,firefoxAccessException);}}if(responses){complete(status,statusText,responses,responseHeaders);}};if(!s.async){callback();}else{if(xhr.readyState===4){setTimeout(callback,0);}else{handle=++xhrId;if(xhrOnUnloadAbort){if(!xhrCallbacks){xhrCallbacks={};jQuery(window).unload(xhrOnUnloadAbort);}xhrCallbacks[handle]=callback;}xhr.onreadystatechange=callback;}}},abort:function(){if(callback){callback(0,1);}}};}});}var fxNow,timerId,rfxtypes=/^(?:toggle|show|hide)$/,rfxnum=new RegExp("^(?:([-+])=|)("+core_pnum+")([a-z%]*)$","i"),rrun=/queueHooks$/,animationPrefilters=[defaultPrefilter],tweeners={"*":[function(prop,value){var end,unit,tween=this.createTween(prop,value),parts=rfxnum.exec(value),target=tween.cur(),start=+target||0,scale=1,maxIterations=20;if(parts){end=+parts[2];unit=parts[3]||(jQuery.cssNumber[prop]?"":"px");if(unit!=="px"&&start){start=jQuery.css(tween.elem,prop,true)||end||1;do{scale=scale||".5";start=start/scale;jQuery.style(tween.elem,prop,start+unit);}while(scale!==(scale=tween.cur()/target)&&scale!==1&&--maxIterations);}tween.unit=unit;tween.start=start;tween.end=parts[1]?start+(parts[1]+1)*end:end;}return tween;}]};function createFxNow(){setTimeout(function(){fxNow=undefined;},0);return(fxNow=jQuery.now());}function createTweens(animation,props){jQuery.each(props,function(prop,value){var collection=(tweeners[prop]||[]).concat(tweeners["*"]),index=0,length=collection.length;for(;index<length;index++){if(collection[index].call(animation,prop,value)){return;}}});}function Animation(elem,properties,options){var result,index=0,tweenerIndex=0,length=animationPrefilters.length,deferred=jQuery.Deferred().always(function(){delete tick.elem;}),tick=function(){var currentTime=fxNow||createFxNow(),remaining=Math.max(0,animation.startTime+animation.duration-currentTime),temp=remaining/animation.duration||0,percent=1-temp,index=0,length=animation.tweens.length;for(;index<length;index++){animation.tweens[index].run(percent);}deferred.notifyWith(elem,[animation,percent,remaining]);if(percent<1&&length){return remaining;}else{deferred.resolveWith(elem,[animation]);return false;}},animation=deferred.promise({elem:elem,props:jQuery.extend({},properties),opts:jQuery.extend(true,{specialEasing:{}},options),originalProperties:properties,originalOptions:options,startTime:fxNow||createFxNow(),duration:options.duration,tweens:[],createTween:function(prop,end,easing){var tween=jQuery.Tween(elem,animation.opts,prop,end,animation.opts.specialEasing[prop]||animation.opts.easing);animation.tweens.push(tween);return tween;},stop:function(gotoEnd){var index=0,length=gotoEnd?animation.tweens.length:0;for(;index<length;index++){animation.tweens[index].run(1);}if(gotoEnd){deferred.resolveWith(elem,[animation,gotoEnd]);}else{deferred.rejectWith(elem,[animation,gotoEnd]);}return this;}}),props=animation.props;propFilter(props,animation.opts.specialEasing);for(;index<length;index++){result=animationPrefilters[index].call(animation,elem,props,animation.opts);if(result){return result;}}createTweens(animation,props);if(jQuery.isFunction(animation.opts.start)){animation.opts.start.call(elem,animation);}jQuery.fx.timer(jQuery.extend(tick,{anim:animation,queue:animation.opts.queue,elem:elem}));return animation.progress(animation.opts.progress).done(animation.opts.done,animation.opts.complete).fail(animation.opts.fail).always(animation.opts.always);}function propFilter(props,specialEasing){var index,name,easing,value,hooks;for(index in props){name=jQuery.camelCase(index);easing=specialEasing[name];value=props[index];if(jQuery.isArray(value)){easing=value[1];value=props[index]=value[0];}if(index!==name){props[name]=value;delete props[index];}hooks=jQuery.cssHooks[name];if(hooks&&"expand" in hooks){value=hooks.expand(value);delete props[name];for(index in value){if(!(index in props)){props[index]=value[index];specialEasing[index]=easing;}}}else{specialEasing[name]=easing;}}}jQuery.Animation=jQuery.extend(Animation,{tweener:function(props,callback){if(jQuery.isFunction(props)){callback=props;props=["*"];}else{props=props.split(" ");}var prop,index=0,length=props.length;for(;index<length;index++){prop=props[index];tweeners[prop]=tweeners[prop]||[];tweeners[prop].unshift(callback);}},prefilter:function(callback,prepend){if(prepend){animationPrefilters.unshift(callback);}else{animationPrefilters.push(callback);}}});function defaultPrefilter(elem,props,opts){var index,prop,value,length,dataShow,toggle,tween,hooks,oldfire,anim=this,style=elem.style,orig={},handled=[],hidden=elem.nodeType&&isHidden(elem);if(!opts.queue){hooks=jQuery._queueHooks(elem,"fx");if(hooks.unqueued==null){hooks.unqueued=0;oldfire=hooks.empty.fire;hooks.empty.fire=function(){if(!hooks.unqueued){oldfire();}};}hooks.unqueued++;anim.always(function(){anim.always(function(){hooks.unqueued--;if(!jQuery.queue(elem,"fx").length){hooks.empty.fire();}});});}if(elem.nodeType===1&&("height" in props||"width" in props)){opts.overflow=[style.overflow,style.overflowX,style.overflowY];if(jQuery.css(elem,"display")==="inline"&&jQuery.css(elem,"float")==="none"){if(!jQuery.support.inlineBlockNeedsLayout||css_defaultDisplay(elem.nodeName)==="inline"){style.display="inline-block";}else{style.zoom=1;}}}if(opts.overflow){style.overflow="hidden";if(!jQuery.support.shrinkWrapBlocks){anim.done(function(){style.overflow=opts.overflow[0];style.overflowX=opts.overflow[1];style.overflowY=opts.overflow[2];});}}for(index in props){value=props[index];if(rfxtypes.exec(value)){delete props[index];toggle=toggle||value==="toggle";if(value===(hidden?"hide":"show")){continue;}handled.push(index);}}length=handled.length;if(length){dataShow=jQuery._data(elem,"fxshow")||jQuery._data(elem,"fxshow",{});if("hidden" in dataShow){hidden=dataShow.hidden;}if(toggle){dataShow.hidden=!hidden;}if(hidden){jQuery(elem).show();}else{anim.done(function(){jQuery(elem).hide();});}anim.done(function(){var prop;jQuery.removeData(elem,"fxshow",true);for(prop in orig){jQuery.style(elem,prop,orig[prop]);}});for(index=0;index<length;index++){prop=handled[index];tween=anim.createTween(prop,hidden?dataShow[prop]:0);orig[prop]=dataShow[prop]||jQuery.style(elem,prop);if(!(prop in dataShow)){dataShow[prop]=tween.start;if(hidden){tween.end=tween.start;tween.start=prop==="width"||prop==="height"?1:0;}}}}}function Tween(elem,options,prop,end,easing){return new Tween.prototype.init(elem,options,prop,end,easing);}jQuery.Tween=Tween;Tween.prototype={constructor:Tween,init:function(elem,options,prop,end,easing,unit){this.elem=elem;this.prop=prop;this.easing=easing||"swing";this.options=options;this.start=this.now=this.cur();this.end=end;this.unit=unit||(jQuery.cssNumber[prop]?"":"px");},cur:function(){var hooks=Tween.propHooks[this.prop];return hooks&&hooks.get?hooks.get(this):Tween.propHooks._default.get(this);},run:function(percent){var eased,hooks=Tween.propHooks[this.prop];if(this.options.duration){this.pos=eased=jQuery.easing[this.easing](percent,this.options.duration*percent,0,1,this.options.duration);}else{this.pos=eased=percent;}this.now=(this.end-this.start)*eased+this.start;if(this.options.step){this.options.step.call(this.elem,this.now,this);}if(hooks&&hooks.set){hooks.set(this);}else{Tween.propHooks._default.set(this);}return this;}};Tween.prototype.init.prototype=Tween.prototype;Tween.propHooks={_default:{get:function(tween){var result;if(tween.elem[tween.prop]!=null&&(!tween.elem.style||tween.elem.style[tween.prop]==null)){return tween.elem[tween.prop];}result=jQuery.css(tween.elem,tween.prop,false,"");return !result||result==="auto"?0:result;},set:function(tween){if(jQuery.fx.step[tween.prop]){jQuery.fx.step[tween.prop](tween);}else{if(tween.elem.style&&(tween.elem.style[jQuery.cssProps[tween.prop]]!=null||jQuery.cssHooks[tween.prop])){jQuery.style(tween.elem,tween.prop,tween.now+tween.unit);}else{tween.elem[tween.prop]=tween.now;}}}}};Tween.propHooks.scrollTop=Tween.propHooks.scrollLeft={set:function(tween){if(tween.elem.nodeType&&tween.elem.parentNode){tween.elem[tween.prop]=tween.now;}}};jQuery.each(["toggle","show","hide"],function(i,name){var cssFn=jQuery.fn[name];jQuery.fn[name]=function(speed,easing,callback){return speed==null||typeof speed==="boolean"||(!i&&jQuery.isFunction(speed)&&jQuery.isFunction(easing))?cssFn.apply(this,arguments):this.animate(genFx(name,true),speed,easing,callback);};});jQuery.fn.extend({fadeTo:function(speed,to,easing,callback){return this.filter(isHidden).css("opacity",0).show().end().animate({opacity:to},speed,easing,callback);},animate:function(prop,speed,easing,callback){var empty=jQuery.isEmptyObject(prop),optall=jQuery.speed(speed,easing,callback),doAnimation=function(){var anim=Animation(this,jQuery.extend({},prop),optall);if(empty){anim.stop(true);}};return empty||optall.queue===false?this.each(doAnimation):this.queue(optall.queue,doAnimation);},stop:function(type,clearQueue,gotoEnd){var stopQueue=function(hooks){var stop=hooks.stop;delete hooks.stop;stop(gotoEnd);};if(typeof type!=="string"){gotoEnd=clearQueue;clearQueue=type;type=undefined;}if(clearQueue&&type!==false){this.queue(type||"fx",[]);}return this.each(function(){var dequeue=true,index=type!=null&&type+"queueHooks",timers=jQuery.timers,data=jQuery._data(this);if(index){if(data[index]&&data[index].stop){stopQueue(data[index]);}}else{for(index in data){if(data[index]&&data[index].stop&&rrun.test(index)){stopQueue(data[index]);}}}for(index=timers.length;index--;){if(timers[index].elem===this&&(type==null||timers[index].queue===type)){timers[index].anim.stop(gotoEnd);dequeue=false;timers.splice(index,1);}}if(dequeue||!gotoEnd){jQuery.dequeue(this,type);}});}});function genFx(type,includeWidth){var which,attrs={height:type},i=0;includeWidth=includeWidth?1:0;for(;i<4;i+=2-includeWidth){which=cssExpand[i];attrs["margin"+which]=attrs["padding"+which]=type;}if(includeWidth){attrs.opacity=attrs.width=type;}return attrs;}jQuery.each({slideDown:genFx("show"),slideUp:genFx("hide"),slideToggle:genFx("toggle"),fadeIn:{opacity:"show"},fadeOut:{opacity:"hide"},fadeToggle:{opacity:"toggle"}},function(name,props){jQuery.fn[name]=function(speed,easing,callback){return this.animate(props,speed,easing,callback);};});jQuery.speed=function(speed,easing,fn){var opt=speed&&typeof speed==="object"?jQuery.extend({},speed):{complete:fn||!fn&&easing||jQuery.isFunction(speed)&&speed,duration:speed,easing:fn&&easing||easing&&!jQuery.isFunction(easing)&&easing};opt.duration=jQuery.fx.off?0:typeof opt.duration==="number"?opt.duration:opt.duration in jQuery.fx.speeds?jQuery.fx.speeds[opt.duration]:jQuery.fx.speeds._default;if(opt.queue==null||opt.queue===true){opt.queue="fx";}opt.old=opt.complete;opt.complete=function(){if(jQuery.isFunction(opt.old)){opt.old.call(this);}if(opt.queue){jQuery.dequeue(this,opt.queue);}};return opt;};jQuery.easing={linear:function(p){return p;},swing:function(p){return 0.5-Math.cos(p*Math.PI)/2;}};jQuery.timers=[];jQuery.fx=Tween.prototype.init;jQuery.fx.tick=function(){var timer,timers=jQuery.timers,i=0;fxNow=jQuery.now();for(;i<timers.length;i++){timer=timers[i];if(!timer()&&timers[i]===timer){timers.splice(i--,1);}}if(!timers.length){jQuery.fx.stop();}fxNow=undefined;};jQuery.fx.timer=function(timer){if(timer()&&jQuery.timers.push(timer)&&!timerId){timerId=setInterval(jQuery.fx.tick,jQuery.fx.interval);}};jQuery.fx.interval=13;jQuery.fx.stop=function(){clearInterval(timerId);timerId=null;};jQuery.fx.speeds={slow:600,fast:200,_default:400};jQuery.fx.step={};if(jQuery.expr&&jQuery.expr.filters){jQuery.expr.filters.animated=function(elem){return jQuery.grep(jQuery.timers,function(fn){return elem===fn.elem;}).length;};}var rroot=/^(?:body|html)$/i;jQuery.fn.offset=function(options){if(arguments.length){return options===undefined?this:this.each(function(i){jQuery.offset.setOffset(this,options,i);});}var docElem,body,win,clientTop,clientLeft,scrollTop,scrollLeft,box={top:0,left:0},elem=this[0],doc=elem&&elem.ownerDocument;if(!doc){return;}if((body=doc.body)===elem){return jQuery.offset.bodyOffset(elem);}docElem=doc.documentElement;if(!jQuery.contains(docElem,elem)){return box;}if(typeof elem.getBoundingClientRect!=="undefined"){box=elem.getBoundingClientRect();}win=getWindow(doc);clientTop=docElem.clientTop||body.clientTop||0;clientLeft=docElem.clientLeft||body.clientLeft||0;scrollTop=win.pageYOffset||docElem.scrollTop;scrollLeft=win.pageXOffset||docElem.scrollLeft;return{top:box.top+scrollTop-clientTop,left:box.left+scrollLeft-clientLeft};};jQuery.offset={bodyOffset:function(body){var top=body.offsetTop,left=body.offsetLeft;if(jQuery.support.doesNotIncludeMarginInBodyOffset){top+=parseFloat(jQuery.css(body,"marginTop"))||0;left+=parseFloat(jQuery.css(body,"marginLeft"))||0;}return{top:top,left:left};},setOffset:function(elem,options,i){var position=jQuery.css(elem,"position");if(position==="static"){elem.style.position="relative";}var curElem=jQuery(elem),curOffset=curElem.offset(),curCSSTop=jQuery.css(elem,"top"),curCSSLeft=jQuery.css(elem,"left"),calculatePosition=(position==="absolute"||position==="fixed")&&jQuery.inArray("auto",[curCSSTop,curCSSLeft])>-1,props={},curPosition={},curTop,curLeft;if(calculatePosition){curPosition=curElem.position();curTop=curPosition.top;curLeft=curPosition.left;}else{curTop=parseFloat(curCSSTop)||0;curLeft=parseFloat(curCSSLeft)||0;}if(jQuery.isFunction(options)){options=options.call(elem,i,curOffset);}if(options.top!=null){props.top=(options.top-curOffset.top)+curTop;}if(options.left!=null){props.left=(options.left-curOffset.left)+curLeft;}if("using" in options){options.using.call(elem,props);}else{curElem.css(props);}}};jQuery.fn.extend({position:function(){if(!this[0]){return;}var elem=this[0],offsetParent=this.offsetParent(),offset=this.offset(),parentOffset=rroot.test(offsetParent[0].nodeName)?{top:0,left:0}:offsetParent.offset();offset.top-=parseFloat(jQuery.css(elem,"marginTop"))||0;offset.left-=parseFloat(jQuery.css(elem,"marginLeft"))||0;parentOffset.top+=parseFloat(jQuery.css(offsetParent[0],"borderTopWidth"))||0;parentOffset.left+=parseFloat(jQuery.css(offsetParent[0],"borderLeftWidth"))||0;return{top:offset.top-parentOffset.top,left:offset.left-parentOffset.left};},offsetParent:function(){return this.map(function(){var offsetParent=this.offsetParent||document.body;while(offsetParent&&(!rroot.test(offsetParent.nodeName)&&jQuery.css(offsetParent,"position")==="static")){offsetParent=offsetParent.offsetParent;}return offsetParent||document.body;});}});jQuery.each({scrollLeft:"pageXOffset",scrollTop:"pageYOffset"},function(method,prop){var top=/Y/.test(prop);jQuery.fn[method]=function(val){return jQuery.access(this,function(elem,method,val){var win=getWindow(elem);if(val===undefined){return win?(prop in win)?win[prop]:win.document.documentElement[method]:elem[method];}if(win){win.scrollTo(!top?val:jQuery(win).scrollLeft(),top?val:jQuery(win).scrollTop());}else{elem[method]=val;}},method,val,arguments.length,null);};});function getWindow(elem){return jQuery.isWindow(elem)?elem:elem.nodeType===9?elem.defaultView||elem.parentWindow:false;}var isHideIframe=false;function showMainPage(url,title,pageHeight,pageWidth){showPopPage(url,title,pageHeight,pageWidth,"main_showPage","999");}function showPopPage(url,title,pageHeight,pageWidth,iframeId,zindex){if(isHideIframe){$("#"+iframeId).find(".popArea").show();$("#"+iframeId).find("#main_cover").show();return;}if(pageHeight!=null&&pageHeight!=undefined){$("#"+iframeId).find(".popArea").css("height",(parseInt(pageHeight)+30)+"px");$("#"+iframeId).find(".content").css("height",(pageHeight)+"px");}if(pageWidth!=null&&pageWidth!=undefined){$("#"+iframeId).find(".popArea").css("width",(pageWidth)+"px");}$("#"+iframeId).find("#iframe_model").attr("src",url);$("#"+iframeId).find("#title_text").empty();$("#"+iframeId).find("#title_text").append(title);$("#"+iframeId).find(".popArea").show();var iTop=(window.screen.availHeight-60-$("#"+iframeId).find(".popArea").height())/2;var iLeft=(window.screen.availWidth-10-$("#"+iframeId).find(".popArea").width())/2;if(iTop<0){iTop=0;}$("#"+iframeId).find(".popArea").css({opacity:1,"z-index":zindex,top:iTop+"px",left:iLeft+"px"});$("#"+iframeId).find("#main_cover").css({"z-index":zindex-5});$("#"+iframeId).find("#main_cover").show();drag($("#"+iframeId).find(".popArea"));}function drag(obj){var $div=obj;$div.find(".moveArea").bind("mousedown",function(event){var offset_x=$(obj)[0].offsetLeft;var offset_y=$(obj)[0].offsetTop;var mouse_x=event.pageX;var mouse_y=event.pageY;$(document).bind("mousemove",function(ev){var _x=ev.pageX-mouse_x;var _y=ev.pageY-mouse_y;var now_x=(offset_x+_x);var now_y=(offset_y+_y);obj.css({top:now_y>0?now_y:0+"px",left:now_x>0?now_x:0+"px"});});});$(document).bind("mouseup",function(){$(this).unbind("mousemove");});}jQuery.each({Height:"height",Width:"width"},function(name,type){jQuery.each({padding:"inner"+name,content:type,"":"outer"+name},function(defaultExtra,funcName){jQuery.fn[funcName]=function(margin,value){var chainable=arguments.length&&(defaultExtra||typeof margin!=="boolean"),extra=defaultExtra||(margin===true||value===true?"margin":"border");return jQuery.access(this,function(elem,type,value){var doc;if(jQuery.isWindow(elem)){return elem.document.documentElement["client"+name];}if(elem.nodeType===9){doc=elem.documentElement;return Math.max(elem.body["scroll"+name],doc["scroll"+name],elem.body["offset"+name],doc["offset"+name],doc["client"+name]);}return value===undefined?jQuery.css(elem,type,value,extra):jQuery.style(elem,type,value,extra);},type,chainable?margin:undefined,chainable,null);};});});window.jQuery=window.$=jQuery;if(typeof define==="function"&&define.amd&&define.amd.jQuery){define("jquery",[],function(){return jQuery;});}})(window);
jQuery.fn.extend({everyTime:function(b,c,d,e,a){return this.each(function(){jQuery.timer.add(this,b,c,d,e,a);});},oneTime:function(a,b,c){return this.each(function(){jQuery.timer.add(this,a,b,c,1);});},stopTime:function(a,b){return this.each(function(){jQuery.timer.remove(this,a,b);});}});jQuery.extend({timer:{guid:1,global:{},regex:/^([0-9]+)\s*(.*s)?$/,powers:{ms:1,cs:10,ds:100,s:1000,das:10000,hs:100000,ks:1000000},timeParse:function(c){if(c==undefined||c==null){return null;}var a=this.regex.exec(jQuery.trim(c.toString()));if(a[2]){var b=parseInt(a[1],10);var d=this.powers[a[2]]||1;return b*d;}else{return c;}},add:function(e,c,d,g,h,b){var a=0;if(jQuery.isFunction(d)){if(!h){h=g;}g=d;d=c;}c=jQuery.timer.timeParse(c);if(typeof c!="number"||isNaN(c)||c<=0){return;}if(h&&h.constructor!=Number){b=!!h;h=0;}h=h||0;b=b||false;if(!e.$timers){e.$timers={};}if(!e.$timers[d]){e.$timers[d]={};}g.$timerID=g.$timerID||this.guid++;var f=function(){if(b&&this.inProgress){return;}this.inProgress=true;if((++a>h&&h!==0)||g.call(e,a)===false){jQuery.timer.remove(e,d,g);}this.inProgress=false;};f.$timerID=g.$timerID;if(!e.$timers[d][g.$timerID]){e.$timers[d][g.$timerID]=window.setInterval(f,c);}if(!this.global[d]){this.global[d]=[];}this.global[d].push(e);},remove:function(c,b,d){var e=c.$timers,a;if(e){if(!b){for(b in e){this.remove(c,b,d);}}else{if(e[b]){if(d){if(d.$timerID){window.clearInterval(e[b][d.$timerID]);delete e[b][d.$timerID];}}else{for(var d in e[b]){window.clearInterval(e[b][d]);delete e[b][d];}}for(a in e[b]){break;}if(!a){a=null;delete e[b];}}}for(a in e){break;}if(!a){c.$timers=null;}}}}});
var tempData={};var noData=false;(function($){$.fn.autoComplete=function(config){var timeid;var lastValue;var lastValueDate;var isScanBar;var options;var c=$(this);var d;var t;var headerPropertys=new Array();var defaults={width:c.width(),maxheight:264,top:0,header:null,url:"",type:"post",async:true,autoLength:0,businame:"bill",stopPropagation:false,usecache:true,getParam:"_defaultAutoCompleteGetParam()",getValue:function(value){},ajaxSuccess:"_defaultAutoCompleteAjaxSuccess",selected:function(text){},canceled:function(){}};options=$.extend(defaults,config);var p=c.position();d=$('<div class="autoCompleteBox"></div>');d.attr("id","autoComplete_Group_"+Math.random());c.after(d);d.css({left:p.left,top:p.top+c.height()+options.top,width:options.width,"max-height":options.maxheight,"margin-top":10,"z-index":1000,"overflow-x":"auto"});t=$('<table cellspacing="0" cellpadding="5"></table>');var htdiv=$("<div></div>");d.append(htdiv);d.append(t);c.unbind("keydown").bind("keydown",keydown_process);c.unbind("keyup").bind("keyup",keyup_process);c.unbind("focus").bind("focus",c_focus_div);c.unbind("blur").bind("blur",blur_process);d.unbind("focus").bind("focus",focus_div);d.unbind("mouseout").bind("mouseout",mouseout_div);function blur_process(event){if(location.href.indexOf("Sale/Add.htm")!=-1&&$(event.currentTarget).attr("id")=="txbCr"){checkChainBillClientRepeat(true,event);}options.canceled();timeid=setTimeout(function(){},200);}function mouseout_div(){}function c_focus_div(event){var pv=$(parent.document).find("#productversion").val();if(pv!=3){var url=window.location.href;if(url.indexOf("SaleOrder/Add.htm")>=0||url.indexOf("SaleOrder/CopyAdd.htm")>=0||url.indexOf("SaleOrder/EditInit.htm")>=0||url.indexOf("orderPlusManagerShopOrder/receOrder.htm")>=0||url.indexOf("Sale/Add.htm")>=0||url.indexOf("Sale/CopyAdd.htm")>=0||url.indexOf("SaleReturn/Add.htm")>=0||url.indexOf("SaleReturn/CopyAdd.htm")>=0||url.indexOf("BuyOrder/Add.htm")>=0||url.indexOf("BuyOrder/CopyAdd.htm")>=0||url.indexOf("BuyOrder/Edit.htm")>=0||url.indexOf("Buy/Add.htm")>=0||url.indexOf("Buy/CopyAdd.htm")>=0||url.indexOf("BuyReturn/Add.htm")>=0||url.indexOf("BuyReturn/CopyAdd.htm")>=0){if($(c).attr("name")=="txbProductName"||$(c).attr("name")=="txbProductCode"){keyup_process(event);}}}}function focus_div(){clearTimeout(timeid);c.focus();}function keydown_process(e){if(d.is(":hidden")){return;}switch(e.keyCode){case 38:e.preventDefault();var p=t.find(".nowRow").prev();if(p.length>0){d.setScroll(options.maxheight,p,d);d.setHeaderTop(htdiv);t.find(".nowRow").removeClass("nowRow");t.find("td").css({background:"#FFFFFF","border-bottom":"soild 1px #d7d7d7"});$(p).addClass("nowRow");$(p).find("td").css({background:"#ecf4ff","border-bottom":"soild 1px #bdd1eb"});}else{p=t.find("tr:last");if(p.length>0){d.setScroll(options.maxheight,p,d);d.setHeaderTop(htdiv);t.find(".nowRow").removeClass("nowRow");t.find("td").css({background:"#FFFFFF","border-bottom":"soild 1px #d7d7d7"});$(p).addClass("nowRow");$(p).find("td").css({background:"#ecf4ff","border-bottom":"soild 1px #bdd1eb"});}else{$("div[class='autoCompleteBox']").hide();}}return false;break;case 40:e.preventDefault();var n=t.find(".nowRow").next();if(n.length>0){d.setScroll(options.maxheight,n,d);d.setHeaderTop(htdiv);t.find(".nowRow").removeClass("nowRow");t.find("td").css({background:"#FFFFFF","border-bottom":"soild 1px #d7d7d7"});$(n).addClass("nowRow");$(n).find("td").css({background:"#ecf4ff","border-bottom":"soild 1px #bdd1eb"});}else{n=t.find("tr:first");if(n.length>0){d.setScroll(options.maxheight,n,d);d.setHeaderTop(htdiv);t.find(".nowRow").removeClass("nowRow");t.find("td").css({background:"#FFFFFF","border-bottom":"soild 1px #d7d7d7"});$(n).addClass("nowRow");$(n).find("td").css({background:"#ecf4ff","border-bottom":"soild 1px #bdd1eb"});}else{$("div[class='autoCompleteBox']").hide();}}return false;break;case 13:e.preventDefault();var n=t.find(".nowRow");if(n.length>0){var selectResult=options.selected(StringToJson(n.attr("rowValue")));if(null==selectResult||selectResult){lastValue="";setTimeout(function(){d.hide();},10);}}else{$("div[class='autoCompleteBox']").hide();}break;case 39:e.preventDefault();var n=t.find(".nowRow");if(n.length>0){var selectResult=options.selected(StringToJson(n.attr("rowValue")));if(null==selectResult||selectResult){lastValue="";d.hide();}}else{$("div[class='autoCompleteBox']").hide();}break;case 9:$("div[class='autoCompleteBox']").hide();break;case 37:$("div[class='autoCompleteBox']").hide();break;}}function keyup_process(e){if(e.keyCode==13||e.keyCode==38||(!d.is(":hidden")&&e.keyCode==40)||e.keyCode==37||e.keyCode==39){return true;}if(!noData&&e.keyCode==13){setTimeout(function(){e.preventDefault();var n=t.find(".nowRow");if(n.length>0){var selectResult=options.selected(StringToJson(n.attr("rowValue")));if(null==selectResult||selectResult){options.lastValue="";d.hide();}}},200);}$(c).find(".choseGoods").addClass("processing");var lvd=options.lastValueDate;var curDate=new Date();if(lvd!=undefined&&(curDate.getTime()-lvd.getTime())<30){options.isScanBar=true;$("div[class='autoCompleteBox']").hide();}else{options.isScanBar=false;}options.lastValueDate=new Date();setTimeout(function(){if(options.lastValue!=c.val()||c.val()==""){if(c.val()==""||c.val().length>options.autoLength){var datatemp=tempData[escape(requestByUrl("branchid",options.url)+requestByUrl("WarehouseId",options.url)+options.businame+c.val())];if(options.usecache&&datatemp!=undefined){processdata(datatemp);}else{getData(c,function(data){processdata(data);});}options.lastValue=c.val();if(t.find("thead>th").length>0){}}else{options.lastValue="";d.hide();}}},200);}function processdata(data){if($(c).parent().find(".spanproductname").text()!=""){return;}if($(c).attr("readonly")=="readonly"||$(c).attr("disabled")=="disabled"){return;}if(data.keyword!=c.val()){return;}if(data.rows==null||data.rows.length==0){d.hide();var pv=$(parent.document).find("#productversion").val();if(pv!=3){var url=window.location.href;if(url.indexOf("SaleOrder/Add.htm")>=0||url.indexOf("SaleOrder/CopyAdd.htm")>=0||url.indexOf("SaleOrder/EditInit.htm")>=0||url.indexOf("Sale/Add.htm")>=0||url.indexOf("Sale/CopyAdd.htm")>=0||url.indexOf("SaleReturn/Add.htm")>=0||url.indexOf("SaleReturn/CopyAdd.htm")>=0||url.indexOf("BuyOrder/Add.htm")>=0||url.indexOf("BuyOrder/CopyAdd.htm")>=0||url.indexOf("BuyOrder/Edit.htm")>=0||url.indexOf("Buy/Add.htm")>=0||url.indexOf("Buy/CopyAdd.htm")>=0||url.indexOf("BuyReturn/Add.htm")>=0||url.indexOf("BuyReturn/CopyAdd.htm")>=0){if(undefined!=d){d.parent().parent().parent().parent().find("div[class='autoCompleteBox']").hide();}}}noData=true;return;}noData=false;tempData[escape(requestByUrl("WarehouseId",options.url)+options.businame+c.val())]=data;if(options.header!=null&&t.find("thead").length==0){headerPropertys.length=0;var thead=$("<thead></thead>");for(var p in options.header){if(typeof(options.header[p])!="function"){var head=options.header[p];var th=document.createElement("th");$(th).html(head);if(""==head){$(th).css("min-width","60px");}else{if(""==head){$(th).css("min-width","30px");}else{$(th).css("min-width","");}}thead.append($(th));headerPropertys.push(p);}}t.append(thead);}t.find("tr").remove();$.each(data.rows,function(){var tr=$("<tr></tr>");tr.attr("rowValue",JsonToString(this));if(headerPropertys.length>0){for(var i=0;i<headerPropertys.length;i++){var headerPropertyToValue=this[headerPropertys[i]];try{if(_isMoneyCol(headerPropertys[i])){headerPropertyToValue=Number(headerPropertyToValue).formatMoney();}}catch(e){console.log(e);}if(null==headerPropertyToValue||undefined==headerPropertyToValue){headerPropertyToValue="";}if(headerPropertys[i].indexOf("canusestockcount")<0&&headerPropertys[i].indexOf("currentstockcount")<0){if(this["cpProductUnitSBs"]!=undefined&&this["cpProductUnitSBs"]!=""&&this["cpProductUnitSBs"]!=null&&this["cpProductUnitSBs"].length>=1){if(this["cpProductUnitSBs"].length>1){if(headerPropertys[i].indexOf("mainunitname")>=0){tr.append("<td style=\"background:#FFFFFF;border-bottom:soild 1px #d7d7d7;\"><div name='primarytop' class='primary direct'></div>"+KeyHighlight(headerPropertyToValue,c.val())+"</td>");}else{tr.append('<td style="background:#FFFFFF;border-bottom:soild 1px #d7d7d7;">'+KeyHighlight(headerPropertyToValue,c.val())+"</td>");}}else{if(headerPropertys[i].indexOf("mainunitname")>=0){tr.append("<td align='center' style=\"background:#FFFFFF;border-bottom:soild 1px #d7d7d7;\">"+KeyHighlight(headerPropertyToValue,c.val())+"</td>");}else{tr.append('<td style="background:#FFFFFF;border-bottom:soild 1px #d7d7d7;">'+KeyHighlight(headerPropertyToValue,c.val())+"</td>");}}}else{tr.append('<td style="background:#FFFFFF;border-bottom:soild 1px #d7d7d7;">'+KeyHighlight(headerPropertyToValue,c.val())+"</td>");}}else{tr.append('<td style="background:#FFFFFF;border-bottom:soild 1px #d7d7d7;">'+this[headerPropertys[i]]+"</td>");}}}else{for(var p in this){if(typeof(this[p])!="function"){tr.append("<td>"+this[p]+"</td>");}}}t.append(tr);});var rows=t.find("tr");rows.first().addClass("nowRow");rows.first().find("td").css({background:"#ecf4ff","border-bottom":"soild 1px #bdd1eb"});rows.mouseover(function(){$(this).find("td").css({background:"#f4f4f4","border-bottom":"soild 1px #bdd1eb"});});rows.mouseout(function(){var thisclass=$(this).attr("class");if(thisclass==undefined||thisclass.indexOf("nowRow")<0){$(this).find("td").css({background:"#ffffff","border-bottom":"soild 1px #bdd1eb"});}else{$(this).find("td").css({background:"#ecf4ff","border-bottom":"soild 1px #bdd1eb"});}});if(options.stopPropagation){d.click(function(event){event.stopPropagation();});}rows.click(function(){var selectResult=options.selected(StringToJson($(this).attr("rowValue")));if(null==selectResult||selectResult){options.lastValue="";d.hide();}});c.setBoxPosition(c,d,options.top);var pv=$(parent.document).find("#productversion").val();if(pv!=3){var url=window.location.href;if(url.indexOf("SaleOrder/Add.htm")>=0||url.indexOf("SaleOrder/CopyAdd.htm")>=0||url.indexOf("SaleOrder/EditInit.htm")>=0||url.indexOf("Sale/Add.htm")>=0||url.indexOf("Sale/CopyAdd.htm")>=0||url.indexOf("SaleReturn/Add.htm")>=0||url.indexOf("SaleReturn/CopyAdd.htm")>=0||url.indexOf("BuyOrder/Add.htm")>=0||url.indexOf("BuyOrder/CopyAdd.htm")>=0||url.indexOf("BuyOrder/Edit.htm")>=0||url.indexOf("Buy/Add.htm")>=0||url.indexOf("Buy/CopyAdd.htm")>=0||url.indexOf("BuyReturn/Add.htm")>=0||url.indexOf("BuyReturn/CopyAdd.htm")>=0){if(undefined!=d){d.parent().parent().parent().parent().find("div[class='autoCompleteBox']").hide();}}}d.show();if(options.isScanBar&&data.rows!=null&&data.rows.length==1){var n=t.find(".nowRow");if(n.length>0){var selectResult=options.selected(StringToJson(n.attr("rowValue")));if(null==selectResult||selectResult){options.lastValue="";d.hide();}}}}function getData(o,process){var param=eval(options.getParam);param.key=o.val();$.ajax({type:options.type,async:options.async,url:options.url,data:param,dataType:"json",cache:false,success:function(data){var afterData=eval(options.ajaxSuccess+"("+JSON.stringify(data)+");");process(afterData);},Error:function(err){alert(err);}});}};function JsonToString(value){return JSON.stringify(value);}function StringToJson(value){eval("var jsonValue = "+value);return jsonValue;}function KeyHighlight(strSource,strKey){if(""==strKey.replace(/ /g,"").replace(//g,"")){return strSource;}if(strKey=="+"){if(typeof strSource=="string"){return strSource.replace(/\+/g,"<span class='key'>+</span>");}return strSource;}var htmlReg=new RegExp("<.*?>","i");var arrA=new Array();for(var i=0;true;i++){var m=htmlReg.exec(strSource);if(m){arrA[i]=m;}else{break;}strSource=strSource.replace(m,"{[("+i+")]}");}words=unescape(strKey).split(/\s+/);for(w=0;w<words.length;w++){var r=new RegExp("("+words[w].replace(/[(){}.+*?^$|\\\[\]]/g,"\\$&")+")","ig");if(strSource==null){strSource="";}strSource=strSource.toString().replace(r,"<span class='key'>$1</span>");}for(var i=0;i<arrA.length;i++){strSource=strSource.replace("{[("+i+")]}",arrA[i]);}return strSource;}$.fn.resetEvent=function(c){c.bind("keydown",keydown_process);c.bind("keyup",keyup_process);c.bind("focus",c_focus_div);c.bind("blur",blur_process);d.bind("focus",focus_div);d.bind("mouseout",mouseout_div);c.bind("click",alert("123"));};$.fn.setBoxPosition=function(c,d,top){var p=c.position();d.css({left:p.left,top:p.top+c.height()+top});};$.fn.setScroll=function(h,o,d){var offset=o.offset();var p=d.position();if(offset.top-p.top>h-2){$(this).scrollTop(((offset.top-p.top-h)/25+1)*25+$(this).scrollTop());}else{if(offset.top-p.top<25){$(this).scrollTop(0);}}};$.fn.setHeaderTop=function(h){h.css("top",$(this).scrollTop());};})(jQuery);function _defaultAutoCompleteGetParam(){return{};}function _defaultAutoCompleteAjaxSuccess(a){return a;}function _isMoneyCol(c){var a=false;var e=["maxpfprice"];for(var b in e){if(c==e[b]){a=true;break;}}return a;}
jQuery.fn.floatdiv=function(a){var b=false;if($.browser.msie&&$.browser.version=="6.0"){$("html").css("overflow-x","auto").css("overflow-y","hidden");b=true;}$("body").css({margin:"0px",border:"0px",height:"100%",overflow:"auto"});return this.each(function(){var f;if(a==undefined||a.constructor==String){switch(a){case ("rightbottom"):f={right:"0px",bottom:"0px"};break;case ("leftbottom"):f={left:"0px",bottom:"0px"};break;case ("lefttop"):f={left:"0px",top:"0px"};break;case ("righttop"):f={right:"0px",top:"0px"};break;case ("middle"):var c=0;var e=0;var d,g;if(self.innerHeight){d=self.innerWidth;g=self.innerHeight;}else{if(document.documentElement&&document.documentElement.clientHeight){d=document.documentElement.clientWidth;g=document.documentElement.clientHeight;}else{if(document.body){d=document.body.clientWidth;g=document.body.clientHeight;}}}c=d/2-$(this).width()/2;e=g/2-$(this).height()/2;f={left:c+"px",top:e+"px"};break;default:f={right:"0px",bottom:"0px"};break;}}else{f=a;}$(this).css("z-index","9999").css(f).css("position","fixed");if($(this).hasClass("zindex1000")){$(this).css("z-index","1000");}if(b){if(f.right!=undefined){if($(this).css("right")==null||$(this).css("right")==""){$(this).css("right","18px");}}$(this).css("position","absolute");}});};
/*! layer-v3.0.3 Web MIT License  http://layer.layui.com/  By  */
 ;!function(e,t){"use strict";var i,n,a=e.layui&&layui.define,o={getPath:function(){var e=document.scripts,t=e[e.length-1],i=t.src;if(!t.getAttribute("merge"))return i.substring(0,i.lastIndexOf("/")+1)}(),config:{},end:{},minIndex:0,minLeft:[],btn:["&#x786E;&#x5B9A;","&#x53D6;&#x6D88;"],type:["dialog","page","iframe","loading","tips"]},r={v:"3.0.3",ie:function(){var t=navigator.userAgent.toLowerCase();return!!(e.ActiveXObject||"ActiveXObject"in e)&&((t.match(/msie\s(\d+)/)||[])[1]||"11")}(),index:e.layer&&e.layer.v?1e5:0,path:o.getPath,config:function(e,t){return e=e||{},r.cache=o.config=i.extend({},o.config,e),r.path=o.config.path||r.path,"string"==typeof e.extend&&(e.extend=[e.extend]),o.config.path&&r.ready(),e.extend?(a?layui.addcss("modules/layer/"+e.extend):r.link("skin/"+e.extend),this):this},link:function(t,n,a){if(r.path){var o=i("head")[0],s=document.createElement("link");"string"==typeof n&&(a=n);var l=(a||t).replace(/\.|\//g,""),f="layuicss-"+l,c=0;s.rel="stylesheet",s.href=r.path+t,s.id=f,i("#"+f)[0]||o.appendChild(s),"function"==typeof n&&!function u(){return++c>80?e.console&&console.error("layer.css: Invalid"):void(1989===parseInt(i("#"+f).css("width"))?n():setTimeout(u,100))}()}},ready:function(e){var t="skinlayercss",i="303";return a?layui.addcss("modules/layer/default/layer.css?v="+r.v+i,e,t):r.link("skin/default/layer.css?v="+r.v+i,e,t),this},alert:function(e,t,n){var a="function"==typeof t;return a&&(n=t),r.open(i.extend({content:e,yes:n},a?{}:t))},confirm:function(e,t,n,a){var s="function"==typeof t;return s&&(a=n,n=t),r.open(i.extend({content:e,btn:o.btn,yes:n,btn2:a},s?{}:t))},msg:function(e,n,a){var s="function"==typeof n,f=o.config.skin,c=(f?f+" "+f+"-msg":"")||"layui-layer-msg",u=l.anim.length-1;return s&&(a=n),r.open(i.extend({content:e,time:3e3,shade:!1,skin:c,title:!1,closeBtn:!1,btn:!1,resize:!1,end:a},s&&!o.config.skin?{skin:c+" layui-layer-hui",anim:u}:function(){return n=n||{},(n.icon===-1||n.icon===t&&!o.config.skin)&&(n.skin=c+" "+(n.skin||"layui-layer-hui")),n}()))},load:function(e,t){return r.open(i.extend({type:3,icon:e||0,resize:!1,shade:.01},t))},tips:function(e,t,n){return r.open(i.extend({type:4,content:[e,t],closeBtn:!1,time:3e3,shade:!1,resize:!1,fixed:!1,maxWidth:210},n))}},s=function(e){var t=this;t.index=++r.index,t.config=i.extend({},t.config,o.config,e),document.body?t.creat():setTimeout(function(){t.creat()},30)};s.pt=s.prototype;var l=["layui-layer",".layui-layer-title",".layui-layer-main",".layui-layer-dialog","layui-layer-iframe","layui-layer-content","layui-layer-btn","layui-layer-close"];l.anim=["layer-anim","layer-anim-01","layer-anim-02","layer-anim-03","layer-anim-04","layer-anim-05","layer-anim-06"],s.pt.config={type:0,shade:.3,fixed:!0,move:l[1],title:"&#x4FE1;&#x606F;",offset:"auto",area:"auto",closeBtn:1,time:0,zIndex:19891014,maxWidth:360,anim:0,isOutAnim:!0,icon:-1,moveType:1,resize:!0,scrollbar:!0,tips:2},s.pt.vessel=function(e,t){var n=this,a=n.index,r=n.config,s=r.zIndex+a,f="object"==typeof r.title,c=r.maxmin&&(1===r.type||2===r.type),u=r.title?'<div class="layui-layer-title" style="'+(f?r.title[1]:"")+'">'+(f?r.title[0]:r.title)+"</div>":"";return r.zIndex=s,t([r.shade?'<div class="layui-layer-shade" id="layui-layer-shade'+a+'" times="'+a+'" style="'+("z-index:"+(s-1)+"; background-color:"+(r.shade[1]||"#000")+"; opacity:"+(r.shade[0]||r.shade)+"; filter:alpha(opacity="+(100*r.shade[0]||100*r.shade)+");")+'"></div>':"",'<div class="'+l[0]+(" layui-layer-"+o.type[r.type])+(0!=r.type&&2!=r.type||r.shade?"":" layui-layer-border")+" "+(r.skin||"")+'" id="'+l[0]+a+'" type="'+o.type[r.type]+'" times="'+a+'" showtime="'+r.time+'" conType="'+(e?"object":"string")+'" style="z-index: '+s+"; width:"+r.area[0]+";height:"+r.area[1]+(r.fixed?"":";position:absolute;")+'">'+(e&&2!=r.type?"":u)+'<div id="'+(r.id||"")+'" class="layui-layer-content'+(0==r.type&&r.icon!==-1?" layui-layer-padding":"")+(3==r.type?" layui-layer-loading"+r.icon:"")+'">'+(0==r.type&&r.icon!==-1?'<i class="layui-layer-ico layui-layer-ico'+r.icon+'"></i>':"")+(1==r.type&&e?"":r.content||"")+'</div><span class="layui-layer-setwin">'+function(){var e=c?'<a class="layui-layer-min" href="javascript:;"><cite></cite></a><a class="layui-layer-ico layui-layer-max" href="javascript:;"></a>':"";return r.closeBtn&&(e+='<a class="layui-layer-ico '+l[7]+" "+l[7]+(r.title?r.closeBtn:4==r.type?"1":"2")+'" href="javascript:;"></a>'),e}()+"</span>"+(r.btn?function(){var e="";"string"==typeof r.btn&&(r.btn=[r.btn]);for(var t=0,i=r.btn.length;t<i;t++)e+='<a class="'+l[6]+t+'">'+r.btn[t]+"</a>";return'<div class="'+l[6]+" layui-layer-btn-"+(r.btnAlign||"")+'">'+e+"</div>"}():"")+(r.resize?'<span class="layui-layer-resize"></span>':"")+"</div>"],u,i('<div class="layui-layer-move"></div>')),n},s.pt.creat=function(){var e=this,t=e.config,a=e.index,s=t.content,f="object"==typeof s,c=i("body");if(!t.id||!i("#"+t.id)[0]){switch("string"==typeof t.area&&(t.area="auto"===t.area?["",""]:[t.area,""]),t.shift&&(t.anim=t.shift),6==r.ie&&(t.fixed=!1),t.type){case 0:t.btn="btn"in t?t.btn:o.btn[0],r.closeAll("dialog");break;case 2:var s=t.content=f?t.content:[t.content,"auto"];t.content='<iframe scrolling="'+(t.content[1]||"auto")+'" allowtransparency="true" id="'+l[4]+a+'" name="'+l[4]+a+'" onload="this.className=\'\';" class="layui-layer-load" frameborder="0" src="'+t.content[0]+'"></iframe>';break;case 3:delete t.title,delete t.closeBtn,t.icon===-1&&0===t.icon,r.closeAll("loading");break;case 4:f||(t.content=[t.content,"body"]),t.follow=t.content[1],t.content=t.content[0]+'<i class="layui-layer-TipsG"></i>',delete t.title,t.tips="object"==typeof t.tips?t.tips:[t.tips,!0],t.tipsMore||r.closeAll("tips")}e.vessel(f,function(n,r,u){c.append(n[0]),f?function(){2==t.type||4==t.type?function(){i("body").append(n[1])}():function(){s.parents("."+l[0])[0]||(s.data("display",s.css("display")).show().addClass("layui-layer-wrap").wrap(n[1]),i("#"+l[0]+a).find("."+l[5]).before(r))}()}():c.append(n[1]),i(".layui-layer-move")[0]||c.append(o.moveElem=u),e.layero=i("#"+l[0]+a),t.scrollbar||l.html.css("overflow","hidden").attr("layer-full",a)}).auto(a),2==t.type&&6==r.ie&&e.layero.find("iframe").attr("src",s[0]),4==t.type?e.tips():e.offset(),t.fixed&&n.on("resize",function(){e.offset(),(/^\d+%$/.test(t.area[0])||/^\d+%$/.test(t.area[1]))&&e.auto(a),4==t.type&&e.tips()}),t.time<=0||setTimeout(function(){r.close(e.index)},t.time),e.move().callback(),l.anim[t.anim]&&e.layero.addClass(l.anim[t.anim]),t.isOutAnim&&e.layero.data("isOutAnim",!0)}},s.pt.auto=function(e){function t(e){e=s.find(e),e.height(f[1]-c-u-2*(0|parseFloat(e.css("padding-top"))))}var a=this,o=a.config,s=i("#"+l[0]+e);""===o.area[0]&&o.maxWidth>0&&(r.ie&&r.ie<8&&o.btn&&s.width(s.innerWidth()),s.outerWidth()>o.maxWidth&&s.width(o.maxWidth));var f=[s.innerWidth(),s.innerHeight()],c=s.find(l[1]).outerHeight()||0,u=s.find("."+l[6]).outerHeight()||0;switch(o.type){case 2:t("iframe");break;default:""===o.area[1]?o.fixed&&f[1]>=n.height()&&(f[1]=n.height(),t("."+l[5])):t("."+l[5])}return a},s.pt.offset=function(){var e=this,t=e.config,i=e.layero,a=[i.outerWidth(),i.outerHeight()],o="object"==typeof t.offset;e.offsetTop=(n.height()-a[1])/2,e.offsetLeft=(n.width()-a[0])/2,o?(e.offsetTop=t.offset[0],e.offsetLeft=t.offset[1]||e.offsetLeft):"auto"!==t.offset&&("t"===t.offset?e.offsetTop=0:"r"===t.offset?e.offsetLeft=n.width()-a[0]:"b"===t.offset?e.offsetTop=n.height()-a[1]:"l"===t.offset?e.offsetLeft=0:"lt"===t.offset?(e.offsetTop=0,e.offsetLeft=0):"lb"===t.offset?(e.offsetTop=n.height()-a[1],e.offsetLeft=0):"rt"===t.offset?(e.offsetTop=0,e.offsetLeft=n.width()-a[0]):"rb"===t.offset?(e.offsetTop=n.height()-a[1],e.offsetLeft=n.width()-a[0]):e.offsetTop=t.offset),t.fixed||(e.offsetTop=/%$/.test(e.offsetTop)?n.height()*parseFloat(e.offsetTop)/100:parseFloat(e.offsetTop),e.offsetLeft=/%$/.test(e.offsetLeft)?n.width()*parseFloat(e.offsetLeft)/100:parseFloat(e.offsetLeft),e.offsetTop+=n.scrollTop(),e.offsetLeft+=n.scrollLeft()),i.attr("minLeft")&&(e.offsetTop=n.height()-(i.find(l[1]).outerHeight()||0),e.offsetLeft=i.css("left")),i.css({top:e.offsetTop,left:e.offsetLeft})},s.pt.tips=function(){var e=this,t=e.config,a=e.layero,o=[a.outerWidth(),a.outerHeight()],r=i(t.follow);r[0]||(r=i("body"));var s={width:r.outerWidth(),height:r.outerHeight(),top:r.offset().top,left:r.offset().left},f=a.find(".layui-layer-TipsG"),c=t.tips[0];t.tips[1]||f.remove(),s.autoLeft=function(){s.left+o[0]-n.width()>0?(s.tipLeft=s.left+s.width-o[0],f.css({right:12,left:"auto"})):s.tipLeft=s.left},s.where=[function(){s.autoLeft(),s.tipTop=s.top-o[1]-10,f.removeClass("layui-layer-TipsB").addClass("layui-layer-TipsT").css("border-right-color",t.tips[1])},function(){s.tipLeft=s.left+s.width+10,s.tipTop=s.top,f.removeClass("layui-layer-TipsL").addClass("layui-layer-TipsR").css("border-bottom-color",t.tips[1])},function(){s.autoLeft(),s.tipTop=s.top+s.height+10,f.removeClass("layui-layer-TipsT").addClass("layui-layer-TipsB").css("border-right-color",t.tips[1])},function(){s.tipLeft=s.left-o[0]-10,s.tipTop=s.top,f.removeClass("layui-layer-TipsR").addClass("layui-layer-TipsL").css("border-bottom-color",t.tips[1])}],s.where[c-1](),1===c?s.top-(n.scrollTop()+o[1]+16)<0&&s.where[2]():2===c?n.width()-(s.left+s.width+o[0]+16)>0||s.where[3]():3===c?s.top-n.scrollTop()+s.height+o[1]+16-n.height()>0&&s.where[0]():4===c&&o[0]+16-s.left>0&&s.where[1](),a.find("."+l[5]).css({"background-color":t.tips[1],"padding-right":t.closeBtn?"30px":""}),a.css({left:s.tipLeft-(t.fixed?n.scrollLeft():0),top:s.tipTop-(t.fixed?n.scrollTop():0)})},s.pt.move=function(){var e=this,t=e.config,a=i(document),s=e.layero,l=s.find(t.move),f=s.find(".layui-layer-resize"),c={};return t.move&&l.css("cursor","move"),l.on("mousedown",function(e){e.preventDefault(),t.move&&(c.moveStart=!0,c.offset=[e.clientX-parseFloat(s.css("left")),e.clientY-parseFloat(s.css("top"))],o.moveElem.css("cursor","move").show())}),f.on("mousedown",function(e){e.preventDefault(),c.resizeStart=!0,c.offset=[e.clientX,e.clientY],c.area=[s.outerWidth(),s.outerHeight()],o.moveElem.css("cursor","se-resize").show()}),a.on("mousemove",function(i){if(c.moveStart){var a=i.clientX-c.offset[0],o=i.clientY-c.offset[1],l="fixed"===s.css("position");if(i.preventDefault(),c.stX=l?0:n.scrollLeft(),c.stY=l?0:n.scrollTop(),!t.moveOut){var f=n.width()-s.outerWidth()+c.stX,u=n.height()-s.outerHeight()+c.stY;a<c.stX&&(a=c.stX),a>f&&(a=f),o<c.stY&&(o=c.stY),o>u&&(o=u)}s.css({left:a,top:o})}if(t.resize&&c.resizeStart){var a=i.clientX-c.offset[0],o=i.clientY-c.offset[1];i.preventDefault(),r.style(e.index,{width:c.area[0]+a,height:c.area[1]+o}),c.isResize=!0,t.resizing&&t.resizing(s)}}).on("mouseup",function(e){c.moveStart&&(delete c.moveStart,o.moveElem.hide(),t.moveEnd&&t.moveEnd(s)),c.resizeStart&&(delete c.resizeStart,o.moveElem.hide())}),e},s.pt.callback=function(){function e(){var e=a.cancel&&a.cancel(t.index,n);e===!1||r.close(t.index)}var t=this,n=t.layero,a=t.config;t.openLayer(),a.success&&(2==a.type?n.find("iframe").on("load",function(){a.success(n,t.index)}):a.success(n,t.index)),6==r.ie&&t.IE6(n),n.find("."+l[6]).children("a").on("click",function(){var e=i(this).index();if(0===e)a.yes?a.yes(t.index,n):a.btn1?a.btn1(t.index,n):r.close(t.index);else{var o=a["btn"+(e+1)]&&a["btn"+(e+1)](t.index,n);o===!1||r.close(t.index)}}),n.find("."+l[7]).on("click",e),a.shadeClose&&i("#layui-layer-shade"+t.index).on("click",function(){r.close(t.index)}),n.find(".layui-layer-min").on("click",function(){var e=a.min&&a.min(n);e===!1||r.min(t.index,a)}),n.find(".layui-layer-max").on("click",function(){i(this).hasClass("layui-layer-maxmin")?(r.restore(t.index),a.restore&&a.restore(n)):(r.full(t.index,a),setTimeout(function(){a.full&&a.full(n)},100))}),a.end&&(o.end[t.index]=a.end)},o.reselect=function(){i.each(i("select"),function(e,t){var n=i(this);n.parents("."+l[0])[0]||1==n.attr("layer")&&i("."+l[0]).length<1&&n.removeAttr("layer").show(),n=null})},s.pt.IE6=function(e){i("select").each(function(e,t){var n=i(this);n.parents("."+l[0])[0]||"none"===n.css("display")||n.attr({layer:"1"}).hide(),n=null})},s.pt.openLayer=function(){var e=this;r.zIndex=e.config.zIndex,r.setTop=function(e){var t=function(){r.zIndex++,e.css("z-index",r.zIndex+1)};return r.zIndex=parseInt(e[0].style.zIndex),e.on("mousedown",t),r.zIndex}},o.record=function(e){var t=[e.width(),e.height(),e.position().top,e.position().left+parseFloat(e.css("margin-left"))];e.find(".layui-layer-max").addClass("layui-layer-maxmin"),e.attr({area:t})},o.rescollbar=function(e){l.html.attr("layer-full")==e&&(l.html[0].style.removeProperty?l.html[0].style.removeProperty("overflow"):l.html[0].style.removeAttribute("overflow"),l.html.removeAttr("layer-full"))},e.layer=r,r.getChildFrame=function(e,t){return t=t||i("."+l[4]).attr("times"),i("#"+l[0]+t).find("iframe").contents().find(e)},r.getFrameIndex=function(e){return i("#"+e).parents("."+l[4]).attr("times")},r.iframeAuto=function(e){if(e){var t=r.getChildFrame("html",e).outerHeight(),n=i("#"+l[0]+e),a=n.find(l[1]).outerHeight()||0,o=n.find("."+l[6]).outerHeight()||0;n.css({height:t+a+o}),n.find("iframe").css({height:t})}},r.iframeSrc=function(e,t){i("#"+l[0]+e).find("iframe").attr("src",t)},r.style=function(e,t,n){var a=i("#"+l[0]+e),r=a.find(".layui-layer-content"),s=a.attr("type"),f=a.find(l[1]).outerHeight()||0,c=a.find("."+l[6]).outerHeight()||0;a.attr("minLeft");s!==o.type[3]&&s!==o.type[4]&&(n||(parseFloat(t.width)<=260&&(t.width=260),parseFloat(t.height)-f-c<=64&&(t.height=64+f+c)),a.css(t),c=a.find("."+l[6]).outerHeight(),s===o.type[2]?a.find("iframe").css({height:parseFloat(t.height)-f-c}):r.css({height:parseFloat(t.height)-f-c-parseFloat(r.css("padding-top"))-parseFloat(r.css("padding-bottom"))}))},r.min=function(e,t){var a=i("#"+l[0]+e),s=a.find(l[1]).outerHeight()||0,f=a.attr("minLeft")||181*o.minIndex+"px",c=a.css("position");o.record(a),o.minLeft[0]&&(f=o.minLeft[0],o.minLeft.shift()),a.attr("position",c),r.style(e,{width:180,height:s,left:f,top:n.height()-s,position:"fixed",overflow:"hidden"},!0),a.find(".layui-layer-min").hide(),"page"===a.attr("type")&&a.find(l[4]).hide(),o.rescollbar(e),a.attr("minLeft")||o.minIndex++,a.attr("minLeft",f)},r.restore=function(e){var t=i("#"+l[0]+e),n=t.attr("area").split(",");t.attr("type");r.style(e,{width:parseFloat(n[0]),height:parseFloat(n[1]),top:parseFloat(n[2]),left:parseFloat(n[3]),position:t.attr("position"),overflow:"visible"},!0),t.find(".layui-layer-max").removeClass("layui-layer-maxmin"),t.find(".layui-layer-min").show(),"page"===t.attr("type")&&t.find(l[4]).show(),o.rescollbar(e)},r.full=function(e){var t,a=i("#"+l[0]+e);o.record(a),l.html.attr("layer-full")||l.html.css("overflow","hidden").attr("layer-full",e),clearTimeout(t),t=setTimeout(function(){var t="fixed"===a.css("position");r.style(e,{top:t?0:n.scrollTop(),left:t?0:n.scrollLeft(),width:n.width(),height:n.height()},!0),a.find(".layui-layer-min").hide()},100)},r.title=function(e,t){var n=i("#"+l[0]+(t||r.index)).find(l[1]);n.html(e)},r.close=function(e){var t=i("#"+l[0]+e),n=t.attr("type"),a="layer-anim-close";if(t[0]){var s="layui-layer-wrap",f=function(){if(n===o.type[1]&&"object"===t.attr("conType")){t.children(":not(."+l[5]+")").remove();for(var a=t.find("."+s),r=0;r<2;r++)a.unwrap();a.css("display",a.data("display")).removeClass(s)}else{if(n===o.type[2])try{var f=i("#"+l[4]+e)[0];f.contentWindow.document.write(""),f.contentWindow.close(),t.find("."+l[5])[0].removeChild(f)}catch(c){}t[0].innerHTML="",t.remove()}"function"==typeof o.end[e]&&o.end[e](),delete o.end[e]};t.data("isOutAnim")&&t.addClass(a),i("#layui-layer-moves, #layui-layer-shade"+e).remove(),6==r.ie&&o.reselect(),o.rescollbar(e),t.attr("minLeft")&&(o.minIndex--,o.minLeft.push(t.attr("minLeft"))),r.ie&&r.ie<10||!t.data("isOutAnim")?f():setTimeout(function(){f()},200)}},r.closeAll=function(e){i.each(i("."+l[0]),function(){var t=i(this),n=e?t.attr("type")===e:1;n&&r.close(t.attr("times")),n=null})};var f=r.cache||{},c=function(e){return f.skin?" "+f.skin+" "+f.skin+"-"+e:""};r.prompt=function(e,t){var a="";if(e=e||{},"function"==typeof e&&(t=e),e.area){var o=e.area;a='style="width: '+o[0]+"; height: "+o[1]+';"',delete e.area}var s,l=2==e.formType?'<textarea class="layui-layer-input"'+a+">"+(e.value||"")+"</textarea>":function(){return'<input type="'+(1==e.formType?"password":"text")+'" class="layui-layer-input" value="'+(e.value||"")+'">'}(),f=e.success;return delete e.success,r.open(i.extend({type:1,btn:["&#x786E;&#x5B9A;","&#x53D6;&#x6D88;"],content:l,skin:"layui-layer-prompt"+c("prompt"),maxWidth:n.width(),success:function(e){s=e.find(".layui-layer-input"),s.focus(),"function"==typeof f&&f(e)},resize:!1,yes:function(i){var n=s.val();""===n?s.focus():n.length>(e.maxlength||500)?r.tips("&#x6700;&#x591A;&#x8F93;&#x5165;"+(e.maxlength||500)+"&#x4E2A;&#x5B57;&#x6570;",s,{tips:1}):t&&t(n,i,s)}},e))},r.tab=function(e){e=e||{};var t=e.tab||{},n=e.success;return delete e.success,r.open(i.extend({type:1,skin:"layui-layer-tab"+c("tab"),resize:!1,title:function(){var e=t.length,i=1,n="";if(e>0)for(n='<span class="layui-layer-tabnow">'+t[0].title+"</span>";i<e;i++)n+="<span>"+t[i].title+"</span>";return n}(),content:'<ul class="layui-layer-tabmain">'+function(){var e=t.length,i=1,n="";if(e>0)for(n='<li class="layui-layer-tabli xubox_tab_layer">'+(t[0].content||"no content")+"</li>";i<e;i++)n+='<li class="layui-layer-tabli">'+(t[i].content||"no  content")+"</li>";return n}()+"</ul>",success:function(t){var a=t.find(".layui-layer-title").children(),o=t.find(".layui-layer-tabmain").children();a.on("mousedown",function(t){t.stopPropagation?t.stopPropagation():t.cancelBubble=!0;var n=i(this),a=n.index();n.addClass("layui-layer-tabnow").siblings().removeClass("layui-layer-tabnow"),o.eq(a).show().siblings().hide(),"function"==typeof e.change&&e.change(a)}),"function"==typeof n&&n(t)}},e))},r.photos=function(t,n,a){function o(e,t,i){var n=new Image;return n.src=e,n.complete?t(n):(n.onload=function(){n.onload=null,t(n)},void(n.onerror=function(e){n.onerror=null,i(e)}))}var s={};if(t=t||{},t.photos){var l=t.photos.constructor===Object,f=l?t.photos:{},u=f.data||[],d=f.start||0;s.imgIndex=(0|d)+1,t.img=t.img||"img";var y=t.success;if(delete t.success,l){if(0===u.length)return r.msg("&#x6CA1;&#x6709;&#x56FE;&#x7247;")}else{var p=i(t.photos),h=function(){u=[],p.find(t.img).each(function(e){var t=i(this);t.attr("layer-index",e),u.push({alt:t.attr("alt"),pid:t.attr("layer-pid"),src:t.attr("layer-src")||t.attr("src"),thumb:t.attr("src")})})};if(h(),0===u.length)return;if(n||p.on("click",t.img,function(){var e=i(this),n=e.attr("layer-index");r.photos(i.extend(t,{photos:{start:n,data:u,tab:t.tab},full:t.full}),!0),h()}),!n)return}s.imgprev=function(e){s.imgIndex--,s.imgIndex<1&&(s.imgIndex=u.length),s.tabimg(e)},s.imgnext=function(e,t){s.imgIndex++,s.imgIndex>u.length&&(s.imgIndex=1,t)||s.tabimg(e)},s.keyup=function(e){if(!s.end){var t=e.keyCode;e.preventDefault(),37===t?s.imgprev(!0):39===t?s.imgnext(!0):27===t&&r.close(s.index)}},s.tabimg=function(e){if(!(u.length<=1))return f.start=s.imgIndex-1,r.close(s.index),r.photos(t,!0,e)},s.event=function(){s.bigimg.hover(function(){s.imgsee.show()},function(){s.imgsee.hide()}),s.bigimg.find(".layui-layer-imgprev").on("click",function(e){e.preventDefault(),s.imgprev()}),s.bigimg.find(".layui-layer-imgnext").on("click",function(e){e.preventDefault(),s.imgnext()}),i(document).on("keyup",s.keyup)},s.loadi=r.load(1,{shade:!("shade"in t)&&.9,scrollbar:!1}),o(u[d].src,function(n){r.close(s.loadi),s.index=r.open(i.extend({type:1,id:"layui-layer-photos",area:function(){var a=[n.width,n.height],o=[i(e).width()-100,i(e).height()-100];if(!t.full&&(a[0]>o[0]||a[1]>o[1])){var r=[a[0]/o[0],a[1]/o[1]];r[0]>r[1]?(a[0]=a[0]/r[0],a[1]=a[1]/r[0]):r[0]<r[1]&&(a[0]=a[0]/r[1],a[1]=a[1]/r[1])}return[a[0]+"px",a[1]+"px"]}(),title:!1,shade:.9,shadeClose:!0,closeBtn:!1,move:".layui-layer-phimg img",moveType:1,scrollbar:!1,moveOut:!0,isOutAnim:!1,skin:"layui-layer-photos"+c("photos"),content:'<div class="layui-layer-phimg"><img src="'+u[d].src+'" alt="'+(u[d].alt||"")+'" layer-pid="'+u[d].pid+'"><div class="layui-layer-imgsee">'+(u.length>1?'<span class="layui-layer-imguide"><a href="javascript:;" class="layui-layer-iconext layui-layer-imgprev"></a><a href="javascript:;" class="layui-layer-iconext layui-layer-imgnext"></a></span>':"")+'<div class="layui-layer-imgbar" style="display:'+(a?"block":"")+'"><span class="layui-layer-imgtit"><a href="javascript:;">'+(u[d].alt||"")+"</a><em>"+s.imgIndex+"/"+u.length+"</em></span></div></div></div>",success:function(e,i){s.bigimg=e.find(".layui-layer-phimg"),s.imgsee=e.find(".layui-layer-imguide,.layui-layer-imgbar"),s.event(e),t.tab&&t.tab(u[d],e),"function"==typeof y&&y(e)},end:function(){s.end=!0,i(document).off("keyup",s.keyup)}},t))},function(){r.close(s.loadi),r.msg("&#x5F53;&#x524D;&#x56FE;&#x7247;&#x5730;&#x5740;&#x5F02;&#x5E38;<br>&#x662F;&#x5426;&#x7EE7;&#x7EED;&#x67E5;&#x770B;&#x4E0B;&#x4E00;&#x5F20;&#xFF1F;",{time:3e4,btn:["&#x4E0B;&#x4E00;&#x5F20;","&#x4E0D;&#x770B;&#x4E86;"],yes:function(){u.length>1&&s.imgnext(!0,!0)}})})}},o.run=function(t){i=t,n=i(e),l.html=i("html"),r.open=function(e){var t=new s(e);return t.index}},e.layui&&layui.define?(r.ready(),layui.define("jquery",function(t){r.path=layui.cache.dir,o.run(layui.jquery),e.layer=r,t("layer",r)})):"function"==typeof define&&define.amd?define(["jquery"],function(){return o.run(e.jQuery),r}):function(){o.run(e.jQuery),r.ready()}()}(window);
var json=[{id:"1",name:"",list:[{id:"11",name:"1",isdefault:"true"},{id:"12",name:"2",isdefault:"false"},{id:"13",name:"3",isdefault:"false"},{id:"11",name:"4",isdefault:"false"}]},{id:"2",name:"",list:[{id:"11",name:"1",isdefault:"false"},{id:"11",name:"2",isdefault:"false"},{id:"11",name:"3",isdefault:"false"},{id:"11",name:"4",isdefault:"false"}]},{id:"3",name:"",list:[{id:"11",name:"1",isdefault:"false"},{id:"11",name:"2",isdefault:"false"},{id:"11",name:"3",isdefault:"false"},{id:"11",name:"4",isdefault:"false"}]},{id:"4",name:"",list:[{id:"11",name:"1",isdefault:"false"},{id:"11",name:"2",isdefault:"false"},{id:"11",name:"3",isdefault:"false"},{id:"11",name:"4",isdefault:"false"}]},{id:"5",name:""}];var str="";var getTreeList=function(d,m,c,l,h,b){var p="";try{var u=$("#salesman").val();var w=$("#levelSelect-"+m+"-list").parent().find("input[id='hidDefaultItem']").val();var v=$("#productversion",parent.document).val();if("3"==v){u="0";}if("1"==h){u="";}var f=null;var n=new Array();var q=null;if(d!=null){for(var s=0;s<d.length;s++){if(typeof d[s]["childList"]!="undefined"&&d[s]["childList"]!=null&&d[s]["childList"].length>=1){q=new Array();var g=d[s]["childList"];for(var r=0;r<g.length;r++){f=g[r].usertype;if("1"==u){if("1"==f){g[r]["originText"]=g[r]["text"];g[r]["text"]=""+g[r]["text"];g[r]["isSalesMan"]=1;q.push(g[r]);}else{q.push(g[r]);}}else{if("1"==f){}else{q.push(g[r]);}}}d[s]["childList"]=q;}f=d[s].usertype;if("1"==u){if("1"==f){d[s]["originText"]=d[s]["text"];d[s]["text"]=""+d[s]["text"];d[s]["isSalesMan"]=1;n.push(d[s]);}else{n.push(d[s]);}}else{if("1"==f){}else{n.push(d[s]);}}}}if(n==null||n==undefined||n.length==0){0[0]={};}var k="";p+='<div class="firstList"><ul id="ls-ul1-'+m+'">';if(l==1){if(typeof n!="undefined"&&n!=null&&n[0]["remark1"]!=null){k=n[0]["remark1"];}p+='<input type="hidden" class="ls-input-init-text" value="" />';p+='<input type="hidden" class="ls-input-init-val" value="" />';p+='<input type="hidden" class="ls-input-init-parentval" value="'+k+'" />';p+='<input type="hidden" class="ls-input-init-parenttext" value="" />';p+='<li class="normal" id="ls-li-'+m+'" onclick="levelSelect.choose(\''+m+"', '','', '"+k+"','');\"><span title=\"\"></span></li>";}if(b==1){p+='<li class="normal" id="ls-li-'+m+'" onclick="levelSelect.choose(\''+m+"', '','00000000-0000-0000-0000-000000000000', '','');\"><span title=\"\"></span></li>";}if(n!=null&&n!=undefined){for(var s=0;s<n.length;s++){var a=n[s]["text"];if("1"==n[s]["isSalesMan"]){a=n[s]["originText"]+'<span style="background:#cccccc;margin-left:5px"></span>';}try{if(typeof n[s]["childList"]=="undefined"||n[s]["childList"]==null||n[s]["childList"].length<1){if(c==0){if(w!=""&&w!=undefined){if(w==n[s]["value"]){p+='<input type="hidden" class="ls-input-init-text" value="'+n[s]["text"]+'" />';p+='<input type="hidden" class="ls-input-init-val" value="'+n[s]["value"]+'" />';p+='<input type="hidden" class="ls-input-init-parentval" value="'+n[s]["remark1"]+'" />';p+='<input type="hidden" class="ls-input-init-parenttext" value="" />';}}else{if(n[s]["selected"]=="1"){p+='<input type="hidden" class="ls-input-init-text" value="'+n[s]["text"]+'" />';p+='<input type="hidden" class="ls-input-init-val" value="'+n[s]["value"]+'" />';p+='<input type="hidden" class="ls-input-init-parentval" value="'+n[s]["remark1"]+'" />';p+='<input type="hidden" class="ls-input-init-parenttext" value="" />';p+='<input type="hidden" class="ls-input-init-remark" value="'+n[s]["accounttype"]+'" />';}}}p+='<li class="normal" tabindex="0" id="ls-li-'+m+"-"+n[s]["value"]+'" onclick="levelSelect.choose(\''+m+"', '"+n[s]["text"]+"', '"+n[s]["value"]+"','"+n[s]["remark1"]+"',null,"+n[s].usertype+",'"+n[s]["accounttype"]+"');\">";if(window.location.href.indexOf("Sale/List")>=0||window.location.href.indexOf("SaleReturn/List")>=0||window.location.href.indexOf("Buy/List")>=0||window.location.href.indexOf("BuyReturn/List")>=0||window.location.href.indexOf("InvTak/List")>=0||window.location.href.indexOf("Assembly/List")>=0||window.location.href.indexOf("Transfer/List")>=0||window.location.href.indexOf("InStorage/List")>=0||window.location.href.indexOf("OutStorage/List")>=0||window.location.href.indexOf("InStorage/HasList")>=0||window.location.href.indexOf("OutStorage/HasList")>=0||window.location.href.indexOf("Borrow/List")>=0||window.location.href.indexOf("Lend/List")>=0||window.location.href.indexOf("QueryProducts/List")>=0||window.location.href.indexOf("QueryProductSN/List")>=0||window.location.href.indexOf("BuyReport/List")>=0||window.location.href.indexOf("SaleReport/Init")>=0||window.location.href.indexOf("InventoryReport/List")>=0||window.location.href.indexOf("ViewInitData/List")>=0){p+='<span title="'+n[s]["text"]+'">'+a+"</span>";}else{if(n[s]["islocked"]!=null){if(n[s]["islocked"]==1){p+="<span style='color:#FD6C54;' title=\""+n[s]["text"]+'  ">'+a+"</span>";}else{p+='<span title="'+n[s]["text"]+'">'+a+"</span>";}}else{p+='<span title="'+n[s]["text"]+'">'+a+"</span>";}}p+="</li>";}else{p+='<li class="normal haveChild" tabindex="0" id="ls-li-'+m+"-"+n[s]["value"]+'" t="'+n[s]["value"]+'">';p+='<span title="'+n[s]["text"]+'">'+a+"</span>";p+="</li>";}}catch(t){}}p+="</ul></div>";var x=0;for(var s=0;s<n.length;s++){try{if(typeof n[s]["childList"]!="undefined"&&n[s]["childList"]!=null&&n[s]["childList"].length>0){var g=n[s]["childList"];if(x==0){p+='<div class="secList" id="ls-li-children-'+m+"-"+n[s]["value"]+'"><ul>';x=1;}else{p+='<div class="secList" id="ls-li-children-'+m+"-"+n[s]["value"]+'" style="display:none"><ul>';}if(l==1){p+='<li class="normal" id="ls-li-payout" onclick="levelSelect.choose(\''+m+"', '', '','"+n[s]["value"]+"','"+n[s]["text"]+"','');\">";p+='<span title=""></span>';p+="</li>";}for(var r=0;r<g.length;r++){var a=g[r]["text"];if("1"==g[r]["isSalesMan"]){a=g[r]["originText"]+'<span style="background:#cccccc;margin-left:5px"></span>';}if(c==0){if(w!=""&&w!=undefined){if(w==g[r]["value"]){p+='<input type="hidden" class="ls-input-init-text" value="'+g[r]["text"]+'" />';p+='<input type="hidden" class="ls-input-init-val" value="'+g[r]["value"]+'" />';p+='<input type="hidden" class="ls-input-init-parentval" value="'+n[s]["value"]+'" />';p+='<input type="hidden" class="ls-input-init-parenttext" value="'+n[s]["text"]+'" />';p+='<input type="hidden" class="ls-input-init-remark" value="'+n[s]["accounttype"]+'" />';}}else{if(g[r]["selected"]=="1"){p+='<input type="hidden" class="ls-input-init-text" value="'+g[r]["text"]+'" />';p+='<input type="hidden" class="ls-input-init-val" value="'+g[r]["value"]+'" />';p+='<input type="hidden" class="ls-input-init-parentval" value="'+n[s]["value"]+'" />';p+='<input type="hidden" class="ls-input-init-parenttext" value="'+n[s]["text"]+'" />';p+='<input type="hidden" class="ls-input-init-remark" value="'+n[s]["accounttype"]+'" />';}}}p+='<li class="normal" tabindex="0" id="ls-li-payout-'+g[r]["value"]+'" onclick="levelSelect.choose(\''+m+"', '"+g[r]["text"]+"', '"+g[r]["value"]+"','"+n[s]["value"]+"','"+n[s]["text"]+"','"+n[s]["accounttype"]+"');\">";if(window.location.href.indexOf("Sale/List")>=0||window.location.href.indexOf("SaleReturn/List")>=0||window.location.href.indexOf("Buy/List")>=0||window.location.href.indexOf("BuyReturn/List")>=0||window.location.href.indexOf("InvTak/List")>=0||window.location.href.indexOf("Assembly/List")>=0||window.location.href.indexOf("Transfer/List")>=0||window.location.href.indexOf("InStorage/List")>=0||window.location.href.indexOf("InStorage/HasList")>=0||window.location.href.indexOf("OutStorage/HasList")>=0||window.location.href.indexOf("OutStorage/List")>=0||window.location.href.indexOf("Borrow/List")>=0||window.location.href.indexOf("Lend/List")>=0||window.location.href.indexOf("QueryProducts/List")>=0||window.location.href.indexOf("QueryProductSN/List")>=0||window.location.href.indexOf("BuyReport/List")>=0||window.location.href.indexOf("SaleReport/Init")>=0||window.location.href.indexOf("InventoryReport/List")>=0||window.location.href.indexOf("ViewInitData/List")>=0){p+='<span title="'+g[r]["text"]+'">'+a+"</span>";}else{if(g[r]["islocked"]==1){p+="<span style='color:#FD6C54;' title=\""+g[r]["text"]+'  ">'+a+"</span>";}else{p+='<span title="'+g[r]["text"]+'">'+a+"</span>";}}p+="</li>";}p+="</ul></div>";}}catch(t){}}}}catch(t){console.log(t);}return p;};var levelSelect={init:function(b,g,f,e,c,a){var d=false;if(a!=null&&a!=""){d=a;}$.ajax({dataType:"json",data:{},cache:false,url:b,async:d,type:"post",success:function(h){if(f==null||f==undefined){f=0;}if(e==null||e==undefined){e=0;}var i=0;if(b.indexOf("OrderPlusHaveNo")>=0){i=1;}$("#levelSelect-"+g+"-list").html(getTreeList(h.Items,g,f,e,c,i));$("#levelSelect-"+g).each(function(){var m=$(this).find(".ls-input-init-text").eq(0).val();var l=$(this).find(".ls-input-init-val").eq(0).val();var j=$(this).find(".ls-input-init-parentval").eq(0).val();var k=$(this).find(".ls-input-init-parenttext").eq(0).val();if(g.indexOf("warehouse")>=0&&k!=""&&k!=undefined){$(this).children(".ls-input").eq(0).val(k+">"+m);}else{if($(this).children(".ls-inputReadonly").length>0){$(this).children(".ls-inputReadonly").eq(0).val(m);}else{$(this).children(".ls-input").eq(0).val(m);}}$(this).children(".ls-input-val").eq(0).val(l);$(this).children(".ls-input-val").eq(0).attr("beforeLevelSelectChoose",l);$(this).children(".ls-input-parentval").eq(0).val(j);});$("#ls-ul1-"+g+" li").bind("mouseenter",function(){$("#ls-ul1-"+g+" .select").removeClass("select").addClass("normal");$(this).removeClass("normal").addClass("select");$(".secList").hide();$("#ls-li-children-"+g+"-"+$(this).attr("t")).show();});if($("#choose-warehouse-val").val()!=""){$("#txbCr").removeAttr("disabled");$("input[name='levelSelect-user-input']").attr("class","ls-input");}},error:function(){alert("");}});},show:function(a){if(!$("#levelSelect-"+a+" .ls1").is(":visible")){levelSelect.hide();}$("#levelSelect-"+a+" .ls2").hide();$("#levelSelect-"+a+" .ls1").toggle();$("#txbCr").parent().find(".autoCompleteBox").hide();},hide:function(){$(".levelSelect .ls2").hide();$(".levelSelect .ls1").hide();},select:function(b,a){$("#ls-li-"+b+"-"+a).click();},choose:function(g,f,e,c,b,a,d){$.ajax({async:false,url:"../UCenter-webapp/index/checksession.json",data:{},type:"post",cache:false,dataType:"json",success:function(l){if(l.flag=="1"){$(".loadding").hide();window.parent.showMainPage("../UCenter-webapp/Login/reloginpassword.htm?random"+Math.random(),"",200,400);}else{var j=$("#isnotvalidate").val();var i=parent.$("#userid").val();if(parent.$("#isAdminRole").val()=="false"&&"1"!=j){if(g.indexOf("user")>-1&parent.$("#allowview").val()=="0"&&i!=e&&a!=1){$(".levelSelect .ls2").hide();$(".levelSelect .ls1").hide();showErrorMsg("");return;}}var k=$(parent.document).find("#productversion").val();if(window.location.href.indexOf("InvTak/Add")>=0||window.location.href.indexOf("InvTak/CopyAdd")>=0||window.location.href.indexOf("InvTak/Edit")>=0||window.location.href.indexOf("QueryProducts/List")>=0||window.location.href.indexOf("QueryProductSN/List")>=0||window.location.href.indexOf("BuyReport/List")>=0||window.location.href.indexOf("SaleReport/Init")>=0||window.location.href.indexOf("InventoryReport/List")>=0||window.location.href.indexOf("Warning/Init1")>=0||window.location.href.indexOf("ViewInitData/List")>=0||window.location.href.indexOf("InStorage/List")>=0||window.location.href.indexOf("OutStorage/List")>=0||window.location.href.indexOf("InStorage/HasList")>=0||window.location.href.indexOf("OutStorage/HasList")>=0){}else{if(k!=3){if(g=="warehouse"||g=="outwarehouse"||g=="inwarehouse"||g=="batchTurnSalewarehouse"){if(checkisLockWarehouse(e,2)){return;}}}}if(g.indexOf("warehouse")>=0&&b!=""&&b!=null){$("#levelSelect-"+g+" .ls-input").val(b+">"+f);}else{$("#levelSelect-"+g+" .ls-input").val(f);}$("#levelSelect-"+g+" .ls-input-parentval").val(c);var h=$("#levelSelect-"+g+" .ls-input-val").val();$("#levelSelect-"+g+" .ls-input-val").attr("beforeLevelSelectChoose",h);$("#levelSelect-"+g+" .ls-input-val").val(e).change();$("#levelSelect-"+g+" .ls2").hide();$("#levelSelect-"+g+" .ls1").hide();if($("#levelSelect-"+g+" .ls-remark").val()!=undefined){$("#levelSelect-"+g+" .ls-remark").val(d).change();}if(g.indexOf("user")>=0){$("#levelSelect-"+g+" .ls-input").removeClass("InputBdRed");}}},error:function(){}});},initshow:function(e,d,c,b,a){if(e.indexOf("warehouse")>=0&&a!=""&&a!=null){$("#levelSelect-"+e+" .ls-input").val(a+">"+d);}else{$("#levelSelect-"+e+" .ls-input").val(d);}$("#levelSelect-"+e+" .ls-input-parentval").val(b);$("#levelSelect-"+e+" .ls-input-val").val(c);$("#levelSelect-"+e+" .ls-input-val").attr("beforeLevelSelectChoose",c);$("#levelSelect-"+e+" .ls2").hide();$("#levelSelect-"+e+" .ls1").hide();}};
(function(a){a.extend({progressBar:new function(){this.defaults={increment:2,speed:15,showText:true,width:120,boxImage:"images/progressbar.gif",barImage:"images/progressbg_green.gif",height:12};this.construct=function(d,c){var b=null;var e=null;if(d!=null){if(!isNaN(d)){b=d;if(c!=null){e=c;}}else{e=d;}}return this.each(function(f){var l=this;if(b!=null&&this.bar!=null&&this.config!=null){this.config.tpercentage=b;if(e!=null){l.config=a.extend(this.config,e);}}else{var j=a(this);var h=a.extend({},a.progressBar.defaults,e);var o=b;if(b==null){var o=j.html().replace("%","");}j.html("");var i=document.createElement("img");var m=document.createElement("span");i.id=this.id+"_percentImage";m.id=this.id+"_percentText";i.src=h.boxImage;i.width=h.width;var g=a(i);var k=a(m);this.bar=g;this.ntext=k;this.config=h;this.config.cpercentage=0;this.config.tpercentage=o;g.css("width",h.width+"px");g.css("height",h.height+"px");g.css("background-image","url("+h.barImage+")");g.css("padding","0");g.css("margin","0");j.append(g);j.append(k);i.alt="";i.title="";}var n=setInterval(function(){var s=l.config;var q=parseInt(s.cpercentage);var r=parseInt(s.tpercentage);var p=parseInt(s.increment);var t=l.bar;var u=l.ntext;var v=s.width/100;t.css("background-position",(((s.width*-1))+(q*v))+"px 50%");if(s.showText){u.html(" "+Math.round(q)+"%");}if(q>r){if(q-p<r){l.config.cpercentage=0+r;}else{l.config.cpercentage-=p;}}else{if(l.config.cpercentage<l.config.tpercentage){if(q+p>r){l.config.cpercentage=r;}else{l.config.cpercentage+=p;}}else{clearInterval(n);}}},l.config.speed);});};}});a.fn.extend({progressBar:a.progressBar.construct});})(jQuery);
!function(a){a.fn.combo=function(b){if(0==this.length){return this;}var d,c=arguments;this.each(function(){var e=a(this).data("_combo");if("string"==typeof b){if(!e){return;}if("function"==typeof e[b]){c=Array.prototype.slice.call(c,1);d=e[b].apply(e,c);}}else{if(!e){e=new a.Combo(a(this),b);a(this).data("_combo",e);}}});return void 0===d?this:d;};a.fn.getCombo=function(){return a.Combo.getCombo(this);};a.Combo=function(b,c){this.obj=b;this.opts=a.extend(!0,{},a.Combo.defaults,c);this.dataOpt=this.opts.data;this._selectedIndex=-1;this._disabled="undefined"!=typeof this.opts.disabled?!!this.opts.disabled:!!this.obj.attr("disabled");a.extend(this,this.opts.callback);this._init();};a.Combo.getCombo=function(b){b=a(b);if(0!=b.length){if(1==b.length){return b.data("_combo");}if(b.length>1){var c=[];b.each(function(){c.push(a(this).data("_combo"));});return c;}}};a.Combo.prototype={constructor:a.Combo,_init:function(){var b=this.opts;if("select"==this.obj[0].tagName.toLowerCase()){this.originSelect=this.obj;this.dataOpt=this._getDataFromSelect();}this._createCombo();this.loadData(this.dataOpt,b.defaultSelected,b.defaultFlag);this._handleDisabled(this._disabled);this._bindEvent();},loadData:function(c,b,d){this.xhr&&this.xhr.abort();this.empty(!1);this.dataOpt=c;this.mode=this._getRenderMode();if(this.mode){if("local"==this.mode){b=this._formatData();this._populateList(this.formattedData);this._setDefaultSelected(b,d);}else{"remote"==this.mode&&this._loadAjaxData(b,d);}}},activate:function(){this.focus||this.input.focus();this.wrap.addClass(this.opts.activeCls);this.active=!0;},_blur:function(){if(this.active){this.collapse();if(this.opts.editable&&this.opts.forceSelection){this.selectByText(this.input.val());}this.wrap.removeClass(this.opts.activeCls);this.active=!1;"function"==typeof this.onBlur&&this.onBlur();}},blur:function(){this.focus&&this.input.blur();this._blur();},_bindEvent:function(){var b=this,d=this.opts,c="."+d.listItemCls;b.list.on("click",c,function(){a(this).hasClass(d.selectedCls)||b.selectByItem(a(this));b.collapse();b.input.focus();"function"==typeof b.onListClick&&b.onListClick();}).on("mouseover",c,function(){a(this).addClass(d.hoverCls).siblings().removeClass(d.hoverCls);}).on("mouseleave",c,function(){a(this).removeClass(d.hoverCls);});b.input.on("focus",function(){b.wrap.addClass(d.activeCls);b.focus=!0;b.active=!0;}).on("blur",function(){b.focus=!1;});d.editable?b.input.on("click",function(){this.select();}):b.input.on("click",function(){b._onTriggerClick();});b.trigger&&b.trigger.on("click",function(){b._onTriggerClick();});a(document).on("click",function(g){var f=g.target||g.srcElement;0==a(f).closest(b.wrap).length&&0==a(f).closest(b.listWrap).length&&b.blur();});this.listWrap.on("click",function(e){e.stopPropagation();});a(window).on("resize",function(){b._setListPosition();});this._bindKeyEvent();},_bindKeyEvent:function(){var b=this,d=this.opts,c={backSpace:8,esc:27,f7:118,up:38,down:40,tab:9,enter:13,home:36,end:35,pageUp:33,pageDown:34,space:32};this.input.on("keydown",function(f){switch(f.keyCode){case c.tab:b._blur();break;case c.down:case c.up:if(b.isExpanded){var e=f.keyCode==c.down?"next":"prev";b._setItemFocus(e);}else{b._onTriggerClick();}f.preventDefault();break;case c.enter:if(b.isExpanded){var g=b.list.find("."+d.hoverCls);g.length>0&&b.selectByItem(g);b.collapse();}break;case c.home:case c.end:if(b.isExpanded){var g=f.keyCode==c.home?b.list.find("."+d.listItemCls).eq(0):b.list.find("."+d.listItemCls).filter(":last");b._scrollToItem(g);f.preventDefault();}break;case c.pageUp:case c.pageDown:if(b.isExpanded){var e=f.keyCode==c.pageUp?"up":"down";b._scrollPage(e);f.preventDefault();}}}).on("keyup",function(g){if(d.editable){var f=g.which,h=8==f||9==f||13==f||27==f||f>=16&&20>=f||f>=33&&40>=f||f>=44&&46>=f||f>=112&&123>=f||144==f||145==f,e=b.input.val();h&&f!=c.backSpace||b.doDelayQuery(e);}});a(document).on("keydown",function(e){e.keyCode==c.esc&&b.collapse();});},distory:function(){},enable:function(){this._handleDisabled(!1);},disable:function(b){b="undefined"==typeof b?!0:!!b;this._handleDisabled(b);},_handleDisabled:function(c){var b=this.opts;this._disabled=c;1==c?this.wrap.addClass(b.disabledCls):this.wrap.removeClass(b.disabledCls);this.input.attr("disabled",c);},_createCombo:function(){var c,f,d,b=this.opts,g=parseInt(this.opts.width);this.originSelect&&this.originSelect.hide();if("input"==this.obj[0].tagName.toLowerCase()){this.input=this.obj;}else{f=this.obj.find("."+b.inputCls);this.input=f.length>0?f:a('<input type="text" class="'+b.inputCls+'"/>');}this.input.attr({autocomplete:"off",readOnly:!b.editable}).css({cursor:b.editable?"":"default"});d=a(this.obj).find("."+b.triggerCls);d.length>0?this.trigger=d:b.trigger!==!1&&(this.trigger=a('<span class="'+b.triggerCls+'"></span>'));c=this.obj.hasClass(b.wrapCls)?this.obj:this.obj.find("."+b.wrapCls);if(c.length>0){this.wrap=c.append(this.input,this.trigger);}else{if(this.trigger){this.wrap=a('<span class="'+b.wrapCls+'"></span>').append(this.input,this.trigger);this.originSelect&&this.obj[0]==this.originSelect[0]||this.obj[0]==this.input[0]?this.obj.next().length>0?this.wrap.insertBefore(this.obj.next()):this.wrap.appendTo(this.obj.parent()):this.wrap.appendTo(this.obj);}}this.wrap&&b.id&&this.wrap.attr("id",b.id);this.wrap||(this.wrap=this.input);this._setComboLayout(g);this.list=a("<div />").addClass(b.listCls).css({position:"relative",overflow:"auto"});this.listWrap=a("<div />").addClass(b.listWrapCls).attr("id",b.listId).hide().append(this.list).css({position:"absolute",top:0,zIndex:b.zIndex});b.extraListHtml&&a("<div />").addClass(b.extraListHtmlCls).append(b.extraListHtml).appendTo(this.listWrap);if(b.listRenderToBody){a.Combo.allListWrap||(a.Combo.allListWrap=a('<div id="COMBO_WRAP"/>').appendTo("body"));this.listWrap.appendTo(a.Combo.allListWrap);}else{this.wrap.after(this.listWrap);}},_setListLayout:function(){var k,g,h=this.opts,m=parseInt(h.listHeight),j=0,c=this.trigger?this.trigger.outerWidth():0,f=parseInt(h.minListWidth),d=parseInt(h.maxListWidth);this.listWrap.width("auto");this.list.height("auto");this.listWrap.show();this.isExpanded=!0;g=this.list.height();if(!isNaN(m)&&m>=0){m=Math.min(m,g);this.list.height(m);}if("auto"==h.listWidth||"auto"==h.width){k=this.listWrap.outerWidth();if(g<this.list.height()){j=20;k+=j;}}else{k=parseInt(h.listWidth);isNaN(k)?k=this.wrap.outerWidth():null;}if("auto"==h.width){var b=this.listWrap.outerWidth()+Math.max(c,j);this._setComboLayout(b);}f=isNaN(f)?this.wrap.outerWidth():Math.max(f,this.wrap.outerWidth());!isNaN(f)&&f>k&&(k=f);!isNaN(d)&&k>d&&(k=d);k-=this.listWrap.outerWidth()-this.listWrap.width();this.listWrap.width(k);this.listWrap.hide();this.isExpanded=!1;},_setComboLayout:function(d){if(d){var c=this.opts,g=parseInt(c.maxWidth),f=parseInt(c.minWidth);!isNaN(g)&&d>g&&(d=g);!isNaN(f)&&f>d&&(d=f);var b;d-=this.wrap.outerWidth()-this.wrap.width();if("1"!=$(this.wrap).attr("notCountWidth")){this.wrap.width(d);}if(this.wrap[0]!=this.input[0]){b=d-(this.trigger?this.trigger.outerWidth():0)-(this.input.outerWidth()-this.input.width());if("1"!=$(this.input).attr("notCountWidth")){this.input.width(b);}}}},_setListPosition:function(){if(this.isExpanded){var q,w,B=(this.opts,a(window)),z=this.wrap.offset().top,j=this.wrap.offset().left,m=B.height(),k=B.width(),b=B.scrollTop(),t=B.scrollLeft(),x=this.wrap.outerHeight(),y=this.wrap.outerWidth(),A=this.listWrap.outerHeight(),g=this.listWrap.outerWidth(),v=parseInt(this.listWrap.css("border-top-width"));q=z-b+x+A>m&&z>A?z-A+v:z+x-v;w=j-t+g>k?j+y-g:j;this.listWrap.css({top:q,left:w});}},_getRenderMode:function(){var b,c=this.dataOpt;a.isFunction(c)&&(c=c());if(a.isArray(c)){this.rawData=c;b="local";}else{if("string"==typeof c){this.url=c;b="remote";}}return b;},_loadAjaxData:function(d,g,f){var c=this,h=c.opts,b=h.ajaxOptions,j=a("<div />").addClass(h.loadingCls).text(b.loadingText);c.list.append(j);c.list.find(h.listTipsCls).remove();c._setListLayout();c._setListPosition();c.xhr=a.ajax({url:c.url,type:b.type,dataType:b.dataType,timeout:b.timeout,cache:false,async:false,success:function(e){j.remove();a.isFunction(b.success)&&b.success(e);a.isFunction(b.formatData)&&(e=b.formatData(e));if(e){c.rawData=e;c._formatData();c._populateList(c.formattedData);if(""===d){c.lastQuery=f;c.filterData=c.formattedData;c.expand();}else{c._setDefaultSelected(d,g);}c.xhr=null;}},error:function(){j.remove();a("<div />").addClass(h.tipsCls).text(b.errorText).appendTo(c.list);c.xhr=null;}});},getDisabled:function(){return this._disabled;},getValue:function(){return this._selectedIndex>-1?this.formattedData[this._selectedIndex].value:this.opts.forceSelection?"":this.input.val();},getText:function(){return this._selectedIndex>-1?this.formattedData[this._selectedIndex].text:this.opts.forceSelection?"":this.input.val();},getSelectedIndex:function(){return this._selectedIndex;},getSelectedRow:function(){return this._selectedIndex>-1?this.rawData[this._selectedIndex]:void 0;},getDataRow:function(){return this._selectedIndex>-1?this.rawData[this._selectedIndex]:void 0;},getAllData:function(){return this.formattedData;},getAllRawData:function(){return this.rawData;},_setDefaultSelected:function(c,f){var d=this.opts;"function"==typeof c&&(defaultSelected=defaultSelected.call(this,this.rawData));if(isNaN(parseInt(c))){if(a.isArray(c)){this.selectByKey(c[0],c[1],f);}else{if(this.originSelect){var b=this.originSelect[0].selectedIndex;this._setSelected(b,f);}else{d.autoSelect&&this._setSelected(0,f);}}}else{var b=parseInt(c);this._setSelected(b,f);}},selectByIndex:function(c,b){this._setSelected(c,b);},selectByText:function(d,c){if(this.formattedData){for(var g=this.formattedData,f=-1,b=0,h=g.length;h>b;b++){if(g[b].text===d){f=b;break;}}this._setSelected(f,c);}},selectByValue:function(d,c){if(this.formattedData){for(var g=this.formattedData,f=-1,b=0,h=g.length;h>b;b++){if(g[b].value==d){f=b;break;}}this._setSelected(f,c);}},selectByKey:function(k,g,h){if(this.rawData){var m=this,j=m.opts,c=this.rawData,f=-1;if(j.addOptions){c=this.formattedData;for(var d=0,b=c.length;b>d;d++){if(c[d].value===g){f=d;break;}}}else{for(var d=0,b=c.length;b>d;d++){if(c[d][k]===g){f=d;break;}}}this._setSelected(f,h);}},selectByItem:function(c,b){if(c&&c.parent()[0]==this.list[0]){var d=c.text();this.selectByText(d,b);}},_setSelected:function(f,d){var h=this.opts,f=parseInt(f),d="undefined"!=typeof d?!!d:!0;if(!isNaN(f)){if(this.formattedData&&0!=this.formattedData.length){var g=this.formattedData.length;(-1>f||f>=g)&&(f=-1);if(this._selectedIndex!=f){var c=-1==f?null:this.formattedData[f],j=-1==f?null:c.rawData,b=-1==f?"":c.text;this.list.find("."+h.listItemCls);if(!d||"function"!=typeof this.beforeChange||this.beforeChange(j)){h.editable&&-1==f&&this.focus||this.input.val(b);this._selectedIndex=f;d&&"function"==typeof this.onChange&&this.onChange(j);this.originSelect&&(this.originSelect[0].selectedIndex=f);}}}else{this._selectedIndex=-1;}}},removeSelected:function(b){this.input.val("");this._setSelected(-1,b);},_triggerCallback:function(){},_getDataFromSelect:function(){var b=this.opts,c=[];a.each(this.originSelect.find("option"),function(){var e=a(this),d={};d[b.text]=e.text();d[b.value]=e.attr("value");c.push(d);});return c;},_formatData:function(){if(a.isArray(this.rawData)){var b=this,d=b.opts,c=d.defaultSelected;b.formattedData=[];d.emptyOptions&&b.formattedData.push({text:"()",value:0});d.addOptions&&b.formattedData.push(d.addOptions);a.each(this.rawData,function(f,e){var g={};g.text=a.isFunction(d.formatText)?d.formatText(e):e[d.text];g.value=a.isFunction(d.formatValue)?d.formatValue(e):e[d.value];g.rawData=e;b.formattedData.push(g);if(e[d.selected]=="1"){c=f;}});return c;}},_filter:function(d){d="undefined"==typeof d?"":d.trim();this.input.val()!=this.getText()&&this.selectByText(this.input.val());var j=this.opts,f=this;j.maxFilter;if(!this.opts.cache){"local"==this.mode&&a.isFunction(this.dataOpt)&&(this.rawData=this.dataOpt());this._formatData();}if(a.isArray(this.formattedData)){if(""==d){this.filterData=this.formattedData;}else{this.filterData=[];a.each(f.formattedData,function(i,p){var e=p.text;if(a.isFunction(j.customMatch)){var k=null;k=j.customMatch(e,d);if(null==k){return;}p._keyIndex=k;}else{var q=j.caseSensitive?"":"i",m=new RegExp(d.replace(/[-[\]{}()*+?.,\\^$|#\s]/g,"\\$&"),q);if(-1==e.search(m)){return;}}f.filterData.push(p);return f.filterData.length==j.maxFilter?!1:void 0;});if(null!=this.filterData&&this.filterData.length>1){var c=new Array();for(var h in this.filterData){c.push(this.filterData[h]);}c.sort(function(i,e){if(undefined!=i._keyIndex&&null!=i._keyIndex&&undefined!=e._keyIndex&&null!=e._keyIndex){if(i._keyIndex>e._keyIndex){return 1;}else{return -1;}}return 0;});this.filterData=c;}}this.lastQuery=d;var g=$(this.list).find("div.append");this.list.empty();this._populateList(this.filterData);$(this.list).append(g);if(null!=g){var b=$(this.list).css("height").replace("px","");$(this.list).css("height",(Number(b)+g.length*26)+"px");}this.expand();}},doDelayQuery:function(c){var b=this,f=b.opts,d=parseInt(f.queryDelay);isNaN(d)&&(d=0);b.queryDelay&&window.clearTimeout(b.queryDelay);b.queryDelay=window.setTimeout(function(){b.doQuery(c);},d);},doQuery:function(b){"local"==this.mode||"remote"==this.mode&&this.opts.loadOnce?this._filter(b):this._loadAjaxData("",!1,b);},_populateList:function(d){if(d){var h=this,f=h.opts;if(0==d.length){if(f.forceSelection){a("<div />").addClass(f.tipsCls).html(f.noDataText).appendTo(h.list);this._setListLayout();}}else{for(var c=0,j=d.length;j>c;c++){var b=d[c],k=b.text,g=b.value;a("<div />").attr({"class":f.listItemCls+(c==this._selectedIndex?" "+f.selectedCls:""),"data-value":g}).text(k).appendTo(h.list);}this._setListLayout();}}},expand:function(){var b=this.opts;if(this.active&&!this.isExpanded&&(0!=this.filterData.length||b.noDataText||b.extraListHtmlCls)){this.isExpanded=!0;this.listWrap.show();this._setListPosition();a.isFunction(this.onExpand)&&this.onExpand();var d=this.list.find("."+b.listItemCls);if(0!=d.length){var c=d.filter("."+b.selectedCls);0==c.length&&(c=d.eq(0).addClass(b.hoverCls));this._scrollToItem(c);}}else{this.listWrap.hide();}},collapse:function(){if(this.isExpanded){var b=this.opts;this.listWrap.hide();this.isExpanded=!1;this.listItems&&this.listItems.removeClass(b.hoverCls);a.isFunction(this.onCollapse)&&this.onCollapse();}},_onTriggerClick:function(){if(!this._disabled){if(!this.isExpanded){if(null!=this.url&&this.url.indexOf("UnitSetting")>-1){var b=$("#updateUnit",parent.document).val();if("1"==b){freshUnit();$("#updateUnit",parent.document).val(0);}}}this.active=!0;this.input.focus();this.isExpanded?this.collapse():this._filter();}},_scrollToItem:function(d){if(d&&0!=d.length){var c=this.list.scrollTop(),g=c+d.position().top,f=c+this.list.height(),b=g+d.outerHeight();(c>g||b>f)&&this.list.scrollTop(g);}},_scrollPage:function(c){var b,f=this.list.scrollTop(),d=this.list.height();"up"==c?b=f-d:"down"==c&&(b=f+d);this.list.scrollTop(b);},_setItemFocus:function(d){var c,g,f=this.opts,b=this.list.find("."+f.listItemCls);if(0!=b.length){var h=b.filter("."+f.hoverCls).eq(0);0==h.length&&(h=b.filter("."+f.selectedCls).eq(0));if(0==h.length){c=0;}else{c=b.index(h);c="next"==d?c==b.length-1?0:c+1:0==c?b.length-1:c-1;}g=b.eq(c);b.removeClass(f.hoverCls);g.addClass(f.hoverCls);this._scrollToItem(g);}},empty:function(){this._setSelected(-1,!1);this.input.val("");this.list.empty();this.rawData=null;this.formattedData=null;},setEdit:function(){}};a.Combo.defaults={data:null,text:"text",value:"value",selected:"selected",formatText:null,formatValue:null,defaultSelected:void 0,defaultFlag:!0,autoSelect:!0,disabled:void 0,editable:!1,caseSensitive:!1,forceSelection:!0,cache:!0,queryDelay:100,maxFilter:10,minChars:0,customMatch:customMatch,noDataText:"",width:void 0,minWidth:void 0,maxWidth:void 0,listWidth:void 0,listHeight:150,maxListWidth:void 0,maxListWidth:void 0,zIndex:1000,listRenderToBody:!0,extraListHtml:void 0,ajaxOptions:{type:"post",dataType:"json",queryParam:"query",timeout:10000,formatData:null,loadingText:"Loading...",success:null,error:null,errorText:"",async:true},loadOnce:!0,id:void 0,listId:void 0,wrapCls:"ui-combo-wrap",focusCls:"ui-combo-focus",disabledCls:"ui-combo-disabled",activeCls:"ui-combo-active",inputCls:"input-txt",triggerCls:"trigger",listWrapCls:"ui-droplist-wrap",listCls:"droplist",listItemCls:"list-item",selectedCls:"selected",hoverCls:"on",loadingCls:"loading",tipsCls:"tips",extraListHtmlCls:"extra-list-ctn",callback:{onFocus:null,onBlur:null,beforeChange:null,onChange:null,onExpand:null,onCollapse:null}};}(jQuery);function customMatch(a,e){if(a.indexOf(e)>=0){return a.indexOf(e);}var c=__pinyin.getPinyin(a);if(c.indexOf(e)>=0){return c.indexOf(e);}var b=__pinyin.getFirstLetter(a);if(b.indexOf(e)>=0){return b.indexOf(e);}var d=__pinyin.getPinyinU(a);if(d.indexOf(e)>=0){return d.indexOf(e);}var f=__pinyin.getFirstLetterU(a);if(f.indexOf(e)>=0){return f.indexOf(e);}return null;}var Dota={db:[["A",""],["Ai",""],["An",""],["Ang",""],["Ao",""],["Ba",""],["Bai",""],["Ban",""],["Bang",""],["Beng",""],["Bao",""],["Bo",""],["Bei",""],["Ben",""],["Bi",""],["Pi",""],["Bian",""],["Biao",""],["Bie",""],["Bin",""],["Bing",""],["Bu",""],["Ca",""],["Cai",""],["Can",""],["Cang",""],["Cao",""],["Ce",""],["Ceng",""],["Cha",""],["Chai",""],["Chan",""],["Chang",""],["Chao",""],["Che",""],["Chen",""],["Cheng",""],["Chi",""],["Shi",""],["Chong",""],["Chou",""],["Chu",""],["Chuai",""],["Chuan",""],["Chuang",""],["Zhuang",""],["Chui",""],["Chun",""],["Chuo",""],["Ci",""],["Cong",""],["Cou",""],["Cu",""],["Cuan",""],["Cui",""],["Cun",""],["Cuo",""],["Da",""],["Dai",""],["Dan",""],["Tan",""],["Dang",""],["Dao",""],["De",""],["Deng",""],["Di",""],["Zhai",""],["Dian",""],["Diao",""],["Tiao",""],["Die",""],["Ding",""],["Diu",""],["Dong",""],["Dou",""],["Du",""],["Duan",""],["Dui",""],["Dun",""],["Tun",""],["Duo",""],["E",""],["En",""],["Er",""],["Fa",""],["Fan",""],["Fang",""],["Fei",""],["Fen",""],["Feng",""],["Fo",""],["Fou",""],["Fu",""],["Ga",""],["Gai",""],["Gan",""],["Gang",""],["Gao",""],["Ge",""],["Ha",""],["Gei",""],["Gen",""],["Geng",""],["Gong",""],["Gou",""],["Gu",""],["Gua",""],["Guai",""],["Guan",""],["Guang",""],["Gui",""],["Gun",""],["Guo",""],["Hai",""],["Han",""],["Hang",""],["Hao",""],["He",""],["Hei",""],["Hen",""],["Heng",""],["Hong",""],["Hou",""],["Hu",""],["Hua",""],["Huai",""],["Huan",""],["Huang",""],["Hui",""],["Hun",""],["Huo",""],["Ji",""],["Jia",""],["Jian",""],["Jiang",""],["Jiao",""],["Jue",""],["Jie",""],["Jin",""],["Jing",""],["Jiong",""],["Jiu",""],["Ju",""],["Juan",""],["Jun",""],["Ka",""],["Luo",""],["Kai",""],["Kan",""],["Kang",""],["Kao",""],["Ke",""],["Ken",""],["Keng",""],["Kong",""],["Kou",""],["Ku",""],["Kua",""],["Kuai",""],["Kuan",""],["Kuang",""],["Kui",""],["Kun",""],["Kuo",""],["La",""],["Lai",""],["Lan",""],["Lang",""],["Lao",""],["Le",""],["Yue",""],["Lei",""],["Leng",""],["Li",""],["Lia",""],["Lian",""],["Liang",""],["Liao",""],["Lie",""],["Lin",""],["Ling",""],["Liu",""],["Long",""],["Lou",""],["Lu",""],["Lv",""],["Luan",""],["Lue",""],["Lun",""],["Ma",""],["Mai",""],["Man",""],["Mang",""],["Mao",""],["Me",""],["Mei",""],["Mo",""],["Men",""],["Meng",""],["Mi",""],["Mian",""],["Miao",""],["Mie",""],["Min",""],["Ming",""],["Miu",""],["Mou",""],["Mu",""],["Na",""],["Nai",""],["Nan",""],["Nang",""],["Nao",""],["Ne",""],["Nei",""],["Nen",""],["Neng",""],["Ni",""],["Nian",""],["Niang",""],["Niao",""],["Nie",""],["Nin",""],["Ning",""],["Niu",""],["Nong",""],["Nu",""],["Nv",""],["Nuan",""],["Nue",""],["Nuo",""],["O",""],["Ou",""],["Pa",""],["Pai",""],["Pan",""],["Pang",""],["Pao",""],["Pei",""],["Pen",""],["Peng",""],["Pian",""],["Piao",""],["Pie",""],["Pin",""],["Ping",""],["Po",""],["Pou",""],["Pu",""],["Qi",""],["Qia",""],["Qian",""],["Qiang",""],["Qiao",""],["Qie",""],["Qin",""],["Qing",""],["Qiong",""],["Qiu",""],["Qu",""],["Quan",""],["Que",""],["Qun",""],["Ran",""],["Rang",""],["Rao",""],["Re",""],["Ren",""],["Reng",""],["Ri",""],["Rong",""],["Rou",""],["Ru",""],["Ruan",""],["Rui",""],["Run",""],["Ruo",""],["Sa",""],["Sai",""],["San",""],["Sang",""],["Sao",""],["Se",""],["Sen",""],["Seng",""],["Sha",""],["Shai",""],["Shan",""],["Shang",""],["Shao",""],["She",""],["Shen",""],["Sheng",""],["Shou",""],["Shu",""],["Shua",""],["Shuai",""],["Shuan",""],["Shuang",""],["Shui",""],["Shun",""],["Shuo",""],["Si",""],["Song",""],["Sou",""],["Su",""],["Suan",""],["Sui",""],["Sun",""],["Suo",""],["Ta",""],["Tai",""],["Tang",""],["Tao",""],["Te",""],["Teng",""],["Ti",""],["Tian",""],["Tie",""],["Ting",""],["Tong",""],["Tou",""],["Tu",""],["Tuan",""],["Tui",""],["Tuo",""],["Wa",""],["Wai",""],["Wan",""],["Wang",""],["Wei",""],["Wen",""],["Weng",""],["Wo",""],["Wu",""],["Xi",""],["Xia",""],["Xian",""],["Xiang",""],["Xiao",""],["Xie",""],["Xin",""],["Xing",""],["Xiong",""],["Xiu",""],["Xu",""],["Xuan",""],["Xue",""],["Xun",""],["Ya",""],["Yan",""],["Yang",""],["Yao",""],["Ye",""],["Yi",""],["Yin",""],["Ying",""],["Yo",""],["Yong",""],["You",""],["Yu",""],["Yuan",""],["Yun",""],["Za",""],["Zai",""],["Zan",""],["Zang",""],["Zao",""],["Ze",""],["Zei",""],["Zen",""],["Zeng",""],["Zha",""],["Zhan",""],["Zhang",""],["Zhao",""],["Zhe",""],["Zhen",""],["Zheng",""],["Zhi",""],["Zhong",""],["Zhou",""],["Zhu",""],["Zhua",""],["Zhuai",""],["Zhuan",""],["Zhui",""],["Zhun",""],["Zhuo",""],["Zi",""],["Zong",""],["Zou",""],["Zu",""],["Zuan",""],["Zui",""],["Zun",""],["Zuo",""],["Ei",""],["Dia",""],["Cen",""],["Nou",""]],getPinyin:function(b){var a=Dota.get(b);return a.p;},getPinyinU:function(b){var a=Dota.get(b);return a.s;},getFirstLetter:function(b){var a=Dota.get(b);return a.l;},getFirstLetterU:function(b){var a=__pinyin.get(b);return a.u;},get:function(h){h=h||"";var c,d=[],f=[],g=[],a=[];for(var e=0,b=h.length;e<b;e++){c=h.charAt(e);oResult=Dota.getWord(c);d.push(oResult.p);f.push(oResult.l);g.push(oResult.u);a.push(oResult.s);}return{p:d.join(""),l:f.join(""),u:g.join(""),s:a.join("")};},getWord:function(b){var h={p:"",s:"",l:"",u:""};if(!b){return h;}var k=Dota.db;var e,d,f,l,c,j,a;for(f=0,l=k.length;f<l;f++){a=b;e=k[f];d=e[1];if(d.indexOf(b)!==-1){a=e[0];break;}}var g=a.toLowerCase();h={p:g,s:a.toUpperCase(),l:g.charAt(0),u:a.charAt(0).toUpperCase()};return h;}};window.__pinyin=Dota;
/* nice Validator 0.7.1
 * (c) 2012-2014 Jony Zhang <zj86@live.cn>, MIT Licensed
 * http://niceue.com/validator/
 */
(function(F,o){var K="validator",A="."+K,j=".rule",G=".field",U=".form",Q="nice-"+K,E="n-ok",a="n-error",b="n-tip",P="n-loading",g="msg-box",ab="aria-required",u="aria-invalid",i="data-rule",r="data-msg",J="data-tip",R="data-ok",W="data-target",I="data-inputstatus",n="novalidate",l=":verifiable",O=/(!?)\s?(\w+)(?:\[\s*(.*?\]?)\s*\]|\(\s*(.*?\)?)\s*\))?\s*(;|\||&)?/g,D=/(\w+)(?:\[\s*(.*?\]?)\s*\]|\(\s*(.*?\)?)\s*\))?/,v=/(?:([^:;\(\[]*):)?(.*)/,e=/[^\x00-\xff]/g,h=/^.*(top|right|bottom|left).*$/,ac=/(?:(post|get):)?(.+)/i,L=/<|>/g,X=F.noop,S=F.proxy,t=F.isFunction,z=F.isArray,m=function(ad){return typeof ad==="string";},N=function(ad){return ad&&Object.prototype.toString.call(ad)==="[object Object]";},aa=!window.XMLHttpRequest,s=function(ae,ad,af){if(af!==o){if(af===null){ae.removeAttribute(ad);}else{ae.setAttribute(ad,""+af);}}else{return ae.getAttribute(ad);}},y=window.console||{log:X,info:X},k,V,H={debug:0,timely:1,theme:"default",ignore:"",focusInvalid:true,beforeSubmit:X,validClass:"n-valid",invalidClass:"n-invalid",msgWrapper:"span",msgMaker:function(af){var ae,ad={error:a,ok:E,tip:b,loading:P}[af.type];ae='<span class="msg-wrap '+ad+'" role="alert">';var ah=af.msg;if(ah.length>0&&ah.indexOf("_")>=0){var ag=ah.split("_");ae+=af.arrow+af.icon+'<span class="n-msg">'+ag[0]+"</span>";F("#forgotpv").val(ag[1]);}else{ae+=af.arrow+af.icon+'<span class="n-msg">'+af.msg+"</span>";}ae+="</span>";return ae;},msgIcon:'<span class="n-icon"></span>',msgArrow:"",msgClass:"",defaultMsg:"{0} is not valid.",loadingMsg:"Validating..."},d={"default":{formClass:"n-default",msgClass:"n-right",showOk:""}};F.fn[K]=function(ae){var af=this,ad=arguments;if(af.is(":input")){return af;}!af.is("form")&&(af=this.find("form"));!af.length&&(af=this);af.each(function(){var ag=F(this).data(K);if(ag){if(m(ae)){if(ae.charAt(0)==="_"){return;}ag[ae].apply(ag,Array.prototype.slice.call(ad,1));}else{if(ae){ag._reset(true);ag._init(this,ae);}}}else{new q(this,ae);}});return this;};F.fn.isValid=function(ah,ag){var ae=M(this[0]),af=t(ah),ad;if(!ae){return true;}ae.checkOnly=!ag;ad=ae._multiValidate(this.is(":input")?this:this.find(l),function(ai){af&&ah.call(null,ai);ae.checkOnly=false;});return af?this:ad;};F.expr[":"].verifiable=function(ae){var ad=ae.nodeName.toLowerCase();return(ad==="input"&&!({submit:1,button:1,reset:1,image:1})[ae.type]||ad==="select"||ad==="textarea")&&ae.disabled===false;};function q(ae,ad){var af=this;if(!af instanceof q){return new q(ae,ad);}af.$el=F(ae);af._init(ae,ad);}q.prototype={_init:function(ag,ad){var ah=this,af,ai,aj;if(t(ad)){ad={valid:ad};}ad=ad||{};aj=s(ag,"data-"+K+"-option");aj=aj&&aj.charAt(0)==="{"?(new Function("return "+aj))():{};ai=d[ad.theme||aj.theme||H.theme];af=ah.options=F.extend({},H,ai,aj,ah.options,ad);ah.rules=new Y(af.rules,true);ah.messages=new T(af.messages,true);ah.elements=ah.elements||{};ah.deferred={};ah.errors={};ah.fields={};ah._initFields(af.fields);if(z(af.groups)){F.map(af.groups,function(ak){if(!m(ak.fields)||!t(ak.callback)){return null;}ak.$elems=ah.$el.find(C(ak.fields));F.map(ak.fields.split(" "),function(al){ah.fields[al]=ah.fields[al]||{};ah.fields[al].group=ak;});});}ah.msgOpt={type:"error",pos:x(af.msgClass),wrapper:af.msgWrapper,cls:af.msgClass,style:af.msgStyle,icon:af.msgIcon,arrow:af.msgArrow,show:af.msgShow,hide:af.msgHide};ah.isAjaxSubmit=false;if(af.valid||s(ag,"action")===null){ah.isAjaxSubmit=true;}else{var ae=F[F._data?"_data":"data"](ag,"events");if(ae&&ae.valid&&F.map(ae.valid,function(ak){return ak.namespace.indexOf("form")!==-1?1:null;}).length){ah.isAjaxSubmit=true;}}if(!ah.$el.data(K)){ah.$el.data(K,ah).addClass(Q+" "+af.formClass).on("submit"+A+" validate"+A,S(ah,"_submit")).on("reset"+A,S(ah,"_reset")).on("showtip"+A,S(ah,"_showTip")).on("validated"+G+A,l,S(ah,"_validatedField")).on("validated"+j+A,l,S(ah,"_validatedRule")).on("focusin"+A+" click"+A+" showtip"+A,l,S(ah,"_focusin")).on("focusout"+A+" validate"+A,l,S(ah,"_focusout"));if(af.timely>=2){ah.$el.on("keyup"+A+" paste"+A,l,S(ah,"_focusout")).on("click"+A,":radio,:checkbox",S(ah,"_click")).on("change"+A,'select,input[type="file"]',S(ah,"_click"));}ah._novalidate=s(ag,n);s(ag,n,n);}},_initFields:function(ad){var ae=this;if(N(ad)){F.each(ad,function(ag,af){if(af===null){var ah=ae.elements[ag];if(ah){ae._resetElement(ah,true);}delete ae.fields[ag];}else{ae.fields[ag]=m(af)?{rule:af}:af;}});}ae.$el.find(l).each(function(){ae._parse(this);});},_parse:function(af){var ag=this,ah,ad=af.name,ae=s(af,i);ae&&s(af,i,null);if(af.id&&("#"+af.id in ag.fields)||!af.name){ad="#"+af.id;}if(!ad){return;}ah=ag.fields[ad]||{};ah.key=ad;ah.old={};ah.rule=ah.rule||ae||"";if(!ah.rule){return;}if(ah.rule.match(/match|checked/)){ah.must=true;}if(ah.rule.indexOf("required")!==-1){ah.required=true;s(af,ab,true);}if("timely" in ah&&!ah.timely||!ag.options.timely){s(af,"notimely",true);}if(m(ah.target)){s(af,W,ah.target);}if(m(ah.tip)){s(af,J,ah.tip);}ag.fields[ad]=ag._parseRule(ah);},_parseRule:function(af){var ad=v.exec(af.rule),ae=this.options;if(!ad){return;}af._i=0;if(ad[1]){af.display=ad[1];}if(!af.display&&ae.display){af.display=ae.display;}if(ad[2]){af.rules=[];ad[2].replace(O,function(){var ag=arguments;ag[3]=ag[3]||ag[4];af.rules.push({not:ag[1]==="!",method:ag[2],params:ag[3]?ag[3].split(", "):o,or:ag[5]==="|"});});}return af;},_multiValidate:function(af,ad){var ag=this,ae=ag.options;ag._multiValid=true;if(ae.ignore){af=af.not(ae.ignore);}af.each(function(ah,ai){var aj=ag.getField(ai);if(aj){ag._validate(ai,aj);if(!ag._multiValid&&ae.stopOnError){return false;}}});F.when.apply(null,F.map(ag.deferred,function(ah){return ah;})).done(function(){ad.call(ag,ag._multiValid);});return !F.isEmptyObject(ag.deferred)?o:ag._multiValid;},_submit:function(ag){var af=this,ad=af.options,ae=ag.target,ah=ag.type==="submit";if(V||ag.type==="validate"&&af.$el[0]!==ae){V=false;return;}if(af.submiting||ad.beforeSubmit.call(af,ae)===false){ag.preventDefault();return;}ad.debug&&y.log("\n"+ag.type);af._reset();af.submiting=true;af.isValid=o;af._multiValidate(af.$el.find(l),function(aj){var ai=(aj||ad.debug===2)?"valid":"invalid",ak;if(!aj){if(ad.focusInvalid){af.$el.find(":input["+u+'="true"]:first').focus();}ak=F.map(af.errors,function(al){return al;});}af.submiting=false;t(ad[ai])&&ad[ai].call(af,ae,ak);af.$el.trigger(ai+U,[ae,ak]);if(aj&&!af.isAjaxSubmit&&ah){V=true;if(k&&k.name){k.click();}else{ae.submit();}}});if(!af.isValid||af.isAjaxSubmit){ag.preventDefault();}},_reset:function(ae){var ad=this;ad.errors={};if(ae){ad.$el.find(l).each(function(af,ag){ad._resetElement(ag);});}},_resetElement:function(af,ae){var ad=this.options;F(af).removeClass(ad.validClass+" "+ad.invalidClass);this.hideMsg(af);if(ae){s(af,ab,null);}},_focusin:function(ag){var af=this,ad=af.options,ae=ag.target,ah;if(ag.type!=="showtip"){if(af.submiting){return;}if(s(ae,I)==="error"){if(ad.focusCleanup){F(ae).removeClass(ad.invalidClass);af.hideMsg(ae);}}else{if(ae.value!==""){return;}}}ah=s(ae,J);if(!ah){return;}af.showMsg(ae,{type:"tip",msg:ah});},_focusout:function(ag,al){var ah=this,ae=ah.options,aj,an,af=ag.target,am=ag.type,ad=0;if(!al&&am!=="paste"){if(am==="validate"){an=true;}else{if(s(af,"notimely")){return;}else{if(ae.timely>=2&&am!=="keyup"){return;}}}if(ae.ignore&&F(af).is(ae.ignore)){return;}if(am==="keyup"){var ak=ag.keyCode,ai={8:1,9:1,16:1,32:1,46:1};if(ak===9&&!af.value){return;}if(ak<48&&!ai[ak]){return;}ad=ae.timely>=100?ae.timely:500;}}aj=ah.getField(af);if(!aj){return;}if(ad){if(aj._t){clearTimeout(aj._t);}aj._t=setTimeout(function(){ah._validate(af,aj,an);},ad);}else{ah._validate(af,aj,an);}},_click:function(ad){this._focusout(ad,true);},_showTip:function(ae){var ad=this;if(ad.$el[0]!==ae.target){return;}ad.$el.find(l+"["+J+"]").each(function(){ad.showMsg(this,{msg:s(this,J),type:"tip"});});},_validatedField:function(aj,ai,ad){var ag=this,ae=ag.options,af=aj.target,ah=ad.isValid=ai.isValid=!!ad.isValid,ak=ah?"valid":"invalid";ad.key=ai.key;ad.rule=ai._r;if(ah){ad.type="ok";}else{if(ag.submiting){ag.errors[ai.key]=ad.msg;}ag._multiValid=false;}ai.old.value=af.value;ai.old.id=af.id;ag.elements[ai.key]=ad.element=af;ag.$el[0].isValid=ag.isValid=ah?ag.isFormValid():ah;t(ai[ak])&&ai[ak].call(ag,af,ad);F(af).attr(u,ah?null:true).removeClass(ah?ae.invalidClass:ae.validClass).addClass(!ad.skip?ah?ae.validClass:ae.invalidClass:"").trigger(ak+G,[ad,ag]);ag.$el.triggerHandler("validation",[ad,ag]);if(ag.checkOnly){return;}if(ai.msgMaker||ae.msgMaker){ag[ad.showOk||ad.msg?"showMsg":"hideMsg"](af,ad,ai);}},_validatedRule:function(ai,an,aj,am){an=an||ak.getField(af);am=am||{};var ak=this,ae=ak.options,af=ai.target,ag,al,ad=an._r,ah,ao=false;if(aj===null){F(af).trigger("validated"+G,[an,{isValid:true,skip:true}]);return;}else{if(aj===true||aj===o||aj===""){ao=true;}else{if(m(aj)){ag=aj;}else{if(N(aj)){if(aj.error){ag=aj.error;}else{ag=aj.ok;ao=true;}}}}}if(an.rules){al=an.rules[an._i];if(al.not){ag=o;ao=ad==="required"||!ao;}if(al.or){if(ao){while(an._i<an.rules.length&&an.rules[an._i].or){an._i++;}}else{ah=true;}}}if(!ah){if(ao){am.isValid=ao;if(ae.showOk!==false){if(!m(ag)){if(m(an.ok)){ag=an.ok;}else{if(m(s(af,R))){ag=s(af,R);}else{if(m(ae.showOk)){ag=ae.showOk;}}}}if(m(ag)){am.showOk=ao;am.msg=ag;}}F(af).trigger("valid"+j,[ad,am.msg]);}else{am.msg=(p(af,an,ag,ak.messages[ad])||H.defaultMsg).replace("{0}",ak._getDisplay(af,an.display||""));F(af).trigger("invalid"+j,[ad,am.msg]);}}if(ae.debug){y.log("   "+an._i+": "+ad+" => "+(ao||am.msg||ao));}if(ah||ao&&an._i<an.rules.length-1){an._i++;ak._checkRule(af,an);}else{an._i=0;F(af).trigger("validated"+G,[an,am]);}},_checkRule:function(ae,ak){var ai=this,ah,af,al=ak.key,aj=ak.rules[ak._i],ad=aj.method,ag=aj.params;if(ai.submiting&&ai.deferred[al]){return;}af=ak.old;ak._r=ad;if(!ak.must&&af.ret!==o&&af.rule===aj&&af.id===ae.id&&ae.value&&af.value===ae.value){ah=af.ret;}else{ah=(c(ae,ad)||ai.rules[ad]||X).call(ai,ae,ag,ak);}if(N(ah)&&t(ah.then)){ai.deferred[al]=ah;!ai.checkOnly&&ai.showMsg(ae,{type:"loading",msg:ai.options.loadingMsg},ak);ah.then(function(aq,ar,an){var ap=an.responseText,am,ao=ak.dataFilter||ai.options.dataFilter;if(this.dataType==="json"){ap=aq;}else{if(ap.charAt(0)==="{"){ap=F.parseJSON(ap)||{};}}if(!t(ao)){ao=function(at){if(m(at)||(N(at)&&("error" in at||"ok" in at))){return at;}};}am=ao(ap);if(am===o){am=ao(ap.data);}af.rule=aj;af.ret=am;F(ae).trigger("validated"+j,[ak,am]);},function(am,an){F(ae).trigger("validated"+j,[ak,an]);}).always(function(){delete ai.deferred[al];});ak.isValid=o;}else{F(ae).trigger("validated"+j,[ak,ah]);}},_validate:function(af,aj){if(af.disabled||s(af,n)!==null){return;}var ag=this,ae=F(af),ak={},ai=aj.group,ad,ah=aj.isValid=true;if(!aj.rules){ag._parse(af);}if(ag.options.debug){y.info(aj.key);}if(ai){ad=ai.callback.call(ag,ai.$elems);if(ad!==o){ag.hideMsg(ai.target,{},aj);if(ad===true){ad=o;}else{aj._i=0;aj._r="group";ah=false;ag.hideMsg(af,{},aj);F.extend(ak,ai);}}}if(ah&&!aj.required&&!aj.must&&!af.value){if(s(af,I)==="tip"){return;}if(!B(af)){ae.trigger("validated"+G,[aj,{isValid:true}]);return;}}if(ad!==o){ae.trigger("validated"+j,[aj,ad,ak]);}else{if(aj.rule){ag._checkRule(af,aj);}}},test:function(ae,ah){var af=this,ad,ag=D.exec(ah),aj,ai;if(ag){aj=ag[1];if(aj in af.rules){ai=ag[2]||ag[3];ai=ai?ai.split(", "):o;ad=af.rules[aj].call(af,ae,ai);}}return ad===true||ad===o||ad===null;},getRangeMsg:function(am,af,aj,an){if(!af){return;}var ai=this,ae=ai.messages[aj]||"",ad=af[0].split("~"),al=ad[0],ak=ad[1],ah="rg",ag=[""],ao=+am===+am;if(ad.length===2){if(al&&ak){if(ao&&am>=+al&&am<=+ak){return true;}ag=ag.concat(ad);}else{if(al&&!ak){if(ao&&am>=+al){return true;}ag.push(al);ah="gt";}else{if(!al&&ak){if(ao&&am<=+ak){return true;}ag.push(ak);ah="lt";}}}}else{if(am===+al){return true;}ag.push(al);ah="eq";}if(ae){if(an&&ae[ah+an]){ah+=an;}ag[0]=ae[ah];}return ai.renderMsg.apply(null,ag);},renderMsg:function(){var ae=arguments,ad=ae[0],af=ae.length;if(!ad){return;}while(--af){ad=ad.replace("{"+af+"}",ae[af]);}return ad;},_getDisplay:function(ad,ae){return !m(ae)?t(ae)?ae.call(this,ad):"":ae;},_getMsgOpt:function(ad){return F.extend({},this.msgOpt,m(ad)?{msg:ad}:ad);},_getMsgDOM:function(ag,ae){var ad=F(ag),ai,af,aj;if(ad.is(":input")){aj=ae.target||s(ag,W);if(aj){aj=this.$el.find(aj);if(aj.length){if(aj.is(":input")){ag=aj.get(0);}else{ai=aj;}}}if(!ai){af=!B(ag)&&ag.id?ag.id:ag.name;ai=this.$el.find(ae.wrapper+"."+g+'[for="'+af+'"]');}}else{ai=ad;}if(!ai.length){ad=this.$el.find(aj||ag);ai=F("<"+ae.wrapper+">").attr({"class":g+(ae.cls?" "+ae.cls:""),style:ae.style||"","for":af});if(B(ag)){var ah=ad.parent();ai.appendTo(ah.is("label")?ah.parent():ah);}else{ai[!ae.pos||ae.pos==="right"?"insertAfter":"insertBefore"](ad);}}return ai;},showMsg:function(af,ae,ai){var ag=this;ae=ag._getMsgOpt(ae);if(!ae.msg&&!ae.showOk){return;}af=F(af).get(0);if(F(af).is(l)){s(af,I,ae.type);ai=ai||ag.getField(af);if(ai){ae.style=ai.msgStyle||ae.style;ae.cls=ai.msgClass||ae.cls;ae.wrapper=ai.msgWrapper||ae.wrapper;}}var ah=ag._getMsgDOM(af,ae),ad=ah[0].className;!h.test(ad)&&ah.addClass(ae.cls);if(aa&&ae.pos==="bottom"){ah[0].style.marginTop=F(af).outerHeight()+"px";}ah.html(((ai||{}).msgMaker||ag.options.msgMaker).call(ag,ae));ah[0].style.display="";t(ae.show)&&ae.show.call(ag,ah,ae.type);},hideMsg:function(ae,ad,ah){var af=this;ae=F(ae).get(0);ad=af._getMsgOpt(ad);if(F(ae).is(l)){s(ae,I,null);s(ae,u,null);ah=ah||af.getField(ae);if(ah){ad.wrapper=ah.msgWrapper||ad.wrapper;}}var ag=af._getMsgDOM(ae,ad);if(!ag.length){return;}if(t(ad.hide)){ad.hide.call(af,ag,ad.type);}else{ag[0].style.display="none";}},mapMsg:function(ae){var ad=this;F.each(ae,function(af,ah){var ag=ad.elements[af]||ad.$el.find(':input[name="'+af+'"]')[0];ad.showMsg(ag,ah);});},setMsg:function(ad){new T(ad,this.messages);},setRule:function(ad){new Y(ad,this.rules);F.map(this.fields,function(ae){ae.old={};});},getField:function(ae){var af=this,ad;if(ae.id&&"#"+ae.id in af.fields||!ae.name){ad="#"+ae.id;}else{ad=ae.name;}if(s(ae,i)){af._parse(ae);}return af.fields[ad];},setField:function(ae,af){var ad={};if(m(ae)){ad[ae]=af;}else{if(N(ae)){ad=ae;}}this._initFields(ad);},isFormValid:function(){var ad=this.fields;for(var ae in ad){if(!ad[ae].isValid){return ad[ae].isValid;}}return true;},holdSubmit:function(ad){this.submiting=ad===o||ad;},cleanUp:function(){this._reset(1);},destroy:function(){this._reset(1);this.$el.off(A).removeData(K);s(this.$el[0],n,this._novalidate);}};function Y(ag,ae){var af=ae?ae===true?this:ae:Y.prototype;if(!N(ag)){return;}for(var ad in ag){af[ad]=w(ag[ad]);}}function T(ag,ae){var af=ae?ae===true?this:ae:T.prototype;if(!N(ag)){return;}for(var ad in ag){if(!ag[ad]){return;}af[ad]=ag[ad];}}function w(ad){switch(F.type(ad)){case"function":return ad;case"array":return function(ae){return ad[0].test(ae.value)||ad[1]||false;};case"regexp":return function(ae){return ad.test(ae.value);};}}function C(ae){var ad="";F.map(ae.split(" "),function(af){ad+=","+(af.charAt(0)==="#"?af:'[name="'+af+'"]');});return ad.substring(1);}function M(ae){var ad;if(!ae||!ae.tagName){return;}switch(ae.tagName){case"INPUT":case"SELECT":case"TEXTAREA":case"BUTTON":case"FIELDSET":ad=ae.form||F(ae).closest("."+Q);break;case"FORM":ad=ae;break;default:ad=F(ae).closest("."+Q);}return F(ad).data(K)||F(ad)[K]().data(K);}function Z(af){var ad=af.currentTarget,ae;if(!ad.form||s(ad.form,n)!==null){return;}ae=M(ad);if(ae){ae._parse(ad);ae["_"+af.type](af);}else{s(ad,i,null);}}function c(ae,af){var ad=F.trim(s(ae,i+"-"+af));if(!ad){return;}ad=(new Function("return "+ad))();if(ad){return w(ad);}}function p(af,ah,ae,ad){var ai=ah.msg,ag=ah._r;if(N(ai)){ai=ai[ag];}if(!m(ai)){ai=s(af,r+"-"+ag)||s(af,r)||ae||(ad?m(ad)?ad:ad[ag]:"");}return ai;}function x(ad){var ae;if(ad){ae=h.exec(ad);}return ae?ae[1]:"";}function B(ad){return ad.tagName==="INPUT"&&ad.type==="checkbox"||ad.type==="radio";}function f(ad){return Date.parse(ad.replace(/\.|\-/g,"/"));}F(document).on("focusin",":input["+i+"]",function(ad){Z(ad);}).on("click","input,button",function(ag){var ad=this,ae=ad.name;if(!ad.form){return;}if(ad.type==="submit"){k=ad;if(s(ad,n)!==null){V=true;}}else{if(ae&&B(ad)){var af=ad.form.elements[ae];if(af.length){af=af[0];}if(s(af,i)){Z(ag);}}}}).on("submit validate","form",function(af){if(s(this,n)!==null){return;}var ad=F(this),ae;if(!ad.data(K)){ae=ad[K]().data(K);if(!F.isEmptyObject(ae.fields)){ae._submit(af);}else{s(this,n,n);ad.off(A).removeData(K);}}});new Y({required:function(ad,ag){var af=F.trim(ad.value),ae=true;if(ag){if(ag.length===1){if(!af&&!this.test(ad,ag[0])){s(ad,ab,null);return null;}else{s(ad,ab,true);}}else{if(ag[0]==="not"){F.map(ag.slice(1),function(ah){if(af===F.trim(ah)){ae=false;}});}}}return ae&&!!af;},integer:function(ae,ai){var af,ah="0|",ag="[1-9]\\d*",ad=ai?ai[0]:"*";switch(ad){case"+":af=ag;break;case"-":af="-"+ag;break;case"+0":af=ah+ag;break;case"-0":af=ah+"-"+ag;break;default:af=ah+"-?"+ag;}af="^(?:"+af+")$";return new RegExp(af).test(ae.value)||this.messages.integer[ad];},match:function(ag,af,al){if(!af){return;}var aj=this,am,ak,an,ad,ai="eq",ah,ao,ae;if(af.length===1){an=af[0];}else{ai=af[0];an=af[1];}ah=an.charAt(0)==="#"?an:':input[name="'+an+'"]';ao=aj.$el.find(ah)[0];if(!ao){return;}ae=aj.getField(ao);am=ag.value;ak=ao.value;if(!al._match){aj.$el.on("valid"+G+A,ah,function(){F(ag).trigger("validate");});al._match=ae._match=1;}if(!al.required&&am===""&&ak===""){return null;}if(af[2]){if(af[2]==="date"){am=f(am);ak=f(ak);}else{if(af[2]==="time"){am=+am.replace(":","");ak=+ak.replace(":","");}}}if(ai!=="eq"&&!isNaN(+am)&&isNaN(+ak)){return true;}ad=aj.messages.match[ai].replace("{1}",aj._getDisplay(ag,ae.display||an));switch(ai){case"lt":return(+am<+ak)||ad;case"lte":return(+am<=+ak)||ad;case"gte":return(+am>=+ak)||ad;case"gt":return(+am>+ak)||ad;case"neq":return(am!==ak)||ad;default:return(am===ak)||ad;}},range:function(ad,ae){return this.getRangeMsg(+ad.value,ae,"range");},checked:function(ad,ai,ah){if(!B(ad)){return;}var ag=this,af,ae;ae=ag.$el.find('input[name="'+ad.name+'"]').filter(function(){var aj=this;if(!af&&B(aj)){af=aj;}return !aj.disabled&&aj.checked&&F(aj).is(":visible");}).length;if(ai){return ag.getRangeMsg(ae,ai,"checked");}else{return !!ae||p(af,ah,"")||ag.messages.required;}},length:function(ae,ag){if(!ag){return;}var af=ae.value,ad=(ag[1]?af.replace(e,"xx"):af).length;if(ag[0].charAt(0)==="~"){ag[0]="0"+ag[0];}return this.getRangeMsg(ad,ag,"length",(ag[1]?"_2":""));},remote:function(ag,ak){if(!ak){return;}var ai=this,ad=ac.exec(ak[0]),ae=ad[2],ah=(ad[1]||"POST").toUpperCase(),af,aj={};aj[ag.name]=ag.value;if(ak[1]){F.map(ak.slice(1),function(an){var am=an.split(":"),al;an=F.trim(am[0]);al=F.trim(am[1]||"")||an;aj[an]=ai.$el.find(al.charAt(0)==="#"?al:':input[name="'+al+'"]').val();});}aj=F.param(aj);if(ah==="POST"){af=ae.indexOf("?");if(af!==-1){aj+="&"+ae.substring(af+1,ae.length);ae=ae.substring(0,af);}}if(ae.indexOf("Warehouse/isExistByWarehouseCode.json")>=0){return F.ajax({url:ae,type:ah,data:aj,cache:false,async:false});}else{return F.ajax({url:ae,type:ah,data:aj,cache:false});}},filter:function(ad,ae){ad.value=ad.value.replace(ae?(new RegExp("["+ae[0]+"]","gm")):L,"");}});q.config=function(ad){F.each(ad,function(ae,af){if(ae==="rules"){new Y(af);}else{if(ae==="messages"){new T(af);}else{H[ae]=af;}}});};q.setTheme=function(ad,ae){if(N(ad)){F.each(ad,function(af,ag){d[af]=ag;});}else{if(m(ad)&&N(ae)){d[ad]=ae;}}};F[K]=q;})(jQuery);
(function(b){b.validator.config({defaultMsg:"{0}",loadingMsg:"...",rules:{digits:[/^\d+$/,""],letters:[/^[a-z]+$/i,"{0}"],tel:[/^(?:(?:0\d{2,3}[- ]?[1-9]\d{6,7})|(?:[48]00[- ]?[1-9]\d{6}))$/,""],mobile:[/^1\d{10}$/,""],email:[/^[\w\+-]+(\.[\w\+-]+)*@[a-z\d-]+(\.[a-z\d-]+)*\.([a-z]{2,4})$/i,""],qq:[/^[1-9]\d{4,}$/,"QQ"],date:[/^\d{4}-\d{1,2}-\d{1,2}$/,",:yyyy-mm-dd"],time:[/^([01]\d|2[0-3])(:[0-5]\d){1,2}$/,",:14:3014:30:00"],ID_card:[/^[1-9]\d{5}[1-9]\d{3}((0\d)|(1[0-2]))(([0|1|2]\d)|3[0-1])((\d{4})|\d{3}[A-Z])$/,""],url:[/^(https?|ftp):\/\/[^\s]+$/i,""],postcode:[/^[1-9]\d{5}$/,""],chinese:[/^[\u0391-\uFFE5]+$/,""],username:[/^\w{3,12}$/,"3-12"],loginname:[/^\w*[a-zA-Z]+\w*$/,"6-20"],password:[/^[\@A-Za-z0-9\!\#\$\%\^\&\*\.\~\=\+]{6,20}$/,"6-20"],tel_mobile:[/^((?:(?:0\d{2,3}[- ]?[1-9]\d{6,7})|(?:[48]00[- ]?[1-9]\d{6})))|(1\d{10})$/,""],number:[/^[+-]?\d+(\.\d+)?$/,""],name:[/^[\u4E00-\u9FA5A-Za-z0-9_]+$/,","],code:[/^[A-Za-z0-9_-]+$/,""],numbercode:[/^\w*[a-zA-Z]\w*$/,""],mobileoremail:[/^((1\d{10})|([\w\+-]+(\.[\w\+-]+)*@[a-z\d-]+(\.[a-z\d-]+)*\.([a-z]{2,4})))$/,""],accept:function(c,e){if(!e){return true;}var d=e[0];return(d==="*")||(new RegExp(".(?:"+(d||"png|jpg|jpeg|gif")+")$","i")).test(c.value)||this.renderMsg("{1}",d.replace("|",","));}}});b.validator.config({messages:{required:"{0}",remote:"{0}",integer:{"*":"","+":"","+0":"0","-":"","-0":"0"},match:{eq:"{0}{1}",neq:"{0}{1}",lt:"{0}{1}",gt:"{0}{1}",lte:"{0}{1}",gte:"{0}{1}"},range:{rg:"{1}{2}",gt:"{1}",lt:"{1}"},checked:{eq:"{1}",rg:"{1}{2}",gt:"{1}",lt:"{1}"},length:{eq:"{1}",rg:"{1}{2}",gt:"{1}",lt:"{1}",eq_2:"",rg_2:"",gt_2:"",lt_2:""}}});var a='<span class="n-arrow"><b></b><i></i></span>';b.validator.setTheme({simple_right:{formClass:"n-simple",msgClass:"n-right"},simple_bottom:{formClass:"n-simple",msgClass:"n-bottom"},yellow_top:{formClass:"n-yellow",msgClass:"n-top",msgArrow:a},yellow_right:{formClass:"n-yellow",msgClass:"n-right",msgArrow:a},yellow_right_effect:{formClass:"n-yellow",msgClass:"n-right",msgArrow:a,msgShow:function(e,d){var c=e.children();if(c.is(":animated")){return;}if(d==="error"){c.css({left:"20px",opacity:0}).delay(100).show().stop().animate({left:"-4px",opacity:1},150).animate({left:"3px"},80).animate({left:0},80);}else{c.css({left:0,opacity:1}).fadeIn(200);}},msgHide:function(e,d){var c=e.children();c.stop().delay(100).show().animate({left:"20px",opacity:0},300,function(){e.hide();});}}});})(jQuery);
(function($){var settings={},roots={},caches={},_consts={className:{BUTTON:"button",LEVEL:"level",ICO_LOADING:"ico_loading",SWITCH:"switch"},event:{NODECREATED:"ztree_nodeCreated",CLICK:"ztree_click",EXPAND:"ztree_expand",COLLAPSE:"ztree_collapse",ASYNC_SUCCESS:"ztree_async_success",ASYNC_ERROR:"ztree_async_error",REMOVE:"ztree_remove"},id:{A:"_a",ICON:"_ico",SPAN:"_span",SWITCH:"_switch",UL:"_ul"},line:{ROOT:"root",ROOTS:"roots",CENTER:"center",BOTTOM:"bottom",NOLINE:"noline",LINE:"line"},folder:{OPEN:"open",CLOSE:"close",DOCU:"docu"},node:{CURSELECTED:"curSelectedNode"}},_setting={treeId:"",treeObj:null,view:{addDiyDom:null,autoCancelSelected:true,dblClickExpand:true,expandSpeed:"fast",fontCss:{},nameIsHTML:false,selectedMulti:true,showIcon:true,showLine:true,showTitle:true,txtSelectedEnable:false},data:{key:{children:"children",name:"name",title:"",url:"url"},simpleData:{enable:false,idKey:"id",pIdKey:"pId",rootPId:null},keep:{parent:false,leaf:false}},async:{enable:false,contentType:"application/x-www-form-urlencoded",type:"post",dataType:"text",url:"",autoParam:[],otherParam:[],dataFilter:null},callback:{beforeAsync:null,beforeClick:null,beforeDblClick:null,beforeRightClick:null,beforeMouseDown:null,beforeMouseUp:null,beforeExpand:null,beforeCollapse:null,beforeRemove:null,onAsyncError:null,onAsyncSuccess:null,onNodeCreated:null,onClick:null,onDblClick:null,onRightClick:null,onMouseDown:null,onMouseUp:null,onExpand:null,onCollapse:null,onRemove:null}},_initRoot=function(setting){var r=data.getRoot(setting);if(!r){r={};data.setRoot(setting,r);}r[setting.data.key.children]=[];r.expandTriggerFlag=false;r.curSelectedList=[];r.noSelection=true;r.createdNodes=[];r.zId=0;r._ver=(new Date()).getTime();},_initCache=function(setting){var c=data.getCache(setting);if(!c){c={};data.setCache(setting,c);}c.nodes=[];c.doms=[];},_bindEvent=function(setting){var o=setting.treeObj,c=consts.event;o.bind(c.NODECREATED,function(event,treeId,node){tools.apply(setting.callback.onNodeCreated,[event,treeId,node]);});o.bind(c.CLICK,function(event,srcEvent,treeId,node,clickFlag){tools.apply(setting.callback.onClick,[srcEvent,treeId,node,clickFlag]);});o.bind(c.EXPAND,function(event,treeId,node){tools.apply(setting.callback.onExpand,[event,treeId,node]);});o.bind(c.COLLAPSE,function(event,treeId,node){tools.apply(setting.callback.onCollapse,[event,treeId,node]);});o.bind(c.ASYNC_SUCCESS,function(event,treeId,node,msg){tools.apply(setting.callback.onAsyncSuccess,[event,treeId,node,msg]);});o.bind(c.ASYNC_ERROR,function(event,treeId,node,XMLHttpRequest,textStatus,errorThrown){tools.apply(setting.callback.onAsyncError,[event,treeId,node,XMLHttpRequest,textStatus,errorThrown]);});o.bind(c.REMOVE,function(event,treeId,treeNode){tools.apply(setting.callback.onRemove,[event,treeId,treeNode]);});},_unbindEvent=function(setting){var o=setting.treeObj,c=consts.event;o.unbind(c.NODECREATED).unbind(c.CLICK).unbind(c.EXPAND).unbind(c.COLLAPSE).unbind(c.ASYNC_SUCCESS).unbind(c.ASYNC_ERROR).unbind(c.REMOVE);},_eventProxy=function(event){var target=event.target,setting=data.getSetting(event.data.treeId),tId="",node=null,nodeEventType="",treeEventType="",nodeEventCallback=null,treeEventCallback=null,tmp=null;if(tools.eqs(event.type,"mousedown")){treeEventType="mousedown";}else{if(tools.eqs(event.type,"mouseup")){treeEventType="mouseup";}else{if(tools.eqs(event.type,"contextmenu")){treeEventType="contextmenu";}else{if(tools.eqs(event.type,"click")){if(tools.eqs(target.tagName,"span")&&target.getAttribute("treeNode"+consts.id.SWITCH)!==null){tId=tools.getNodeMainDom(target).id;nodeEventType="switchNode";}else{tmp=tools.getMDom(setting,target,[{tagName:"a",attrName:"treeNode"+consts.id.A}]);if(tmp){tId=tools.getNodeMainDom(tmp).id;nodeEventType="clickNode";}}}else{if(tools.eqs(event.type,"dblclick")){treeEventType="dblclick";tmp=tools.getMDom(setting,target,[{tagName:"a",attrName:"treeNode"+consts.id.A}]);if(tmp){tId=tools.getNodeMainDom(tmp).id;nodeEventType="switchNode";}}}}}}if(treeEventType.length>0&&tId.length==0){tmp=tools.getMDom(setting,target,[{tagName:"a",attrName:"treeNode"+consts.id.A}]);if(tmp){tId=tools.getNodeMainDom(tmp).id;}}if(tId.length>0){node=data.getNodeCache(setting,tId);switch(nodeEventType){case"switchNode":if(!node.isParent){nodeEventType="";}else{if(tools.eqs(event.type,"click")||(tools.eqs(event.type,"dblclick")&&tools.apply(setting.view.dblClickExpand,[setting.treeId,node],setting.view.dblClickExpand))){nodeEventCallback=handler.onSwitchNode;}else{nodeEventType="";}}break;case"clickNode":nodeEventCallback=handler.onClickNode;break;}}switch(treeEventType){case"mousedown":treeEventCallback=handler.onZTreeMousedown;break;case"mouseup":treeEventCallback=handler.onZTreeMouseup;break;case"dblclick":treeEventCallback=handler.onZTreeDblclick;break;case"contextmenu":treeEventCallback=handler.onZTreeContextmenu;break;}var proxyResult={stop:false,node:node,nodeEventType:nodeEventType,nodeEventCallback:nodeEventCallback,treeEventType:treeEventType,treeEventCallback:treeEventCallback};return proxyResult;},_initNode=function(setting,level,n,parentNode,isFirstNode,isLastNode,openFlag){if(!n){return;}var r=data.getRoot(setting),childKey=setting.data.key.children;n.level=level;n.tId=setting.treeId+"_"+(++r.zId);n.parentTId=parentNode?parentNode.tId:null;n.open=(typeof n.open=="string")?tools.eqs(n.open,"true"):!!n.open;if(n[childKey]&&n[childKey].length>0){n.isParent=true;n.zAsync=true;}else{n.isParent=(typeof n.isParent=="string")?tools.eqs(n.isParent,"true"):!!n.isParent;n.open=(n.isParent&&!setting.async.enable)?n.open:false;n.zAsync=!n.isParent;}n.isFirstNode=isFirstNode;n.isLastNode=isLastNode;n.getParentNode=function(){return data.getNodeCache(setting,n.parentTId);};n.getPreNode=function(){return data.getPreNode(setting,n);};n.getNextNode=function(){return data.getNextNode(setting,n);};n.isAjaxing=false;data.fixPIdKeyValue(setting,n);},_init={bind:[_bindEvent],unbind:[_unbindEvent],caches:[_initCache],nodes:[_initNode],proxys:[_eventProxy],roots:[_initRoot],beforeA:[],afterA:[],innerBeforeA:[],innerAfterA:[],zTreeTools:[]},data={addNodeCache:function(setting,node){data.getCache(setting).nodes[data.getNodeCacheId(node.tId)]=node;},getNodeCacheId:function(tId){return tId.substring(tId.lastIndexOf("_")+1);},addAfterA:function(afterA){_init.afterA.push(afterA);},addBeforeA:function(beforeA){_init.beforeA.push(beforeA);},addInnerAfterA:function(innerAfterA){_init.innerAfterA.push(innerAfterA);},addInnerBeforeA:function(innerBeforeA){_init.innerBeforeA.push(innerBeforeA);},addInitBind:function(bindEvent){_init.bind.push(bindEvent);},addInitUnBind:function(unbindEvent){_init.unbind.push(unbindEvent);},addInitCache:function(initCache){_init.caches.push(initCache);},addInitNode:function(initNode){_init.nodes.push(initNode);},addInitProxy:function(initProxy,isFirst){if(!!isFirst){_init.proxys.splice(0,0,initProxy);}else{_init.proxys.push(initProxy);}},addInitRoot:function(initRoot){_init.roots.push(initRoot);},addNodesData:function(setting,parentNode,nodes){var childKey=setting.data.key.children;if(!parentNode[childKey]){parentNode[childKey]=[];}if(parentNode[childKey].length>0){parentNode[childKey][parentNode[childKey].length-1].isLastNode=false;view.setNodeLineIcos(setting,parentNode[childKey][parentNode[childKey].length-1]);}parentNode.isParent=true;parentNode[childKey]=parentNode[childKey].concat(nodes);},addSelectedNode:function(setting,node){var root=data.getRoot(setting);if(!data.isSelectedNode(setting,node)){root.curSelectedList.push(node);}},addCreatedNode:function(setting,node){if(!!setting.callback.onNodeCreated||!!setting.view.addDiyDom){var root=data.getRoot(setting);root.createdNodes.push(node);}},addZTreeTools:function(zTreeTools){_init.zTreeTools.push(zTreeTools);},exSetting:function(s){$.extend(true,_setting,s);},fixPIdKeyValue:function(setting,node){if(setting.data.simpleData.enable){node[setting.data.simpleData.pIdKey]=node.parentTId?node.getParentNode()[setting.data.simpleData.idKey]:setting.data.simpleData.rootPId;}},getAfterA:function(setting,node,array){for(var i=0,j=_init.afterA.length;i<j;i++){_init.afterA[i].apply(this,arguments);}},getBeforeA:function(setting,node,array){for(var i=0,j=_init.beforeA.length;i<j;i++){_init.beforeA[i].apply(this,arguments);}},getInnerAfterA:function(setting,node,array){for(var i=0,j=_init.innerAfterA.length;i<j;i++){_init.innerAfterA[i].apply(this,arguments);}},getInnerBeforeA:function(setting,node,array){for(var i=0,j=_init.innerBeforeA.length;i<j;i++){_init.innerBeforeA[i].apply(this,arguments);}},getCache:function(setting){return caches[setting.treeId];},getNextNode:function(setting,node){if(!node){return null;}var childKey=setting.data.key.children,p=node.parentTId?node.getParentNode():data.getRoot(setting);for(var i=0,l=p[childKey].length-1;i<=l;i++){if(p[childKey][i]===node){return(i==l?null:p[childKey][i+1]);}}return null;},getNodeByParam:function(setting,nodes,key,value){if(!nodes||!key){return null;}var childKey=setting.data.key.children;for(var i=0,l=nodes.length;i<l;i++){if(nodes[i][key]==value){return nodes[i];}var tmp=data.getNodeByParam(setting,nodes[i][childKey],key,value);if(tmp){return tmp;}}return null;},getNodeCache:function(setting,tId){if(!tId){return null;}var n=caches[setting.treeId].nodes[data.getNodeCacheId(tId)];return n?n:null;},getNodeName:function(setting,node){var nameKey=setting.data.key.name;return""+node[nameKey];},getNodeTitle:function(setting,node){var t=setting.data.key.title===""?setting.data.key.name:setting.data.key.title;return""+node[t];},getNodes:function(setting){return data.getRoot(setting)[setting.data.key.children];},getNodesByParam:function(setting,nodes,key,value){if(!nodes||!key){return[];}var childKey=setting.data.key.children,result=[];for(var i=0,l=nodes.length;i<l;i++){if(nodes[i][key]==value){result.push(nodes[i]);}result=result.concat(data.getNodesByParam(setting,nodes[i][childKey],key,value));}return result;},getNodesByParamFuzzy:function(setting,nodes,key,value){if(!nodes||!key){return[];}var childKey=setting.data.key.children,result=[];value=value.toLowerCase();for(var i=0,l=nodes.length;i<l;i++){if(typeof nodes[i][key]=="string"&&nodes[i][key].toLowerCase().indexOf(value)>-1){result.push(nodes[i]);}result=result.concat(data.getNodesByParamFuzzy(setting,nodes[i][childKey],key,value));}return result;},getNodesByFilter:function(setting,nodes,filter,isSingle,invokeParam){if(!nodes){return(isSingle?null:[]);}var childKey=setting.data.key.children,result=isSingle?null:[];for(var i=0,l=nodes.length;i<l;i++){if(tools.apply(filter,[nodes[i],invokeParam],false)){if(isSingle){return nodes[i];}result.push(nodes[i]);}var tmpResult=data.getNodesByFilter(setting,nodes[i][childKey],filter,isSingle,invokeParam);if(isSingle&&!!tmpResult){return tmpResult;}result=isSingle?tmpResult:result.concat(tmpResult);}return result;},getPreNode:function(setting,node){if(!node){return null;}var childKey=setting.data.key.children,p=node.parentTId?node.getParentNode():data.getRoot(setting);for(var i=0,l=p[childKey].length;i<l;i++){if(p[childKey][i]===node){return(i==0?null:p[childKey][i-1]);}}return null;},getRoot:function(setting){return setting?roots[setting.treeId]:null;},getRoots:function(){return roots;},getSetting:function(treeId){return settings[treeId];},getSettings:function(){return settings;},getZTreeTools:function(treeId){var r=this.getRoot(this.getSetting(treeId));return r?r.treeTools:null;},initCache:function(setting){for(var i=0,j=_init.caches.length;i<j;i++){_init.caches[i].apply(this,arguments);}},initNode:function(setting,level,node,parentNode,preNode,nextNode){for(var i=0,j=_init.nodes.length;i<j;i++){_init.nodes[i].apply(this,arguments);}},initRoot:function(setting){for(var i=0,j=_init.roots.length;i<j;i++){_init.roots[i].apply(this,arguments);}},isSelectedNode:function(setting,node){var root=data.getRoot(setting);for(var i=0,j=root.curSelectedList.length;i<j;i++){if(node===root.curSelectedList[i]){return true;}}return false;},removeNodeCache:function(setting,node){var childKey=setting.data.key.children;if(node[childKey]){for(var i=0,l=node[childKey].length;i<l;i++){arguments.callee(setting,node[childKey][i]);}}data.getCache(setting).nodes[data.getNodeCacheId(node.tId)]=null;},removeSelectedNode:function(setting,node){var root=data.getRoot(setting);for(var i=0,j=root.curSelectedList.length;i<j;i++){if(node===root.curSelectedList[i]||!data.getNodeCache(setting,root.curSelectedList[i].tId)){root.curSelectedList.splice(i,1);i--;j--;}}},setCache:function(setting,cache){caches[setting.treeId]=cache;},setRoot:function(setting,root){roots[setting.treeId]=root;},setZTreeTools:function(setting,zTreeTools){for(var i=0,j=_init.zTreeTools.length;i<j;i++){_init.zTreeTools[i].apply(this,arguments);}},transformToArrayFormat:function(setting,nodes){if(!nodes){return[];}var childKey=setting.data.key.children,r=[];if(tools.isArray(nodes)){for(var i=0,l=nodes.length;i<l;i++){r.push(nodes[i]);if(nodes[i][childKey]){r=r.concat(data.transformToArrayFormat(setting,nodes[i][childKey]));}}}else{r.push(nodes);if(nodes[childKey]){r=r.concat(data.transformToArrayFormat(setting,nodes[childKey]));}}return r;},transformTozTreeFormat:function(setting,sNodes){var i,l,key=setting.data.simpleData.idKey,parentKey=setting.data.simpleData.pIdKey,childKey=setting.data.key.children;if(!key||key==""||!sNodes){return[];}if(tools.isArray(sNodes)){var r=[];var tmpMap=[];for(i=0,l=sNodes.length;i<l;i++){tmpMap[sNodes[i][key]]=sNodes[i];}for(i=0,l=sNodes.length;i<l;i++){if(tmpMap[sNodes[i][parentKey]]&&sNodes[i][key]!=sNodes[i][parentKey]){if(!tmpMap[sNodes[i][parentKey]][childKey]){tmpMap[sNodes[i][parentKey]][childKey]=[];}tmpMap[sNodes[i][parentKey]][childKey].push(sNodes[i]);}else{r.push(sNodes[i]);}}return r;}else{return[sNodes];}}},event={bindEvent:function(setting){for(var i=0,j=_init.bind.length;i<j;i++){_init.bind[i].apply(this,arguments);}},unbindEvent:function(setting){for(var i=0,j=_init.unbind.length;i<j;i++){_init.unbind[i].apply(this,arguments);}},bindTree:function(setting){var eventParam={treeId:setting.treeId},o=setting.treeObj;if(!setting.view.txtSelectedEnable){o.bind("selectstart",function(e){var node;var n=e.originalEvent.srcElement.nodeName.toLowerCase();return(n==="input"||n==="textarea");}).css({"-moz-user-select":"-moz-none"});}o.bind("click",eventParam,event.proxy);o.bind("dblclick",eventParam,event.proxy);o.bind("mouseover",eventParam,event.proxy);o.bind("mouseout",eventParam,event.proxy);o.bind("mousedown",eventParam,event.proxy);o.bind("mouseup",eventParam,event.proxy);o.bind("contextmenu",eventParam,event.proxy);},unbindTree:function(setting){var o=setting.treeObj;o.unbind("click",event.proxy).unbind("dblclick",event.proxy).unbind("mouseover",event.proxy).unbind("mouseout",event.proxy).unbind("mousedown",event.proxy).unbind("mouseup",event.proxy).unbind("contextmenu",event.proxy);},doProxy:function(e){var results=[];for(var i=0,j=_init.proxys.length;i<j;i++){var proxyResult=_init.proxys[i].apply(this,arguments);results.push(proxyResult);if(proxyResult.stop){break;}}return results;},proxy:function(e){var setting=data.getSetting(e.data.treeId);if(!tools.uCanDo(setting,e)){return true;}var results=event.doProxy(e),r=true,x=false;for(var i=0,l=results.length;i<l;i++){var proxyResult=results[i];if(proxyResult.nodeEventCallback){x=true;r=proxyResult.nodeEventCallback.apply(proxyResult,[e,proxyResult.node])&&r;}if(proxyResult.treeEventCallback){x=true;r=proxyResult.treeEventCallback.apply(proxyResult,[e,proxyResult.node])&&r;}}return r;}},handler={onSwitchNode:function(event,node){var setting=data.getSetting(event.data.treeId);if(node.open){if(tools.apply(setting.callback.beforeCollapse,[setting.treeId,node],true)==false){return true;}data.getRoot(setting).expandTriggerFlag=true;view.switchNode(setting,node);}else{if(tools.apply(setting.callback.beforeExpand,[setting.treeId,node],true)==false){return true;}data.getRoot(setting).expandTriggerFlag=true;view.switchNode(setting,node);}return true;},onClickNode:function(event,node){var setting=data.getSetting(event.data.treeId),clickFlag=((setting.view.autoCancelSelected&&(event.ctrlKey||event.metaKey))&&data.isSelectedNode(setting,node))?0:(setting.view.autoCancelSelected&&(event.ctrlKey||event.metaKey)&&setting.view.selectedMulti)?2:1;if(tools.apply(setting.callback.beforeClick,[setting.treeId,node,clickFlag],true)==false){return true;}if(clickFlag===0){view.cancelPreSelectedNode(setting,node);}else{view.selectNode(setting,node,clickFlag===2);}setting.treeObj.trigger(consts.event.CLICK,[event,setting.treeId,node,clickFlag]);return true;},onZTreeMousedown:function(event,node){var setting=data.getSetting(event.data.treeId);if(tools.apply(setting.callback.beforeMouseDown,[setting.treeId,node],true)){tools.apply(setting.callback.onMouseDown,[event,setting.treeId,node]);}return true;},onZTreeMouseup:function(event,node){var setting=data.getSetting(event.data.treeId);if(tools.apply(setting.callback.beforeMouseUp,[setting.treeId,node],true)){tools.apply(setting.callback.onMouseUp,[event,setting.treeId,node]);}return true;},onZTreeDblclick:function(event,node){var setting=data.getSetting(event.data.treeId);if(tools.apply(setting.callback.beforeDblClick,[setting.treeId,node],true)){tools.apply(setting.callback.onDblClick,[event,setting.treeId,node]);}return true;},onZTreeContextmenu:function(event,node){var setting=data.getSetting(event.data.treeId);if(tools.apply(setting.callback.beforeRightClick,[setting.treeId,node],true)){tools.apply(setting.callback.onRightClick,[event,setting.treeId,node]);}return(typeof setting.callback.onRightClick)!="function";}},tools={apply:function(fun,param,defaultValue){if((typeof fun)=="function"){return fun.apply(zt,param?param:[]);}return defaultValue;},canAsync:function(setting,node){var childKey=setting.data.key.children;return(setting.async.enable&&node&&node.isParent&&!(node.zAsync||(node[childKey]&&node[childKey].length>0)));},clone:function(obj){if(obj===null){return null;}var o=tools.isArray(obj)?[]:{};for(var i in obj){o[i]=(obj[i] instanceof Date)?new Date(obj[i].getTime()):(typeof obj[i]==="object"?arguments.callee(obj[i]):obj[i]);}return o;},eqs:function(str1,str2){return str1.toLowerCase()===str2.toLowerCase();},isArray:function(arr){return Object.prototype.toString.apply(arr)==="[object Array]";},$:function(node,exp,setting){if(!!exp&&typeof exp!="string"){setting=exp;exp="";}if(typeof node=="string"){return $(node,setting?setting.treeObj.get(0).ownerDocument:null);}else{return $("#"+node.tId+exp,setting?setting.treeObj:null);}},getMDom:function(setting,curDom,targetExpr){if(!curDom){return null;}while(curDom&&curDom.id!==setting.treeId){for(var i=0,l=targetExpr.length;curDom.tagName&&i<l;i++){if(tools.eqs(curDom.tagName,targetExpr[i].tagName)&&curDom.getAttribute(targetExpr[i].attrName)!==null){return curDom;}}curDom=curDom.parentNode;}return null;},getNodeMainDom:function(target){return($(target).parent("li").get(0)||$(target).parentsUntil("li").parent().get(0));},isChildOrSelf:function(dom,parentId){return($(dom).closest("#"+parentId).length>0);},uCanDo:function(setting,e){return true;}},view={addNodes:function(setting,parentNode,newNodes,isSilent){if(setting.data.keep.leaf&&parentNode&&!parentNode.isParent){return;}if(!tools.isArray(newNodes)){newNodes=[newNodes];}if(setting.data.simpleData.enable){newNodes=data.transformTozTreeFormat(setting,newNodes);}if(parentNode){var target_switchObj=$$(parentNode,consts.id.SWITCH,setting),target_icoObj=$$(parentNode,consts.id.ICON,setting),target_ulObj=$$(parentNode,consts.id.UL,setting);if(!parentNode.open){view.replaceSwitchClass(parentNode,target_switchObj,consts.folder.CLOSE);view.replaceIcoClass(parentNode,target_icoObj,consts.folder.CLOSE);parentNode.open=false;target_ulObj.css({display:"none"});}data.addNodesData(setting,parentNode,newNodes);view.createNodes(setting,parentNode.level+1,newNodes,parentNode);if(!isSilent){view.expandCollapseParentNode(setting,parentNode,true);}}else{data.addNodesData(setting,data.getRoot(setting),newNodes);view.createNodes(setting,0,newNodes,null);}},appendNodes:function(setting,level,nodes,parentNode,initFlag,openFlag){if(!nodes){return[];}var html=[],childKey=setting.data.key.children;for(var i=0,l=nodes.length;i<l;i++){var node=nodes[i];if(initFlag){var tmpPNode=(parentNode)?parentNode:data.getRoot(setting),tmpPChild=tmpPNode[childKey],isFirstNode=((tmpPChild.length==nodes.length)&&(i==0)),isLastNode=(i==(nodes.length-1));data.initNode(setting,level,node,parentNode,isFirstNode,isLastNode,openFlag);data.addNodeCache(setting,node);}var childHtml=[];if(node[childKey]&&node[childKey].length>0){childHtml=view.appendNodes(setting,level+1,node[childKey],node,initFlag,openFlag&&node.open);}if(openFlag){view.makeDOMNodeMainBefore(html,setting,node);view.makeDOMNodeLine(html,setting,node);data.getBeforeA(setting,node,html);view.makeDOMNodeNameBefore(html,setting,node);data.getInnerBeforeA(setting,node,html);view.makeDOMNodeIcon(html,setting,node);data.getInnerAfterA(setting,node,html);view.makeDOMNodeNameAfter(html,setting,node);data.getAfterA(setting,node,html);if(node.isParent&&node.open){view.makeUlHtml(setting,node,html,childHtml.join(""));}view.makeDOMNodeMainAfter(html,setting,node);data.addCreatedNode(setting,node);}}return html;},appendParentULDom:function(setting,node){var html=[],nObj=$$(node,setting);if(!nObj.get(0)&&!!node.parentTId){view.appendParentULDom(setting,node.getParentNode());nObj=$$(node,setting);}var ulObj=$$(node,consts.id.UL,setting);if(ulObj.get(0)){ulObj.remove();}var childKey=setting.data.key.children,childHtml=view.appendNodes(setting,node.level+1,node[childKey],node,false,true);view.makeUlHtml(setting,node,html,childHtml.join(""));nObj.append(html.join(""));},asyncNode:function(setting,node,isSilent,callback){var i,l;if(node&&!node.isParent){tools.apply(callback);return false;}else{if(node&&node.isAjaxing){return false;}else{if(tools.apply(setting.callback.beforeAsync,[setting.treeId,node],true)==false){tools.apply(callback);return false;}}}if(node){node.isAjaxing=true;var icoObj=$$(node,consts.id.ICON,setting);icoObj.attr({style:"","class":consts.className.BUTTON+" "+consts.className.ICO_LOADING});}var tmpParam={};for(i=0,l=setting.async.autoParam.length;node&&i<l;i++){var pKey=setting.async.autoParam[i].split("="),spKey=pKey;if(pKey.length>1){spKey=pKey[1];pKey=pKey[0];}tmpParam[spKey]=node[pKey];}if(tools.isArray(setting.async.otherParam)){for(i=0,l=setting.async.otherParam.length;i<l;i+=2){tmpParam[setting.async.otherParam[i]]=setting.async.otherParam[i+1];}}else{for(var p in setting.async.otherParam){tmpParam[p]=setting.async.otherParam[p];}}var _tmpV=data.getRoot(setting)._ver;$.ajax({contentType:setting.async.contentType,type:setting.async.type,url:tools.apply(setting.async.url,[setting.treeId,node],setting.async.url),data:tmpParam,dataType:setting.async.dataType,success:function(msg){if(_tmpV!=data.getRoot(setting)._ver){return;}var newNodes=[];try{if(!msg||msg.length==0){newNodes=[];}else{if(typeof msg=="string"){newNodes=eval("("+msg+")");}else{newNodes=msg;}}}catch(err){newNodes=msg;}if(node){node.isAjaxing=null;node.zAsync=true;}view.setNodeLineIcos(setting,node);if(newNodes&&newNodes!==""){newNodes=tools.apply(setting.async.dataFilter,[setting.treeId,node,newNodes],newNodes);view.addNodes(setting,node,!!newNodes?tools.clone(newNodes):[],!!isSilent);}else{view.addNodes(setting,node,[],!!isSilent);}setting.treeObj.trigger(consts.event.ASYNC_SUCCESS,[setting.treeId,node,msg]);tools.apply(callback);},error:function(XMLHttpRequest,textStatus,errorThrown){if(_tmpV!=data.getRoot(setting)._ver){return;}if(node){node.isAjaxing=null;}view.setNodeLineIcos(setting,node);setting.treeObj.trigger(consts.event.ASYNC_ERROR,[setting.treeId,node,XMLHttpRequest,textStatus,errorThrown]);}});return true;},cancelPreSelectedNode:function(setting,node){var list=data.getRoot(setting).curSelectedList;for(var i=0,j=list.length-1;j>=i;j--){if(!node||node===list[j]){$$(list[j],consts.id.A,setting).removeClass(consts.node.CURSELECTED);if(node){data.removeSelectedNode(setting,node);break;}}}if(!node){data.getRoot(setting).curSelectedList=[];}},createNodeCallback:function(setting){if(!!setting.callback.onNodeCreated||!!setting.view.addDiyDom){var root=data.getRoot(setting);while(root.createdNodes.length>0){var node=root.createdNodes.shift();tools.apply(setting.view.addDiyDom,[setting.treeId,node]);if(!!setting.callback.onNodeCreated){setting.treeObj.trigger(consts.event.NODECREATED,[setting.treeId,node]);}}}},createNodes:function(setting,level,nodes,parentNode){if(!nodes||nodes.length==0){return;}var root=data.getRoot(setting),childKey=setting.data.key.children,openFlag=!parentNode||parentNode.open||!!$$(parentNode[childKey][0],setting).get(0);root.createdNodes=[];var zTreeHtml=view.appendNodes(setting,level,nodes,parentNode,true,openFlag);if(!parentNode){setting.treeObj.append(zTreeHtml.join(""));}else{var ulObj=$$(parentNode,consts.id.UL,setting);if(ulObj.get(0)){ulObj.append(zTreeHtml.join(""));}}view.createNodeCallback(setting);},destroy:function(setting){if(!setting){return;}data.initCache(setting);data.initRoot(setting);event.unbindTree(setting);event.unbindEvent(setting);setting.treeObj.empty();delete settings[setting.treeId];},expandCollapseNode:function(setting,node,expandFlag,animateFlag,callback){var root=data.getRoot(setting),childKey=setting.data.key.children;if(!node){tools.apply(callback,[]);return;}if(root.expandTriggerFlag){var _callback=callback;callback=function(){if(_callback){_callback();}if(node.open){setting.treeObj.trigger(consts.event.EXPAND,[setting.treeId,node]);}else{setting.treeObj.trigger(consts.event.COLLAPSE,[setting.treeId,node]);}};root.expandTriggerFlag=false;}if(!node.open&&node.isParent&&((!$$(node,consts.id.UL,setting).get(0))||(node[childKey]&&node[childKey].length>0&&!$$(node[childKey][0],setting).get(0)))){view.appendParentULDom(setting,node);view.createNodeCallback(setting);}if(node.open==expandFlag){tools.apply(callback,[]);return;}var ulObj=$$(node,consts.id.UL,setting),switchObj=$$(node,consts.id.SWITCH,setting),icoObj=$$(node,consts.id.ICON,setting);if(node.isParent){node.open=!node.open;if(node.iconOpen&&node.iconClose){icoObj.attr("style",view.makeNodeIcoStyle(setting,node));}if(node.open){view.replaceSwitchClass(node,switchObj,consts.folder.OPEN);view.replaceIcoClass(node,icoObj,consts.folder.OPEN);if(animateFlag==false||setting.view.expandSpeed==""){ulObj.show();tools.apply(callback,[]);}else{if(node[childKey]&&node[childKey].length>0){ulObj.slideDown(setting.view.expandSpeed,callback);}else{ulObj.show();tools.apply(callback,[]);}}}else{view.replaceSwitchClass(node,switchObj,consts.folder.CLOSE);view.replaceIcoClass(node,icoObj,consts.folder.CLOSE);if(animateFlag==false||setting.view.expandSpeed==""||!(node[childKey]&&node[childKey].length>0)){ulObj.hide();tools.apply(callback,[]);}else{ulObj.slideUp(setting.view.expandSpeed,callback);}}}else{tools.apply(callback,[]);}},expandCollapseParentNode:function(setting,node,expandFlag,animateFlag,callback){if(!node){return;}if(!node.parentTId){view.expandCollapseNode(setting,node,expandFlag,animateFlag,callback);return;}else{view.expandCollapseNode(setting,node,expandFlag,animateFlag);}if(node.parentTId){view.expandCollapseParentNode(setting,node.getParentNode(),expandFlag,animateFlag,callback);}},expandCollapseSonNode:function(setting,node,expandFlag,animateFlag,callback){var root=data.getRoot(setting),childKey=setting.data.key.children,treeNodes=(node)?node[childKey]:root[childKey],selfAnimateSign=(node)?false:animateFlag,expandTriggerFlag=data.getRoot(setting).expandTriggerFlag;data.getRoot(setting).expandTriggerFlag=false;if(treeNodes){for(var i=0,l=treeNodes.length;i<l;i++){if(treeNodes[i]){view.expandCollapseSonNode(setting,treeNodes[i],expandFlag,selfAnimateSign);}}}data.getRoot(setting).expandTriggerFlag=expandTriggerFlag;view.expandCollapseNode(setting,node,expandFlag,animateFlag,callback);},makeDOMNodeIcon:function(html,setting,node){var nameStr=data.getNodeName(setting,node),name=setting.view.nameIsHTML?nameStr:nameStr.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;");html.push("<span id='",node.tId,consts.id.ICON,"' title='' treeNode",consts.id.ICON," class='",view.makeNodeIcoClass(setting,node),"' style='",view.makeNodeIcoStyle(setting,node),"'></span><span id='",node.tId,consts.id.SPAN,"'>",name,"</span>");},makeDOMNodeLine:function(html,setting,node){html.push("<span id='",node.tId,consts.id.SWITCH,"' title='' class='",view.makeNodeLineClass(setting,node),"' treeNode",consts.id.SWITCH,"></span>");},makeDOMNodeMainAfter:function(html,setting,node){html.push("</li>");},makeDOMNodeMainBefore:function(html,setting,node){html.push("<li id='",node.tId,"' class='",consts.className.LEVEL,node.level,"' tabindex='0' hidefocus='true' treenode>");},makeDOMNodeNameAfter:function(html,setting,node){html.push("</a>");},makeDOMNodeNameBefore:function(html,setting,node){var title=data.getNodeTitle(setting,node),url=view.makeNodeUrl(setting,node),fontcss=view.makeNodeFontCss(setting,node),fontStyle=[];for(var f in fontcss){fontStyle.push(f,":",fontcss[f],";");}html.push("<a id='",node.tId,consts.id.A,"' class='",consts.className.LEVEL,node.level,"' treeNode",consts.id.A,' onclick="',(node.click||""),'" ',((url!=null&&url.length>0)?"href='"+url+"'":"")," target='",view.makeNodeTarget(node),"' style='",fontStyle.join(""),"'");if(tools.apply(setting.view.showTitle,[setting.treeId,node],setting.view.showTitle)&&title){html.push("title='",title.replace(/'/g,"&#39;").replace(/</g,"&lt;").replace(/>/g,"&gt;"),"'");}html.push(">");},makeNodeFontCss:function(setting,node){var fontCss=tools.apply(setting.view.fontCss,[setting.treeId,node],setting.view.fontCss);return(fontCss&&((typeof fontCss)!="function"))?fontCss:{};},makeNodeIcoClass:function(setting,node){var icoCss=["ico"];if(!node.isAjaxing){icoCss[0]=(node.iconSkin?node.iconSkin+"_":"")+icoCss[0];if(node.isParent){icoCss.push(node.open?consts.folder.OPEN:consts.folder.CLOSE);}else{icoCss.push(consts.folder.DOCU);}}return consts.className.BUTTON+" "+icoCss.join("_");},makeNodeIcoStyle:function(setting,node){var icoStyle=[];if(!node.isAjaxing){var icon=(node.isParent&&node.iconOpen&&node.iconClose)?(node.open?node.iconOpen:node.iconClose):node.icon;if(icon){icoStyle.push("background:url(",icon,") 0 0 no-repeat;");}if(setting.view.showIcon==false||!tools.apply(setting.view.showIcon,[setting.treeId,node],true)){icoStyle.push("width:0px;height:0px;");}}return icoStyle.join("");},makeNodeLineClass:function(setting,node){var lineClass=[];if(setting.view.showLine){if(node.level==0&&node.isFirstNode&&node.isLastNode){lineClass.push(consts.line.ROOT);}else{if(node.level==0&&node.isFirstNode){lineClass.push(consts.line.ROOTS);}else{if(node.isLastNode){lineClass.push(consts.line.BOTTOM);}else{lineClass.push(consts.line.CENTER);}}}}else{lineClass.push(consts.line.NOLINE);}if(node.isParent){lineClass.push(node.open?consts.folder.OPEN:consts.folder.CLOSE);}else{lineClass.push(consts.folder.DOCU);}return view.makeNodeLineClassEx(node)+lineClass.join("_");},makeNodeLineClassEx:function(node){return consts.className.BUTTON+" "+consts.className.LEVEL+node.level+" "+consts.className.SWITCH+" ";},makeNodeTarget:function(node){return(node.target||"_blank");},makeNodeUrl:function(setting,node){var urlKey=setting.data.key.url;return node[urlKey]?node[urlKey]:null;},makeUlHtml:function(setting,node,html,content){html.push("<ul id='",node.tId,consts.id.UL,"' class='",consts.className.LEVEL,node.level," ",view.makeUlLineClass(setting,node),"' style='display:",(node.open?"block":"none"),"'>");html.push(content);html.push("</ul>");},makeUlLineClass:function(setting,node){return((setting.view.showLine&&!node.isLastNode)?consts.line.LINE:"");},removeChildNodes:function(setting,node){if(!node){return;}var childKey=setting.data.key.children,nodes=node[childKey];if(!nodes){return;}for(var i=0,l=nodes.length;i<l;i++){data.removeNodeCache(setting,nodes[i]);}data.removeSelectedNode(setting);delete node[childKey];if(!setting.data.keep.parent){node.isParent=false;node.open=false;var tmp_switchObj=$$(node,consts.id.SWITCH,setting),tmp_icoObj=$$(node,consts.id.ICON,setting);view.replaceSwitchClass(node,tmp_switchObj,consts.folder.DOCU);view.replaceIcoClass(node,tmp_icoObj,consts.folder.DOCU);$$(node,consts.id.UL,setting).remove();}else{$$(node,consts.id.UL,setting).empty();}},setFirstNode:function(setting,parentNode){var childKey=setting.data.key.children,childLength=parentNode[childKey].length;if(childLength>0){parentNode[childKey][0].isFirstNode=true;}},setLastNode:function(setting,parentNode){var childKey=setting.data.key.children,childLength=parentNode[childKey].length;if(childLength>0){parentNode[childKey][childLength-1].isLastNode=true;}},removeNode:function(setting,node){var root=data.getRoot(setting),childKey=setting.data.key.children,parentNode=(node.parentTId)?node.getParentNode():root;node.isFirstNode=false;node.isLastNode=false;node.getPreNode=function(){return null;};node.getNextNode=function(){return null;};if(!data.getNodeCache(setting,node.tId)){return;}$$(node,setting).remove();data.removeNodeCache(setting,node);data.removeSelectedNode(setting,node);for(var i=0,l=parentNode[childKey].length;i<l;i++){if(parentNode[childKey][i].tId==node.tId){parentNode[childKey].splice(i,1);break;}}view.setFirstNode(setting,parentNode);view.setLastNode(setting,parentNode);var tmp_ulObj,tmp_switchObj,tmp_icoObj,childLength=parentNode[childKey].length;if(!setting.data.keep.parent&&childLength==0){parentNode.isParent=false;parentNode.open=false;tmp_ulObj=$$(parentNode,consts.id.UL,setting);tmp_switchObj=$$(parentNode,consts.id.SWITCH,setting);tmp_icoObj=$$(parentNode,consts.id.ICON,setting);view.replaceSwitchClass(parentNode,tmp_switchObj,consts.folder.DOCU);view.replaceIcoClass(parentNode,tmp_icoObj,consts.folder.DOCU);tmp_ulObj.css("display","none");}else{if(setting.view.showLine&&childLength>0){var newLast=parentNode[childKey][childLength-1];tmp_ulObj=$$(newLast,consts.id.UL,setting);tmp_switchObj=$$(newLast,consts.id.SWITCH,setting);tmp_icoObj=$$(newLast,consts.id.ICON,setting);if(parentNode==root){if(parentNode[childKey].length==1){view.replaceSwitchClass(newLast,tmp_switchObj,consts.line.ROOT);}else{var tmp_first_switchObj=$$(parentNode[childKey][0],consts.id.SWITCH,setting);view.replaceSwitchClass(parentNode[childKey][0],tmp_first_switchObj,consts.line.ROOTS);view.replaceSwitchClass(newLast,tmp_switchObj,consts.line.BOTTOM);}}else{view.replaceSwitchClass(newLast,tmp_switchObj,consts.line.BOTTOM);}tmp_ulObj.removeClass(consts.line.LINE);}}},replaceIcoClass:function(node,obj,newName){if(!obj||node.isAjaxing){return;}var tmpName=obj.attr("class");if(tmpName==undefined){return;}var tmpList=tmpName.split("_");switch(newName){case consts.folder.OPEN:case consts.folder.CLOSE:case consts.folder.DOCU:tmpList[tmpList.length-1]=newName;break;}obj.attr("class",tmpList.join("_"));},replaceSwitchClass:function(node,obj,newName){if(!obj){return;}var tmpName=obj.attr("class");if(tmpName==undefined){return;}var tmpList=tmpName.split("_");switch(newName){case consts.line.ROOT:case consts.line.ROOTS:case consts.line.CENTER:case consts.line.BOTTOM:case consts.line.NOLINE:tmpList[0]=view.makeNodeLineClassEx(node)+newName;break;case consts.folder.OPEN:case consts.folder.CLOSE:case consts.folder.DOCU:tmpList[1]=newName;break;}obj.attr("class",tmpList.join("_"));if(newName!==consts.folder.DOCU){obj.removeAttr("disabled");}else{obj.attr("disabled","disabled");}},selectNode:function(setting,node,addFlag){if(!addFlag){view.cancelPreSelectedNode(setting);}$$(node,consts.id.A,setting).addClass(consts.node.CURSELECTED);data.addSelectedNode(setting,node);},setNodeFontCss:function(setting,treeNode){var aObj=$$(treeNode,consts.id.A,setting),fontCss=view.makeNodeFontCss(setting,treeNode);if(fontCss){aObj.css(fontCss);}},setNodeLineIcos:function(setting,node){if(!node){return;}var switchObj=$$(node,consts.id.SWITCH,setting),ulObj=$$(node,consts.id.UL,setting),icoObj=$$(node,consts.id.ICON,setting),ulLine=view.makeUlLineClass(setting,node);if(ulLine.length==0){ulObj.removeClass(consts.line.LINE);}else{ulObj.addClass(ulLine);}switchObj.attr("class",view.makeNodeLineClass(setting,node));if(node.isParent){switchObj.removeAttr("disabled");}else{switchObj.attr("disabled","disabled");}icoObj.removeAttr("style");icoObj.attr("style",view.makeNodeIcoStyle(setting,node));icoObj.attr("class",view.makeNodeIcoClass(setting,node));},setNodeName:function(setting,node){var title=data.getNodeTitle(setting,node),nObj=$$(node,consts.id.SPAN,setting);nObj.empty();if(setting.view.nameIsHTML){nObj.html(data.getNodeName(setting,node));}else{nObj.text(data.getNodeName(setting,node));}if(tools.apply(setting.view.showTitle,[setting.treeId,node],setting.view.showTitle)){var aObj=$$(node,consts.id.A,setting);aObj.attr("title",!title?"":title);}},setNodeTarget:function(setting,node){var aObj=$$(node,consts.id.A,setting);aObj.attr("target",view.makeNodeTarget(node));},setNodeUrl:function(setting,node){var aObj=$$(node,consts.id.A,setting),url=view.makeNodeUrl(setting,node);if(url==null||url.length==0){aObj.removeAttr("href");}else{aObj.attr("href",url);}},switchNode:function(setting,node){if(node.open||!tools.canAsync(setting,node)){view.expandCollapseNode(setting,node,!node.open);}else{if(setting.async.enable){if(!view.asyncNode(setting,node)){view.expandCollapseNode(setting,node,!node.open);return;}}else{if(node){view.expandCollapseNode(setting,node,!node.open);}}}}};$.fn.zTree={consts:_consts,_z:{tools:tools,view:view,event:event,data:data},getZTreeObj:function(treeId){var o=data.getZTreeTools(treeId);return o?o:null;},destroy:function(treeId){if(!!treeId&&treeId.length>0){view.destroy(data.getSetting(treeId));}else{for(var s in settings){view.destroy(settings[s]);}}},init:function(obj,zSetting,zNodes){var setting=tools.clone(_setting);$.extend(true,setting,zSetting);setting.treeId=obj.attr("id");setting.treeObj=obj;setting.treeObj.empty();settings[setting.treeId]=setting;if(typeof document.body.style.maxHeight==="undefined"){setting.view.expandSpeed="";}data.initRoot(setting);var root=data.getRoot(setting),childKey=setting.data.key.children;zNodes=zNodes?tools.clone(tools.isArray(zNodes)?zNodes:[zNodes]):[];if(setting.data.simpleData.enable){root[childKey]=data.transformTozTreeFormat(setting,zNodes);}else{root[childKey]=zNodes;}data.initCache(setting);event.unbindTree(setting);event.bindTree(setting);event.unbindEvent(setting);event.bindEvent(setting);var zTreeTools={setting:setting,addNodes:function(parentNode,newNodes,isSilent){if(!newNodes){return null;}if(!parentNode){parentNode=null;}if(parentNode&&!parentNode.isParent&&setting.data.keep.leaf){return null;}var xNewNodes=tools.clone(tools.isArray(newNodes)?newNodes:[newNodes]);function addCallback(){view.addNodes(setting,parentNode,xNewNodes,(isSilent==true));}if(tools.canAsync(setting,parentNode)){view.asyncNode(setting,parentNode,isSilent,addCallback);}else{addCallback();}return xNewNodes;},cancelSelectedNode:function(node){view.cancelPreSelectedNode(setting,node);},destroy:function(){view.destroy(setting);},expandAll:function(expandFlag){expandFlag=!!expandFlag;view.expandCollapseSonNode(setting,null,expandFlag,true);return expandFlag;},expandNode:function(node,expandFlag,sonSign,focus,callbackFlag){if(!node||!node.isParent){return null;}if(expandFlag!==true&&expandFlag!==false){expandFlag=!node.open;}callbackFlag=!!callbackFlag;if(callbackFlag&&expandFlag&&(tools.apply(setting.callback.beforeExpand,[setting.treeId,node],true)==false)){return null;}else{if(callbackFlag&&!expandFlag&&(tools.apply(setting.callback.beforeCollapse,[setting.treeId,node],true)==false)){return null;}}if(expandFlag&&node.parentTId){view.expandCollapseParentNode(setting,node.getParentNode(),expandFlag,false);}if(expandFlag===node.open&&!sonSign){return null;}data.getRoot(setting).expandTriggerFlag=callbackFlag;if(!tools.canAsync(setting,node)&&sonSign){view.expandCollapseSonNode(setting,node,expandFlag,true,function(){if(focus!==false){try{$$(node,setting).focus().blur();}catch(e){}}});}else{node.open=!expandFlag;view.switchNode(this.setting,node);if(focus!==false){try{$$(node,setting).focus().blur();}catch(e){}}}return expandFlag;},getNodes:function(){return data.getNodes(setting);},getNodeByParam:function(key,value,parentNode){if(!key){return null;}return data.getNodeByParam(setting,parentNode?parentNode[setting.data.key.children]:data.getNodes(setting),key,value);},getNodeByTId:function(tId){return data.getNodeCache(setting,tId);},getNodesByParam:function(key,value,parentNode){if(!key){return null;}return data.getNodesByParam(setting,parentNode?parentNode[setting.data.key.children]:data.getNodes(setting),key,value);},getNodesByParamFuzzy:function(key,value,parentNode){if(!key){return null;}return data.getNodesByParamFuzzy(setting,parentNode?parentNode[setting.data.key.children]:data.getNodes(setting),key,value);},getNodesByFilter:function(filter,isSingle,parentNode,invokeParam){isSingle=!!isSingle;if(!filter||(typeof filter!="function")){return(isSingle?null:[]);}return data.getNodesByFilter(setting,parentNode?parentNode[setting.data.key.children]:data.getNodes(setting),filter,isSingle,invokeParam);},getNodeIndex:function(node){if(!node){return null;}var childKey=setting.data.key.children,parentNode=(node.parentTId)?node.getParentNode():data.getRoot(setting);for(var i=0,l=parentNode[childKey].length;i<l;i++){if(parentNode[childKey][i]==node){return i;}}return -1;},getSelectedNodes:function(){var r=[],list=data.getRoot(setting).curSelectedList;for(var i=0,l=list.length;i<l;i++){r.push(list[i]);}return r;},isSelectedNode:function(node){return data.isSelectedNode(setting,node);},reAsyncChildNodes:function(parentNode,reloadType,isSilent){if(!this.setting.async.enable){return;}var isRoot=!parentNode;if(isRoot){parentNode=data.getRoot(setting);}if(reloadType=="refresh"){var childKey=this.setting.data.key.children;for(var i=0,l=parentNode[childKey]?parentNode[childKey].length:0;i<l;i++){data.removeNodeCache(setting,parentNode[childKey][i]);}data.removeSelectedNode(setting);parentNode[childKey]=[];if(isRoot){this.setting.treeObj.empty();}else{var ulObj=$$(parentNode,consts.id.UL,setting);ulObj.empty();}}view.asyncNode(this.setting,isRoot?null:parentNode,!!isSilent);},refresh:function(){this.setting.treeObj.empty();var root=data.getRoot(setting),nodes=root[setting.data.key.children];data.initRoot(setting);root[setting.data.key.children]=nodes;data.initCache(setting);view.createNodes(setting,0,root[setting.data.key.children]);},removeChildNodes:function(node){if(!node){return null;}var childKey=setting.data.key.children,nodes=node[childKey];view.removeChildNodes(setting,node);return nodes?nodes:null;},removeNode:function(node,callbackFlag){if(!node){return;}callbackFlag=!!callbackFlag;if(callbackFlag&&tools.apply(setting.callback.beforeRemove,[setting.treeId,node],true)==false){return;}view.removeNode(setting,node);if(callbackFlag){this.setting.treeObj.trigger(consts.event.REMOVE,[setting.treeId,node]);}},selectNode:function(node,addFlag){if(!node){return;}if(tools.uCanDo(setting)){addFlag=setting.view.selectedMulti&&addFlag;if(node.parentTId){view.expandCollapseParentNode(setting,node.getParentNode(),true,false,function(){try{$$(node,setting).focus().blur();}catch(e){}});}else{try{$$(node,setting).focus().blur();}catch(e){}}view.selectNode(setting,node,addFlag);}},transformTozTreeNodes:function(simpleNodes){return data.transformTozTreeFormat(setting,simpleNodes);},transformToArray:function(nodes){return data.transformToArrayFormat(setting,nodes);},updateNode:function(node,checkTypeFlag){if(!node){return;}var nObj=$$(node,setting);if(nObj.get(0)&&tools.uCanDo(setting)){view.setNodeName(setting,node);view.setNodeTarget(setting,node);view.setNodeUrl(setting,node);view.setNodeLineIcos(setting,node);view.setNodeFontCss(setting,node);}}};root.treeTools=zTreeTools;data.setZTreeTools(setting,zTreeTools);if(root[childKey]&&root[childKey].length>0){view.createNodes(setting,0,root[childKey]);}else{if(setting.async.enable&&setting.async.url&&setting.async.url!==""){view.asyncNode(setting);}}return zTreeTools;}};var zt=$.fn.zTree,$$=tools.$,consts=zt.consts;})(jQuery);
(function(f){var A={event:{CHECK:"ztree_check"},id:{CHECK:"_check"},checkbox:{STYLE:"checkbox",DEFAULT:"chk",DISABLED:"disable",FALSE:"false",TRUE:"true",FULL:"full",PART:"part",FOCUS:"focus"},radio:{STYLE:"radio",TYPE_ALL:"all",TYPE_LEVEL:"level"}},n={check:{enable:false,autoCheckTrigger:false,chkStyle:A.checkbox.STYLE,nocheckInherit:false,chkDisabledInherit:false,radioType:A.radio.TYPE_LEVEL,chkboxType:{Y:"ps",N:"ps"}},data:{key:{checked:"checked"}},callback:{beforeCheck:null,onCheck:null}},w=function(B){var C=z.getRoot(B);C.radioCheckedList=[];},d=function(B){},o=function(B){var C=B.treeObj,D=r.event;C.bind(D.CHECK,function(G,F,H,E){G.srcEvent=F;u.apply(B.callback.onCheck,[G,H,E]);});},y=function(B){var C=B.treeObj,D=r.event;C.unbind(D.CHECK);},p=function(H){var I=H.target,K=z.getSetting(H.data.treeId),F="",C=null,D="",G="",B=null,E=null;if(u.eqs(H.type,"mouseover")){if(K.check.enable&&u.eqs(I.tagName,"span")&&I.getAttribute("treeNode"+r.id.CHECK)!==null){F=u.getNodeMainDom(I).id;D="mouseoverCheck";}}else{if(u.eqs(H.type,"mouseout")){if(K.check.enable&&u.eqs(I.tagName,"span")&&I.getAttribute("treeNode"+r.id.CHECK)!==null){F=u.getNodeMainDom(I).id;D="mouseoutCheck";}}else{if(u.eqs(H.type,"click")){if(K.check.enable&&u.eqs(I.tagName,"span")&&I.getAttribute("treeNode"+r.id.CHECK)!==null){F=u.getNodeMainDom(I).id;D="checkNode";}}}}if(F.length>0){C=z.getNodeCache(K,F);switch(D){case"checkNode":B=m.onCheckNode;break;case"mouseoverCheck":B=m.onMouseoverCheck;break;case"mouseoutCheck":B=m.onMouseoutCheck;break;}}var J={stop:D==="checkNode",node:C,nodeEventType:D,nodeEventCallback:B,treeEventType:G,treeEventCallback:E};return J;},v=function(J,D,F,G,I,H,E){if(!F){return;}var C=J.data.key.checked;if(typeof F[C]=="string"){F[C]=u.eqs(F[C],"true");}F[C]=!!F[C];F.checkedOld=F[C];if(typeof F.nocheck=="string"){F.nocheck=u.eqs(F.nocheck,"true");}F.nocheck=!!F.nocheck||(J.check.nocheckInherit&&G&&!!G.nocheck);if(typeof F.chkDisabled=="string"){F.chkDisabled=u.eqs(F.chkDisabled,"true");}F.chkDisabled=!!F.chkDisabled||(J.check.chkDisabledInherit&&G&&!!G.chkDisabled);if(typeof F.halfCheck=="string"){F.halfCheck=u.eqs(F.halfCheck,"true");}F.halfCheck=!!F.halfCheck;F.check_Child_State=-1;F.check_Focus=false;F.getCheckStatus=function(){return z.getCheckStatus(J,F);};if(J.check.chkStyle==r.radio.STYLE&&J.check.radioType==r.radio.TYPE_ALL&&F[C]){var B=z.getRoot(J);B.radioCheckedList.push(F);}},a=function(D,E,C){var B=D.data.key.checked;if(D.check.enable){z.makeChkFlag(D,E);C.push("<span ID='",E.tId,r.id.CHECK,"' class='",k.makeChkClass(D,E),"' treeNode",r.id.CHECK,(E.nocheck===true?" style='display:none;'":""),"></span>");}},l=function(D,C){C.checkNode=function(I,H,J,G){var E=this.setting.data.key.checked;if(I.chkDisabled===true){return;}if(H!==true&&H!==false){H=!I[E];}G=!!G;if(I[E]===H&&!J){return;}else{if(G&&u.apply(this.setting.callback.beforeCheck,[this.setting.treeId,I],true)==false){return;}}if(u.uCanDo(this.setting)&&this.setting.check.enable&&I.nocheck!==true){I[E]=H;var F=j(I,r.id.CHECK,this.setting);if(J||this.setting.check.chkStyle===r.radio.STYLE){k.checkNodeRelation(this.setting,I);}k.setChkClass(this.setting,F,I);k.repairParentChkClassWithSelf(this.setting,I);if(G){this.setting.treeObj.trigger(r.event.CHECK,[null,this.setting.treeId,I]);}}};C.checkAllNodes=function(E){k.repairAllChk(this.setting,!!E);};C.getCheckedNodes=function(F){var E=this.setting.data.key.children;F=(F!==false);return z.getTreeCheckedNodes(this.setting,z.getRoot(this.setting)[E],F);};C.getChangeCheckedNodes=function(){var E=this.setting.data.key.children;return z.getTreeChangeCheckedNodes(this.setting,z.getRoot(this.setting)[E]);};C.setChkDisabled=function(F,E,G,H){E=!!E;G=!!G;H=!!H;k.repairSonChkDisabled(this.setting,F,E,H);k.repairParentChkDisabled(this.setting,F.getParentNode(),E,G);};var B=C.updateNode;C.updateNode=function(G,H){if(B){B.apply(C,arguments);}if(!G||!this.setting.check.enable){return;}var E=j(G,this.setting);if(E.get(0)&&u.uCanDo(this.setting)){var F=j(G,r.id.CHECK,this.setting);if(H==true||this.setting.check.chkStyle===r.radio.STYLE){k.checkNodeRelation(this.setting,G);}k.setChkClass(this.setting,F,G);k.repairParentChkClassWithSelf(this.setting,G);}};},q={getRadioCheckedList:function(E){var D=z.getRoot(E).radioCheckedList;for(var C=0,B=D.length;C<B;C++){if(!z.getNodeCache(E,D[C].tId)){D.splice(C,1);C--;B--;}}return D;},getCheckStatus:function(C,E){if(!C.check.enable||E.nocheck||E.chkDisabled){return null;}var B=C.data.key.checked,D={checked:E[B],half:E.halfCheck?E.halfCheck:(C.check.chkStyle==r.radio.STYLE?(E.check_Child_State===2):(E[B]?(E.check_Child_State>-1&&E.check_Child_State<2):(E.check_Child_State>0)))};return D;},getTreeCheckedNodes:function(J,C,I,F){if(!C){return[];}var D=J.data.key.children,B=J.data.key.checked,H=(I&&J.check.chkStyle==r.radio.STYLE&&J.check.radioType==r.radio.TYPE_ALL);F=!F?[]:F;for(var G=0,E=C.length;G<E;G++){if(C[G].nocheck!==true&&C[G].chkDisabled!==true&&C[G][B]==I){F.push(C[G]);if(H){break;}}z.getTreeCheckedNodes(J,C[G][D],I,F);if(H&&F.length>0){break;}}return F;},getTreeChangeCheckedNodes:function(G,D,F){if(!D){return[];}var H=G.data.key.children,C=G.data.key.checked;F=!F?[]:F;for(var E=0,B=D.length;E<B;E++){if(D[E].nocheck!==true&&D[E].chkDisabled!==true&&D[E][C]!=D[E].checkedOld){F.push(D[E]);}z.getTreeChangeCheckedNodes(G,D[E][H],F);}return F;},makeChkFlag:function(I,D){if(!D){return;}var C=I.data.key.children,B=I.data.key.checked,F=-1;if(D[C]){for(var H=0,E=D[C].length;H<E;H++){var J=D[C][H];var G=-1;if(I.check.chkStyle==r.radio.STYLE){if(J.nocheck===true||J.chkDisabled===true){G=J.check_Child_State;}else{if(J.halfCheck===true){G=2;}else{if(J[B]){G=2;}else{G=J.check_Child_State>0?2:0;}}}if(G==2){F=2;break;}else{if(G==0){F=0;}}}else{if(I.check.chkStyle==r.checkbox.STYLE){if(J.nocheck===true||J.chkDisabled===true){G=J.check_Child_State;}else{if(J.halfCheck===true){G=1;}else{if(J[B]){G=(J.check_Child_State===-1||J.check_Child_State===2)?2:1;}else{G=(J.check_Child_State>0)?1:0;}}}if(G===1){F=1;break;}else{if(G===2&&F>-1&&H>0&&G!==F){F=1;break;}else{if(F===2&&G>-1&&G<2){F=1;break;}else{if(G>-1){F=G;}}}}}}}}D.check_Child_State=F;}},h={},m={onCheckNode:function(F,E){if(E.chkDisabled===true){return false;}var D=z.getSetting(F.data.treeId),B=D.data.key.checked;if(u.apply(D.callback.beforeCheck,[D.treeId,E],true)==false){return true;}E[B]=!E[B];k.checkNodeRelation(D,E);var C=j(E,r.id.CHECK,D);k.setChkClass(D,C,E);k.repairParentChkClassWithSelf(D,E);D.treeObj.trigger(r.event.CHECK,[F,D.treeId,E]);return true;},onMouseoverCheck:function(E,D){if(D.chkDisabled===true){return false;}var C=z.getSetting(E.data.treeId),B=j(D,r.id.CHECK,C);D.check_Focus=true;k.setChkClass(C,B,D);return true;},onMouseoutCheck:function(E,D){if(D.chkDisabled===true){return false;}var C=z.getSetting(E.data.treeId),B=j(D,r.id.CHECK,C);D.check_Focus=false;k.setChkClass(C,B,D);return true;}},i={},e={checkNodeRelation:function(K,E){var I,G,F,D=K.data.key.children,C=K.data.key.checked,B=r.radio;if(K.check.chkStyle==B.STYLE){var J=z.getRadioCheckedList(K);if(E[C]){if(K.check.radioType==B.TYPE_ALL){for(G=J.length-1;G>=0;G--){I=J[G];if(I[C]&&I!=E){I[C]=false;J.splice(G,1);k.setChkClass(K,j(I,r.id.CHECK,K),I);if(I.parentTId!=E.parentTId){k.repairParentChkClassWithSelf(K,I);}}}J.push(E);}else{var H=(E.parentTId)?E.getParentNode():z.getRoot(K);for(G=0,F=H[D].length;G<F;G++){I=H[D][G];if(I[C]&&I!=E){I[C]=false;k.setChkClass(K,j(I,r.id.CHECK,K),I);}}}}else{if(K.check.radioType==B.TYPE_ALL){for(G=0,F=J.length;G<F;G++){if(E==J[G]){J.splice(G,1);break;}}}}}else{if(E[C]&&(!E[D]||E[D].length==0||K.check.chkboxType.Y.indexOf("s")>-1)){k.setSonNodeCheckBox(K,E,true);}if(!E[C]&&(!E[D]||E[D].length==0||K.check.chkboxType.N.indexOf("s")>-1)){k.setSonNodeCheckBox(K,E,false);}if(E[C]&&K.check.chkboxType.Y.indexOf("p")>-1){k.setParentNodeCheckBox(K,E,true);}if(!E[C]&&K.check.chkboxType.N.indexOf("p")>-1){k.setParentNodeCheckBox(K,E,false);}}},makeChkClass:function(C,F){var B=C.data.key.checked,H=r.checkbox,E=r.radio,G="";if(F.chkDisabled===true){G=H.DISABLED;}else{if(F.halfCheck){G=H.PART;}else{if(C.check.chkStyle==E.STYLE){G=(F.check_Child_State<1)?H.FULL:H.PART;}else{G=F[B]?((F.check_Child_State===2||F.check_Child_State===-1)?H.FULL:H.PART):((F.check_Child_State<1)?H.FULL:H.PART);}}}var D=C.check.chkStyle+"_"+(F[B]?H.TRUE:H.FALSE)+"_"+G;D=(F.check_Focus&&F.chkDisabled!==true)?D+"_"+H.FOCUS:D;return r.className.BUTTON+" "+H.DEFAULT+" "+D;},repairAllChk:function(F,I){if(F.check.enable&&F.check.chkStyle===r.checkbox.STYLE){var D=F.data.key.checked,H=F.data.key.children,C=z.getRoot(F);for(var E=0,B=C[H].length;E<B;E++){var G=C[H][E];if(G.nocheck!==true&&G.chkDisabled!==true){G[D]=I;}k.setSonNodeCheckBox(F,G,I);}}},repairChkClass:function(C,D){if(!D){return;}z.makeChkFlag(C,D);if(D.nocheck!==true){var B=j(D,r.id.CHECK,C);k.setChkClass(C,B,D);}},repairParentChkClass:function(C,D){if(!D||!D.parentTId){return;}var B=D.getParentNode();k.repairChkClass(C,B);k.repairParentChkClass(C,B);},repairParentChkClassWithSelf:function(B,D){if(!D){return;}var C=B.data.key.children;if(D[C]&&D[C].length>0){k.repairParentChkClass(B,D[C][0]);}else{k.repairParentChkClass(B,D);}},repairSonChkDisabled:function(G,I,F,D){if(!I){return;}var H=G.data.key.children;if(I.chkDisabled!=F){I.chkDisabled=F;}k.repairChkClass(G,I);if(I[H]&&D){for(var E=0,C=I[H].length;E<C;E++){var B=I[H][E];k.repairSonChkDisabled(G,B,F,D);}}},repairParentChkDisabled:function(D,E,C,B){if(!E){return;}if(E.chkDisabled!=C&&B){E.chkDisabled=C;}k.repairChkClass(D,E);k.repairParentChkDisabled(D,E.getParentNode(),C,B);},setChkClass:function(B,D,C){if(!D){return;}if(C.nocheck===true){D.hide();}else{D.show();}D.attr("class",k.makeChkClass(B,C));},setParentNodeCheckBox:function(L,E,K,H){var D=L.data.key.children,B=L.data.key.checked,I=j(E,r.id.CHECK,L);if(!H){H=E;}z.makeChkFlag(L,E);if(E.nocheck!==true&&E.chkDisabled!==true){E[B]=K;k.setChkClass(L,I,E);if(L.check.autoCheckTrigger&&E!=H){L.treeObj.trigger(r.event.CHECK,[null,L.treeId,E]);}}if(E.parentTId){var J=true;if(!K){var C=E.getParentNode()[D];for(var G=0,F=C.length;G<F;G++){if((C[G].nocheck!==true&&C[G].chkDisabled!==true&&C[G][B])||((C[G].nocheck===true||C[G].chkDisabled===true)&&C[G].check_Child_State>0)){J=false;break;}}}if(J){k.setParentNodeCheckBox(L,E.getParentNode(),K,H);}}},setSonNodeCheckBox:function(L,E,K,H){if(!E){return;}var D=L.data.key.children,B=L.data.key.checked,I=j(E,r.id.CHECK,L);if(!H){H=E;}var C=false;if(E[D]){for(var G=0,F=E[D].length;G<F&&E.chkDisabled!==true;G++){var J=E[D][G];k.setSonNodeCheckBox(L,J,K,H);if(J.chkDisabled===true){C=true;}}}if(E!=z.getRoot(L)&&E.chkDisabled!==true){if(C&&E.nocheck!==true){z.makeChkFlag(L,E);}if(E.nocheck!==true&&E.chkDisabled!==true){E[B]=K;if(!C){E.check_Child_State=(E[D]&&E[D].length>0)?(K?2:0):-1;}}else{E.check_Child_State=-1;}k.setChkClass(L,I,E);if(L.check.autoCheckTrigger&&E!=H&&E.nocheck!==true&&E.chkDisabled!==true){L.treeObj.trigger(r.event.CHECK,[null,L.treeId,E]);}}}},t={tools:i,view:e,event:h,data:q};f.extend(true,f.fn.zTree.consts,A);f.extend(true,f.fn.zTree._z,t);var c=f.fn.zTree,u=c._z.tools,r=c.consts,k=c._z.view,z=c._z.data,s=c._z.event,j=u.$;z.exSetting(n);z.addInitBind(o);z.addInitUnBind(y);z.addInitCache(d);z.addInitNode(v);z.addInitProxy(p,true);z.addInitRoot(w);z.addBeforeA(a);z.addZTreeTools(l);var x=k.createNodes;k.createNodes=function(D,E,C,B){if(x){x.apply(k,arguments);}if(!C){return;}k.repairParentChkClassWithSelf(D,B);};var b=k.removeNode;k.removeNode=function(C,D){var B=D.getParentNode();if(b){b.apply(k,arguments);}if(!D||!B){return;}k.repairChkClass(C,B);k.repairParentChkClass(C,B);};var g=k.appendNodes;k.appendNodes=function(F,H,C,B,E,G){var D="";if(g){D=g.apply(k,arguments);}if(B){z.makeChkFlag(F,B);}return D;};})(jQuery);
(function(f){var C={event:{DRAG:"ztree_drag",DROP:"ztree_drop",RENAME:"ztree_rename",DRAGMOVE:"ztree_dragmove"},id:{EDIT:"_edit",INPUT:"_input",REMOVE:"_remove"},move:{TYPE_INNER:"inner",TYPE_PREV:"prev",TYPE_NEXT:"next"},node:{CURSELECTED_EDIT:"curSelectedNode_Edit",TMPTARGET_TREE:"tmpTargetzTree",TMPTARGET_NODE:"tmpTargetNode"}},m={edit:{enable:false,editNameSelectAll:false,showRemoveBtn:true,showRenameBtn:true,removeTitle:"remove",renameTitle:"rename",drag:{autoExpandTrigger:false,isCopy:true,isMove:true,prev:true,next:true,inner:true,minMoveSize:5,borderMax:10,borderMin:-5,maxShowNodeNum:5,autoOpenTime:500}},view:{addHoverDom:null,removeHoverDom:null},callback:{beforeDrag:null,beforeDragOpen:null,beforeDrop:null,beforeEditName:null,beforeRename:null,onDrag:null,onDragMove:null,onDrop:null,onRename:null}},x=function(E){var F=A.getRoot(E),D=A.getRoots();F.curEditNode=null;F.curEditInput=null;F.curHoverNode=null;F.dragFlag=0;F.dragNodeShowBefore=[];F.dragMaskList=new Array();D.showHoverDom=true;},c=function(D){},n=function(D){var E=D.treeObj;var F=q.event;E.bind(F.RENAME,function(H,J,I,G){v.apply(D.callback.onRename,[H,J,I,G]);});E.bind(F.DRAG,function(H,G,J,I){v.apply(D.callback.onDrag,[G,J,I]);});E.bind(F.DRAGMOVE,function(H,G,J,I){v.apply(D.callback.onDragMove,[G,J,I]);});E.bind(F.DROP,function(J,I,L,K,M,H,G){v.apply(D.callback.onDrop,[I,L,K,M,H,G]);});},z=function(D){var E=D.treeObj;var F=q.event;E.unbind(F.RENAME);E.unbind(F.DRAG);E.unbind(F.DRAGMOVE);E.unbind(F.DROP);},o=function(K){var L=K.target,O=A.getSetting(K.data.treeId),M=K.relatedTarget,I="",E=null,F="",J="",D=null,H=null,G=null;if(v.eqs(K.type,"mouseover")){G=v.getMDom(O,L,[{tagName:"a",attrName:"treeNode"+q.id.A}]);if(G){I=v.getNodeMainDom(G).id;F="hoverOverNode";}}else{if(v.eqs(K.type,"mouseout")){G=v.getMDom(O,M,[{tagName:"a",attrName:"treeNode"+q.id.A}]);if(!G){I="remove";F="hoverOutNode";}}else{if(v.eqs(K.type,"mousedown")){G=v.getMDom(O,L,[{tagName:"a",attrName:"treeNode"+q.id.A}]);if(G){I=v.getNodeMainDom(G).id;F="mousedownNode";}}}}if(I.length>0){E=A.getNodeCache(O,I);switch(F){case"mousedownNode":D=l.onMousedownNode;break;case"hoverOverNode":D=l.onHoverOverNode;break;case"hoverOutNode":D=l.onHoverOutNode;break;}}var N={stop:false,node:E,nodeEventType:F,nodeEventCallback:D,treeEventType:J,treeEventCallback:H};return N;},w=function(F,J,I,D,H,E,G){if(!I){return;}I.isHover=false;I.editNameFlag=false;},k=function(E,D){D.cancelEditName=function(G){var F=A.getRoot(this.setting);if(!F.curEditNode){return;}j.cancelCurEditNode(this.setting,G?G:null,true);};D.copyNode=function(J,I,H,L){if(!I){return null;}if(J&&!J.isParent&&this.setting.data.keep.leaf&&H===q.move.TYPE_INNER){return null;}var K=this,F=v.clone(I);if(!J){J=null;H=q.move.TYPE_INNER;}if(H==q.move.TYPE_INNER){function G(){j.addNodes(K.setting,J,[F],L);}if(v.canAsync(this.setting,J)){j.asyncNode(this.setting,J,L,G);}else{G();}}else{j.addNodes(this.setting,J.parentNode,[F],L);j.moveNode(this.setting,J,F,H,false,L);}return F;};D.editName=function(F){if(!F||!F.tId||F!==A.getNodeCache(this.setting,F.tId)){return;}if(F.parentTId){j.expandCollapseParentNode(this.setting,F.getParentNode(),true);}j.editNode(this.setting,F);};D.moveNode=function(H,G,F,K){if(!G){return G;}if(H&&!H.isParent&&this.setting.data.keep.leaf&&F===q.move.TYPE_INNER){return null;}else{if(H&&((G.parentTId==H.tId&&F==q.move.TYPE_INNER)||i(G,this.setting).find("#"+H.tId).length>0)){return null;}else{if(!H){H=null;}}}var J=this;function I(){j.moveNode(J.setting,H,G,F,false,K);}if(v.canAsync(this.setting,H)&&F===q.move.TYPE_INNER){j.asyncNode(this.setting,H,K,I);}else{I();}return G;};D.setEditable=function(F){this.setting.edit.enable=F;return this.refresh();};},p={setSonNodeLevel:function(G,D,I){if(!I){return;}var H=G.data.key.children;I.level=(D)?D.level+1:0;if(!I[H]){return;}for(var F=0,E=I[H].length;F<E;F++){if(I[H][F]){A.setSonNodeLevel(G,I,I[H][F]);}}}},g={},l={onHoverOverNode:function(G,F){var E=A.getSetting(G.data.treeId),D=A.getRoot(E);if(D.curHoverNode!=F){l.onHoverOutNode(G);}D.curHoverNode=F;j.addHoverDom(E,F);},onHoverOutNode:function(G,F){var E=A.getSetting(G.data.treeId),D=A.getRoot(E);if(D.curHoverNode&&!A.isSelectedNode(E,D.curHoverNode)){j.removeTreeDom(E,D.curHoverNode);D.curHoverNode=null;}},onMousedownNode:function(S,K){var aa,X,R=A.getSetting(S.data.treeId),W=A.getRoot(R),L=A.getRoots();if(S.button==2||!R.edit.enable||(!R.edit.drag.isCopy&&!R.edit.drag.isMove)){return true;}var ad=S.target,J=A.getRoot(R).curSelectedList,T=[];if(!A.isSelectedNode(R,K)){T=[K];}else{for(aa=0,X=J.length;aa<X;aa++){if(J[aa].editNameFlag&&v.eqs(ad.tagName,"input")&&ad.getAttribute("treeNode"+q.id.INPUT)!==null){return true;}T.push(J[aa]);if(T[0].parentTId!==J[aa].parentTId){T=[K];break;}}}j.editNodeBlur=true;j.cancelCurEditNode(R);var ag=f(R.treeObj.get(0).ownerDocument),M=f(R.treeObj.get(0).ownerDocument.body),Z,N,ab,ac=false,ae=R,I=R,D,H,U=null,G=null,Q=null,E=q.move.TYPE_INNER,Y=S.clientX,V=S.clientY,O=(new Date()).getTime();if(v.uCanDo(R)){ag.bind("mousemove",P);}function P(a5){if(W.dragFlag==0&&Math.abs(Y-a5.clientX)<R.edit.drag.minMoveSize&&Math.abs(V-a5.clientY)<R.edit.drag.minMoveSize){return true;}var a0,aW,ay,aR,aJ,aQ=R.data.key.children;M.css("cursor","pointer");if(W.dragFlag==0){if(v.apply(R.callback.beforeDrag,[R.treeId,T],true)==false){af(a5);return true;}for(a0=0,aW=T.length;a0<aW;a0++){if(a0==0){W.dragNodeShowBefore=[];}ay=T[a0];if(ay.isParent&&ay.open){j.expandCollapseNode(R,ay,!ay.open);W.dragNodeShowBefore[ay.tId]=true;}else{W.dragNodeShowBefore[ay.tId]=false;}}W.dragFlag=1;L.showHoverDom=false;v.showIfameMask(R,true);var ai=true,al=-1;if(T.length>1){var aw=T[0].parentTId?T[0].getParentNode()[aQ]:A.getNodes(R);aJ=[];for(a0=0,aW=aw.length;a0<aW;a0++){if(W.dragNodeShowBefore[aw[a0].tId]!==undefined){if(ai&&al>-1&&(al+1)!==a0){ai=false;}aJ.push(aw[a0]);al=a0;}if(T.length===aJ.length){T=aJ;break;}}}if(ai){D=T[0].getPreNode();H=T[T.length-1].getNextNode();}Z=i("<ul class='zTreeDragUL'></ul>",R);for(a0=0,aW=T.length;a0<aW;a0++){ay=T[a0];ay.editNameFlag=false;j.selectNode(R,ay,a0>0);j.removeTreeDom(R,ay);if(a0>R.edit.drag.maxShowNodeNum-1){continue;}aR=i("<li id='"+ay.tId+"_tmp'></li>",R);aR.append(i(ay,q.id.A,R).clone());aR.css("padding","0");aR.children("#"+ay.tId+q.id.A).removeClass(q.node.CURSELECTED);Z.append(aR);if(a0==R.edit.drag.maxShowNodeNum-1){aR=i("<li id='"+ay.tId+"_moretmp'><a>  ...  </a></li>",R);Z.append(aR);}}Z.attr("id",T[0].tId+q.id.UL+"_tmp");Z.addClass(R.treeObj.attr("class"));Z.appendTo(M);N=i("<span class='tmpzTreeMove_arrow'></span>",R);N.attr("id","zTreeMove_arrow_tmp");N.appendTo(M);R.treeObj.trigger(q.event.DRAG,[a5,R.treeId,T]);}if(W.dragFlag==1){if(ab&&N.attr("id")==a5.target.id&&Q&&(a5.clientX+ag.scrollLeft()+2)>(f("#"+Q+q.id.A,ab).offset().left)){var a4=f("#"+Q+q.id.A,ab);a5.target=(a4.length>0)?a4.get(0):a5.target;}else{if(ab){ab.removeClass(q.node.TMPTARGET_TREE);if(Q){f("#"+Q+q.id.A,ab).removeClass(q.node.TMPTARGET_NODE+"_"+q.move.TYPE_PREV).removeClass(q.node.TMPTARGET_NODE+"_"+C.move.TYPE_NEXT).removeClass(q.node.TMPTARGET_NODE+"_"+C.move.TYPE_INNER);}}}ab=null;Q=null;ac=false;ae=R;var a1=A.getSettings();for(var aS in a1){if(a1[aS].treeId&&a1[aS].edit.enable&&a1[aS].treeId!=R.treeId&&(a5.target.id==a1[aS].treeId||f(a5.target).parents("#"+a1[aS].treeId).length>0)){ac=true;ae=a1[aS];}}var av=ag.scrollTop(),a3=ag.scrollLeft(),aj=ae.treeObj.offset(),aD=ae.treeObj.get(0).scrollHeight,aT=ae.treeObj.get(0).scrollWidth,a2=(a5.clientY+av-aj.top),aP=(ae.treeObj.height()+aj.top-a5.clientY-av),aK=(a5.clientX+a3-aj.left),au=(ae.treeObj.width()+aj.left-a5.clientX-a3),ax=(a2<R.edit.drag.borderMax&&a2>R.edit.drag.borderMin),a6=(aP<R.edit.drag.borderMax&&aP>R.edit.drag.borderMin),aN=(aK<R.edit.drag.borderMax&&aK>R.edit.drag.borderMin),ar=(au<R.edit.drag.borderMax&&au>R.edit.drag.borderMin),ak=a2>R.edit.drag.borderMin&&aP>R.edit.drag.borderMin&&aK>R.edit.drag.borderMin&&au>R.edit.drag.borderMin,aH=(ax&&ae.treeObj.scrollTop()<=0),aG=(a6&&(ae.treeObj.scrollTop()+ae.treeObj.height()+10)>=aD),an=(aN&&ae.treeObj.scrollLeft()<=0),aB=(ar&&(ae.treeObj.scrollLeft()+ae.treeObj.width()+10)>=aT);if(a5.target&&v.isChildOrSelf(a5.target,ae.treeId)){var at=a5.target;while(at&&at.tagName&&!v.eqs(at.tagName,"li")&&at.id!=ae.treeId){at=at.parentNode;}var aA=true;for(a0=0,aW=T.length;a0<aW;a0++){ay=T[a0];if(at.id===ay.tId){aA=false;break;}else{if(i(ay,R).find("#"+at.id).length>0){aA=false;break;}}}if(aA&&a5.target&&v.isChildOrSelf(a5.target,at.id+q.id.A)){ab=f(at);Q=at.id;}}ay=T[0];if(ak&&v.isChildOrSelf(a5.target,ae.treeId)){if(!ab&&(a5.target.id==ae.treeId||aH||aG||an||aB)&&(ac||(!ac&&ay.parentTId))){ab=ae.treeObj;}if(ax){ae.treeObj.scrollTop(ae.treeObj.scrollTop()-10);}else{if(a6){ae.treeObj.scrollTop(ae.treeObj.scrollTop()+10);}}if(aN){ae.treeObj.scrollLeft(ae.treeObj.scrollLeft()-10);}else{if(ar){ae.treeObj.scrollLeft(ae.treeObj.scrollLeft()+10);}}if(ab&&ab!=ae.treeObj&&ab.offset().left<ae.treeObj.offset().left){ae.treeObj.scrollLeft(ae.treeObj.scrollLeft()+ab.offset().left-ae.treeObj.offset().left);}}Z.css({top:(a5.clientY+av+3)+"px",left:(a5.clientX+a3+3)+"px"});var aF=0;var aE=0;if(ab&&ab.attr("id")!=ae.treeId){var aO=Q==null?null:A.getNodeCache(ae,Q),aI=((a5.ctrlKey||a5.metaKey)&&R.edit.drag.isMove&&R.edit.drag.isCopy)||(!R.edit.drag.isMove&&R.edit.drag.isCopy),ap=!!(D&&Q===D.tId),aM=!!(H&&Q===H.tId),aY=(ay.parentTId&&ay.parentTId==Q),aL=(aI||!aM)&&v.apply(ae.edit.drag.prev,[ae.treeId,T,aO],!!ae.edit.drag.prev),ao=(aI||!ap)&&v.apply(ae.edit.drag.next,[ae.treeId,T,aO],!!ae.edit.drag.next),ah=(aI||!aY)&&!(ae.data.keep.leaf&&!aO.isParent)&&v.apply(ae.edit.drag.inner,[ae.treeId,T,aO],!!ae.edit.drag.inner);if(!aL&&!ao&&!ah){ab=null;Q="";E=q.move.TYPE_INNER;N.css({display:"none"});if(window.zTreeMoveTimer){clearTimeout(window.zTreeMoveTimer);window.zTreeMoveTargetNodeTId=null;}}else{var aC=f("#"+Q+q.id.A,ab),aV=aO.isLastNode?null:f("#"+aO.getNextNode().tId+q.id.A,ab.next()),aX=aC.offset().top,aZ=aC.offset().left,aU=aL?(ah?0.25:(ao?0.5:1)):-1,aq=ao?(ah?0.75:(aL?0.5:0)):-1,am=(a5.clientY+av-aX)/aC.height();if((aU==1||am<=aU&&am>=-0.2)&&aL){aF=1-N.width();aE=aX-N.height()/2;E=q.move.TYPE_PREV;}else{if((aq==0||am>=aq&&am<=1.2)&&ao){aF=1-N.width();aE=(aV==null||(aO.isParent&&aO.open))?(aX+aC.height()-N.height()/2):(aV.offset().top-N.height()/2);E=q.move.TYPE_NEXT;}else{aF=5-N.width();aE=aX;E=q.move.TYPE_INNER;}}N.css({display:"block",top:aE+"px",left:(aZ+aF)+"px"});aC.addClass(q.node.TMPTARGET_NODE+"_"+E);if(U!=Q||G!=E){O=(new Date()).getTime();}if(aO&&aO.isParent&&E==q.move.TYPE_INNER){var az=true;if(window.zTreeMoveTimer&&window.zTreeMoveTargetNodeTId!==aO.tId){clearTimeout(window.zTreeMoveTimer);window.zTreeMoveTargetNodeTId=null;}else{if(window.zTreeMoveTimer&&window.zTreeMoveTargetNodeTId===aO.tId){az=false;}}if(az){window.zTreeMoveTimer=setTimeout(function(){if(E!=q.move.TYPE_INNER){return;}if(aO&&aO.isParent&&!aO.open&&(new Date()).getTime()-O>ae.edit.drag.autoOpenTime&&v.apply(ae.callback.beforeDragOpen,[ae.treeId,aO],true)){j.switchNode(ae,aO);if(ae.edit.drag.autoExpandTrigger){ae.treeObj.trigger(q.event.EXPAND,[ae.treeId,aO]);}}},ae.edit.drag.autoOpenTime+50);window.zTreeMoveTargetNodeTId=aO.tId;}}}}else{E=q.move.TYPE_INNER;if(ab&&v.apply(ae.edit.drag.inner,[ae.treeId,T,null],!!ae.edit.drag.inner)){ab.addClass(q.node.TMPTARGET_TREE);}else{ab=null;}N.css({display:"none"});if(window.zTreeMoveTimer){clearTimeout(window.zTreeMoveTimer);window.zTreeMoveTargetNodeTId=null;}}U=Q;G=E;R.treeObj.trigger(q.event.DRAGMOVE,[a5,R.treeId,T]);}return false;}ag.bind("mouseup",af);function af(ao){if(window.zTreeMoveTimer){clearTimeout(window.zTreeMoveTimer);window.zTreeMoveTargetNodeTId=null;}U=null;G=null;ag.unbind("mousemove",P);ag.unbind("mouseup",af);ag.unbind("selectstart",F);M.css("cursor","auto");if(ab){ab.removeClass(q.node.TMPTARGET_TREE);if(Q){f("#"+Q+q.id.A,ab).removeClass(q.node.TMPTARGET_NODE+"_"+q.move.TYPE_PREV).removeClass(q.node.TMPTARGET_NODE+"_"+C.move.TYPE_NEXT).removeClass(q.node.TMPTARGET_NODE+"_"+C.move.TYPE_INNER);}}v.showIfameMask(R,false);L.showHoverDom=true;if(W.dragFlag==0){return;}W.dragFlag=0;var am,ai,an;for(am=0,ai=T.length;am<ai;am++){an=T[am];if(an.isParent&&W.dragNodeShowBefore[an.tId]&&!an.open){j.expandCollapseNode(R,an,!an.open);delete W.dragNodeShowBefore[an.tId];}}if(Z){Z.remove();}if(N){N.remove();}var ah=((ao.ctrlKey||ao.metaKey)&&R.edit.drag.isMove&&R.edit.drag.isCopy)||(!R.edit.drag.isMove&&R.edit.drag.isCopy);if(!ah&&ab&&Q&&T[0].parentTId&&Q==T[0].parentTId&&E==q.move.TYPE_INNER){ab=null;}if(ab){var aj=Q==null?null:A.getNodeCache(ae,Q);if(v.apply(R.callback.beforeDrop,[ae.treeId,T,aj,E,ah],true)==false){j.selectNodes(I,T);return;}var ak=ah?v.clone(T):T;function al(){if(ac){if(!ah){for(var aq=0,ap=T.length;aq<ap;aq++){j.removeNode(R,T[aq]);}}if(E==q.move.TYPE_INNER){j.addNodes(ae,aj,ak);}else{j.addNodes(ae,aj.getParentNode(),ak);if(E==q.move.TYPE_PREV){for(aq=0,ap=ak.length;aq<ap;aq++){j.moveNode(ae,aj,ak[aq],E,false);}}else{for(aq=-1,ap=ak.length-1;aq<ap;ap--){j.moveNode(ae,aj,ak[ap],E,false);}}}}else{if(ah&&E==q.move.TYPE_INNER){j.addNodes(ae,aj,ak);}else{if(ah){j.addNodes(ae,aj.getParentNode(),ak);}if(E!=q.move.TYPE_NEXT){for(aq=0,ap=ak.length;aq<ap;aq++){j.moveNode(ae,aj,ak[aq],E,false);}}else{for(aq=-1,ap=ak.length-1;aq<ap;ap--){j.moveNode(ae,aj,ak[ap],E,false);}}}}j.selectNodes(ae,ak);i(ak[0],R).focus().blur();R.treeObj.trigger(q.event.DROP,[ao,ae.treeId,ak,aj,E,ah]);}if(E==q.move.TYPE_INNER&&v.canAsync(ae,aj)){j.asyncNode(ae,aj,false,al);}else{al();}}else{j.selectNodes(I,T);R.treeObj.trigger(q.event.DROP,[ao,R.treeId,T,null,null,null]);}}ag.bind("selectstart",F);function F(){return false;}if(S.preventDefault){S.preventDefault();}return true;}},h={getAbs:function(E){var G=E.getBoundingClientRect(),D=document.body.scrollTop+document.documentElement.scrollTop,F=document.body.scrollLeft+document.documentElement.scrollLeft;return[G.left+F,G.top+D];},inputFocus:function(D){if(D.get(0)){D.focus();v.setCursorPosition(D.get(0),D.val().length);}},inputSelect:function(D){if(D.get(0)){D.focus();D.select();}},setCursorPosition:function(E,F){if(E.setSelectionRange){E.focus();E.setSelectionRange(F,F);}else{if(E.createTextRange){var D=E.createTextRange();D.collapse(true);D.moveEnd("character",F);D.moveStart("character",F);D.select();}}},showIfameMask:function(K,I){var H=A.getRoot(K);while(H.dragMaskList.length>0){H.dragMaskList[0].remove();H.dragMaskList.shift();}if(I){var L=i("iframe",K);for(var G=0,E=L.length;G<E;G++){var F=L.get(G),D=v.getAbs(F),J=i("<div id='zTreeMask_"+G+"' class='zTreeMask' style='top:"+D[1]+"px; left:"+D[0]+"px; width:"+F.offsetWidth+"px; height:"+F.offsetHeight+"px;'></div>",K);J.appendTo(i("body",K));H.dragMaskList.push(J);}}}},d={addEditBtn:function(E,F){if(F.editNameFlag||i(F,q.id.EDIT,E).length>0){return;}if(!v.apply(E.edit.showRenameBtn,[E.treeId,F],E.edit.showRenameBtn)){return;}var G=i(F,q.id.A,E),D="<span class='"+q.className.BUTTON+" edit' id='"+F.tId+q.id.EDIT+"' title='"+v.apply(E.edit.renameTitle,[E.treeId,F],E.edit.renameTitle)+"' treeNode"+q.id.EDIT+" style='display:none;'></span>";G.append(D);i(F,q.id.EDIT,E).bind("click",function(){if(!v.uCanDo(E)||v.apply(E.callback.beforeEditName,[E.treeId,F],true)==false){return false;}j.editNode(E,F);return false;}).show();},addRemoveBtn:function(D,E){if(E.editNameFlag||i(E,q.id.REMOVE,D).length>0){return;}if(!v.apply(D.edit.showRemoveBtn,[D.treeId,E],D.edit.showRemoveBtn)){return;}var G=i(E,q.id.A,D),F="<span class='"+q.className.BUTTON+" remove' id='"+E.tId+q.id.REMOVE+"' title='"+v.apply(D.edit.removeTitle,[D.treeId,E],D.edit.removeTitle)+"' treeNode"+q.id.REMOVE+" style='display:none;'></span>";G.append(F);i(E,q.id.REMOVE,D).bind("click",function(){if(!v.uCanDo(D)||v.apply(D.callback.beforeRemove,[D.treeId,E],true)==false){return false;}j.removeNode(D,E);D.treeObj.trigger(q.event.REMOVE,[D.treeId,E]);return false;}).bind("mousedown",function(H){return true;}).show();},addHoverDom:function(D,E){if(A.getRoots().showHoverDom){E.isHover=true;if(D.edit.enable){j.addEditBtn(D,E);j.addRemoveBtn(D,E);}v.apply(D.view.addHoverDom,[D.treeId,E]);}},cancelCurEditNode:function(K,L,H){var J=A.getRoot(K),G=K.data.key.name,E=J.curEditNode;if(E){var F=J.curEditInput,I=L?L:(H?E[G]:F.val());if(v.apply(K.callback.beforeRename,[K.treeId,E,I,H],true)===false){return false;}else{E[G]=I;K.treeObj.trigger(q.event.RENAME,[K.treeId,E,H]);}var D=i(E,q.id.A,K);D.removeClass(q.node.CURSELECTED_EDIT);F.unbind();j.setNodeName(K,E);E.editNameFlag=false;J.curEditNode=null;J.curEditInput=null;j.selectNode(K,E,false);}J.noSelection=true;return true;},editNode:function(G,H){var D=A.getRoot(G);j.editNodeBlur=false;if(A.isSelectedNode(G,H)&&D.curEditNode==H&&H.editNameFlag){setTimeout(function(){v.inputFocus(D.curEditInput);},0);return;}var F=G.data.key.name;H.editNameFlag=true;j.removeTreeDom(G,H);j.cancelCurEditNode(G);j.selectNode(G,H,false);i(H,q.id.SPAN,G).html("<input type=text class='rename' maxlength='30' id='"+H.tId+q.id.INPUT+"' treeNode"+q.id.INPUT+" >");var E=i(H,q.id.INPUT,G);E.attr("value",H[F]);if(G.edit.editNameSelectAll){v.inputSelect(E);}else{v.inputFocus(E);}E.bind("blur",function(I){if(!j.editNodeBlur){j.cancelCurEditNode(G);}}).bind("keydown",function(I){if(I.keyCode=="13"){j.editNodeBlur=true;j.cancelCurEditNode(G);}else{if(I.keyCode=="27"){j.cancelCurEditNode(G,null,true);}}}).bind("click",function(I){return false;}).bind("dblclick",function(I){return false;});i(H,q.id.A,G).addClass(q.node.CURSELECTED_EDIT);D.curEditInput=E;D.noSelection=false;D.curEditNode=H;},moveNode:function(N,G,Q,F,ab,H){var S=A.getRoot(N),L=N.data.key.children;if(G==Q){return;}if(N.data.keep.leaf&&G&&!G.isParent&&F==q.move.TYPE_INNER){return;}var V=(Q.parentTId?Q.getParentNode():S),P=(G===null||G==S);if(P&&G===null){G=S;}if(P){F=q.move.TYPE_INNER;}var D=(G.parentTId?G.getParentNode():S);if(F!=q.move.TYPE_PREV&&F!=q.move.TYPE_NEXT){F=q.move.TYPE_INNER;}if(F==q.move.TYPE_INNER){if(P){Q.parentTId=null;}else{if(!G.isParent){G.isParent=true;G.open=!!G.open;j.setNodeLineIcos(N,G);}Q.parentTId=G.tId;}}var I,K;if(P){I=N.treeObj;K=I;}else{if(!H&&F==q.move.TYPE_INNER){j.expandCollapseNode(N,G,true,false);}else{if(!H){j.expandCollapseNode(N,G.getParentNode(),true,false);}}I=i(G,N);K=i(G,q.id.UL,N);if(!!I.get(0)&&!K.get(0)){var Z=[];j.makeUlHtml(N,G,Z,"");I.append(Z.join(""));}K=i(G,q.id.UL,N);}var X=i(Q,N);if(!X.get(0)){X=j.appendNodes(N,Q.level,[Q],null,false,true).join("");}else{if(!I.get(0)){X.remove();}}if(K.get(0)&&F==q.move.TYPE_INNER){K.append(X);}else{if(I.get(0)&&F==q.move.TYPE_PREV){I.before(X);}else{if(I.get(0)&&F==q.move.TYPE_NEXT){I.after(X);}}}var U,T,J=-1,W=0,aa=null,E=null,Y=Q.level;if(Q.isFirstNode){J=0;if(V[L].length>1){aa=V[L][1];aa.isFirstNode=true;}}else{if(Q.isLastNode){J=V[L].length-1;aa=V[L][J-1];aa.isLastNode=true;}else{for(U=0,T=V[L].length;U<T;U++){if(V[L][U].tId==Q.tId){J=U;break;}}}}if(J>=0){V[L].splice(J,1);}if(F!=q.move.TYPE_INNER){for(U=0,T=D[L].length;U<T;U++){if(D[L][U].tId==G.tId){W=U;}}}if(F==q.move.TYPE_INNER){if(!G[L]){G[L]=new Array();}if(G[L].length>0){E=G[L][G[L].length-1];E.isLastNode=false;}G[L].splice(G[L].length,0,Q);Q.isLastNode=true;Q.isFirstNode=(G[L].length==1);}else{if(G.isFirstNode&&F==q.move.TYPE_PREV){D[L].splice(W,0,Q);E=G;E.isFirstNode=false;Q.parentTId=G.parentTId;Q.isFirstNode=true;Q.isLastNode=false;}else{if(G.isLastNode&&F==q.move.TYPE_NEXT){D[L].splice(W+1,0,Q);E=G;E.isLastNode=false;Q.parentTId=G.parentTId;Q.isFirstNode=false;Q.isLastNode=true;}else{if(F==q.move.TYPE_PREV){D[L].splice(W,0,Q);}else{D[L].splice(W+1,0,Q);}Q.parentTId=G.parentTId;Q.isFirstNode=false;Q.isLastNode=false;}}}A.fixPIdKeyValue(N,Q);A.setSonNodeLevel(N,Q.getParentNode(),Q);j.setNodeLineIcos(N,Q);j.repairNodeLevelClass(N,Q,Y);if(!N.data.keep.parent&&V[L].length<1){V.isParent=false;V.open=false;var O=i(V,q.id.UL,N),R=i(V,q.id.SWITCH,N),M=i(V,q.id.ICON,N);j.replaceSwitchClass(V,R,q.folder.DOCU);j.replaceIcoClass(V,M,q.folder.DOCU);O.css("display","none");}else{if(aa){j.setNodeLineIcos(N,aa);}}if(E){j.setNodeLineIcos(N,E);}if(!!N.check&&N.check.enable&&j.repairChkClass){j.repairChkClass(N,V);j.repairParentChkClassWithSelf(N,V);if(V!=Q.parent){j.repairParentChkClassWithSelf(N,Q);}}if(!H){j.expandCollapseParentNode(N,Q.getParentNode(),true,ab);}},removeEditBtn:function(D,E){i(E,q.id.EDIT,D).unbind().remove();},removeRemoveBtn:function(D,E){i(E,q.id.REMOVE,D).unbind().remove();},removeTreeDom:function(D,E){E.isHover=false;j.removeEditBtn(D,E);j.removeRemoveBtn(D,E);v.apply(D.view.removeHoverDom,[D.treeId,E]);},repairNodeLevelClass:function(E,G,F){if(F===G.level){return;}var H=i(G,E),K=i(G,q.id.A,E),J=i(G,q.id.UL,E),D=q.className.LEVEL+F,I=q.className.LEVEL+G.level;H.removeClass(D);H.addClass(I);K.removeClass(D);K.addClass(I);J.removeClass(D);J.addClass(I);},selectNodes:function(G,E){for(var F=0,D=E.length;F<D;F++){j.selectNode(G,E[F],F>0);}}},t={tools:h,view:d,event:g,data:p};f.extend(true,f.fn.zTree.consts,C);f.extend(true,f.fn.zTree._z,t);var b=f.fn.zTree,v=b._z.tools,q=b.consts,j=b._z.view,A=b._z.data,s=b._z.event,i=v.$;A.exSetting(m);A.addInitBind(n);A.addInitUnBind(z);A.addInitCache(c);A.addInitNode(w);A.addInitProxy(o);A.addInitRoot(x);A.addZTreeTools(k);var u=j.cancelPreSelectedNode;j.cancelPreSelectedNode=function(F,G){var H=A.getRoot(F).curSelectedList;for(var E=0,D=H.length;E<D;E++){if(!G||G===H[E]){j.removeTreeDom(F,H[E]);if(G){break;}}}if(u){u.apply(j,arguments);}};var y=j.createNodes;j.createNodes=function(F,G,E,D){if(y){y.apply(j,arguments);}if(!E){return;}if(j.repairParentChkClassWithSelf){j.repairParentChkClassWithSelf(F,D);}};var r=j.makeNodeUrl;j.makeNodeUrl=function(D,E){return D.edit.enable?null:(r.apply(j,arguments));};var a=j.removeNode;j.removeNode=function(E,F){var D=A.getRoot(E);if(D.curEditNode===F){D.curEditNode=null;}if(a){a.apply(j,arguments);}};var B=j.selectNode;j.selectNode=function(F,G,E){var D=A.getRoot(F);if(A.isSelectedNode(F,G)&&D.curEditNode==G&&G.editNameFlag){return false;}if(B){B.apply(j,arguments);}j.addHoverDom(F,G);return true;};var e=v.uCanDo;v.uCanDo=function(E,F){var D=A.getRoot(E);if(F&&(v.eqs(F.type,"mouseover")||v.eqs(F.type,"mouseout")||v.eqs(F.type,"mousedown")||v.eqs(F.type,"mouseup"))){return true;}if(D.curEditNode){j.editNodeBlur=false;D.curEditInput.focus();}return(!D.curEditNode)&&(e?e.apply(j,arguments):true);};})(jQuery);
