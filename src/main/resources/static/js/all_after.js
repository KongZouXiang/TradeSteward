/* jQuery UI - v1.12.1 - 2017-08-16
* http://jqueryui.com
* Includes: widget.js, data.js, scroll-parent.js, widgets/sortable.js, widgets/mouse.js
* Copyright jQuery Foundation and other contributors; Licensed MIT */
(function(a){if(typeof define==="function"&&define.amd){define(["jquery"],a);}else{a(jQuery);}}(function(d){d.ui=d.ui||{};var g=d.ui.version="1.12.1";
/*
 * jQuery UI Widget 1.12.1
 * http://jqueryui.com
 *
 * Copyright jQuery Foundation and other contributors
 * Released under the MIT license.
 * http://jquery.org/license
 */
var c=0;var h=Array.prototype.slice;d.cleanData=(function(l){return function(m){var o,p,n;for(n=0;(p=m[n])!=null;n++){try{o=d._data(p,"events");if(o&&o.remove){d(p).triggerHandler("remove");}}catch(q){}}l(m);};})(d.cleanData);d.widget=function(l,m,t){var r,o,s;var n={};var q=l.split(".")[0];l=l.split(".")[1];var p=q+"-"+l;if(!t){t=m;m=d.Widget;}if(d.isArray(t)){t=d.extend.apply(null,[{}].concat(t));}d.expr[":"][p.toLowerCase()]=function(u){return !!d.data(u,p);};d[q]=d[q]||{};r=d[q][l];o=d[q][l]=function(u,v){if(!this._createWidget){return new o(u,v);}if(arguments.length){this._createWidget(u,v);}};d.extend(o,r,{version:t.version,_proto:d.extend({},t),_childConstructors:[]});s=new m();s.options=d.widget.extend({},s.options);d.each(t,function(v,u){if(!d.isFunction(u)){n[v]=u;return;}n[v]=(function(){function w(){return m.prototype[v].apply(this,arguments);}function x(y){return m.prototype[v].apply(this,y);}return function(){var A=this._super;var y=this._superApply;var z;this._super=w;this._superApply=x;z=u.apply(this,arguments);this._super=A;this._superApply=y;return z;};})();});o.prototype=d.widget.extend(s,{widgetEventPrefix:r?(s.widgetEventPrefix||l):l},n,{constructor:o,namespace:q,widgetName:l,widgetFullName:p});if(r){d.each(r._childConstructors,function(v,w){var u=w.prototype;d.widget(u.namespace+"."+u.widgetName,o,w._proto);});delete r._childConstructors;}else{m._childConstructors.push(o);}d.widget.bridge(l,o);return o;};d.widget.extend=function(q){var m=h.call(arguments,1);var p=0;var l=m.length;var n;var o;for(;p<l;p++){for(n in m[p]){o=m[p][n];if(m[p].hasOwnProperty(n)&&o!==undefined){if(d.isPlainObject(o)){q[n]=d.isPlainObject(q[n])?d.widget.extend({},q[n],o):d.widget.extend({},o);}else{q[n]=o;}}}}return q;};d.widget.bridge=function(m,l){var n=l.prototype.widgetFullName||m;d.fn[m]=function(q){var o=typeof q==="string";var p=h.call(arguments,1);var r=this;if(o){if(!this.length&&q==="instance"){r=undefined;}else{this.each(function(){var t;var s=d.data(this,n);if(q==="instance"){r=s;return false;}if(!s){return d.error("cannot call methods on "+m+" prior to initialization; attempted to call method '"+q+"'");}if(!d.isFunction(s[q])||q.charAt(0)==="_"){return d.error("no such method '"+q+"' for "+m+" widget instance");}t=s[q].apply(s,p);if(t!==s&&t!==undefined){r=t&&t.jquery?r.pushStack(t.get()):t;return false;}});}}else{if(p.length){q=d.widget.extend.apply(null,[q].concat(p));}this.each(function(){var s=d.data(this,n);if(s){s.option(q||{});if(s._init){s._init();}}else{d.data(this,n,new l(q,this));}});}return r;};};d.Widget=function(){};d.Widget._childConstructors=[];d.Widget.prototype={widgetName:"widget",widgetEventPrefix:"",defaultElement:"<div>",options:{classes:{},disabled:false,create:null},_createWidget:function(l,m){m=d(m||this.defaultElement||this)[0];this.element=d(m);this.uuid=c++;this.eventNamespace="."+this.widgetName+this.uuid;this.bindings=d();this.hoverable=d();this.focusable=d();this.classesElementLookup={};if(m!==this){d.data(m,this.widgetFullName,this);this._on(true,this.element,{remove:function(n){if(n.target===m){this.destroy();}}});this.document=d(m.style?m.ownerDocument:m.document||m);this.window=d(this.document[0].defaultView||this.document[0].parentWindow);}this.options=d.widget.extend({},this.options,this._getCreateOptions(),l);this._create();if(this.options.disabled){this._setOptionDisabled(this.options.disabled);}this._trigger("create",null,this._getCreateEventData());this._init();},_getCreateOptions:function(){return{};},_getCreateEventData:d.noop,_create:d.noop,_init:d.noop,destroy:function(){var l=this;this._destroy();d.each(this.classesElementLookup,function(m,n){l._removeClass(n,m);});this.element.off(this.eventNamespace).removeData(this.widgetFullName);this.widget().off(this.eventNamespace).removeAttr("aria-disabled");this.bindings.off(this.eventNamespace);},_destroy:d.noop,widget:function(){return this.element;},option:function(o,p){var l=o;var q;var n;var m;if(arguments.length===0){return d.widget.extend({},this.options);}if(typeof o==="string"){l={};q=o.split(".");o=q.shift();if(q.length){n=l[o]=d.widget.extend({},this.options[o]);for(m=0;m<q.length-1;m++){n[q[m]]=n[q[m]]||{};n=n[q[m]];}o=q.pop();if(arguments.length===1){return n[o]===undefined?null:n[o];}n[o]=p;}else{if(arguments.length===1){return this.options[o]===undefined?null:this.options[o];}l[o]=p;}}this._setOptions(l);return this;},_setOptions:function(l){var m;for(m in l){this._setOption(m,l[m]);}return this;},_setOption:function(l,m){if(l==="classes"){this._setOptionClasses(m);}this.options[l]=m;if(l==="disabled"){this._setOptionDisabled(m);}return this;},_setOptionClasses:function(o){var l,n,m;for(l in o){m=this.classesElementLookup[l];if(o[l]===this.options.classes[l]||!m||!m.length){continue;}n=d(m.get());this._removeClass(m,l);n.addClass(this._classes({element:n,keys:l,classes:o,add:true}));}},_setOptionDisabled:function(l){this._toggleClass(this.widget(),this.widgetFullName+"-disabled",null,!!l);if(l){this._removeClass(this.hoverable,null,"ui-state-hover");this._removeClass(this.focusable,null,"ui-state-focus");}},enable:function(){return this._setOptions({disabled:false});},disable:function(){return this._setOptions({disabled:true});},_classes:function(l){var m=[];var n=this;l=d.extend({element:this.element,classes:this.options.classes||{}},l);function o(q,s){var r,p;for(p=0;p<q.length;p++){r=n.classesElementLookup[q[p]]||d();if(l.add){r=d(d.unique(r.get().concat(l.element.get())));}else{r=d(r.not(l.element).get());}n.classesElementLookup[q[p]]=r;m.push(q[p]);if(s&&l.classes[q[p]]){m.push(l.classes[q[p]]);}}}this._on(l.element,{remove:"_untrackClassesElement"});if(l.keys){o(l.keys.match(/\S+/g)||[],true);}if(l.extra){o(l.extra.match(/\S+/g)||[]);}return m.join(" ");},_untrackClassesElement:function(m){var l=this;d.each(l.classesElementLookup,function(n,o){if(d.inArray(m.target,o)!==-1){l.classesElementLookup[n]=d(o.not(m.target).get());}});},_removeClass:function(m,n,l){return this._toggleClass(m,n,l,false);},_addClass:function(m,n,l){return this._toggleClass(m,n,l,true);},_toggleClass:function(o,p,l,q){q=(typeof q==="boolean")?q:l;var m=(typeof o==="string"||o===null),n={extra:m?p:l,keys:m?o:p,element:m?this.element:o,add:q};n.element.toggleClass(this._classes(n),q);return this;},_on:function(o,n,m){var p;var l=this;if(typeof o!=="boolean"){m=n;n=o;o=false;}if(!m){m=n;n=this.element;p=this.widget();}else{n=p=d(n);this.bindings=this.bindings.add(n);}d.each(m,function(v,u){function s(){if(!o&&(l.options.disabled===true||d(this).hasClass("ui-state-disabled"))){return;}return(typeof u==="string"?l[u]:u).apply(l,arguments);}if(typeof u!=="string"){s.guid=u.guid=u.guid||s.guid||d.guid++;}var t=v.match(/^([\w:-]*)\s*(.*)$/);var r=t[1]+l.eventNamespace;var q=t[2];if(q){p.on(r,q,s);}else{n.on(r,s);}});},_off:function(m,l){l=(l||"").split(" ").join(this.eventNamespace+" ")+this.eventNamespace;m.off(l).off(l);this.bindings=d(this.bindings.not(m).get());this.focusable=d(this.focusable.not(m).get());this.hoverable=d(this.hoverable.not(m).get());},_delay:function(o,n){function m(){return(typeof o==="string"?l[o]:o).apply(l,arguments);}var l=this;return setTimeout(m,n||0);},_hoverable:function(l){this.hoverable=this.hoverable.add(l);this._on(l,{mouseenter:function(m){this._addClass(d(m.currentTarget),null,"ui-state-hover");},mouseleave:function(m){this._removeClass(d(m.currentTarget),null,"ui-state-hover");}});},_focusable:function(l){this.focusable=this.focusable.add(l);this._on(l,{focusin:function(m){this._addClass(d(m.currentTarget),null,"ui-state-focus");},focusout:function(m){this._removeClass(d(m.currentTarget),null,"ui-state-focus");}});},_trigger:function(l,m,n){var q,p;var o=this.options[l];n=n||{};m=d.Event(m);m.type=(l===this.widgetEventPrefix?l:this.widgetEventPrefix+l).toLowerCase();m.target=this.element[0];p=m.originalEvent;if(p){for(q in p){if(!(q in m)){m[q]=p[q];}}}this.element.trigger(m,n);return !(d.isFunction(o)&&o.apply(this.element[0],[m].concat(n))===false||m.isDefaultPrevented());}};d.each({show:"fadeIn",hide:"fadeOut"},function(m,l){d.Widget.prototype["_"+m]=function(p,o,r){if(typeof o==="string"){o={effect:o};}var q;var n=!o?m:o===true||typeof o==="number"?l:o.effect||l;o=o||{};if(typeof o==="number"){o={duration:o};}q=!d.isEmptyObject(o);o.complete=r;if(o.delay){p.delay(o.delay);}if(q&&d.effects&&d.effects.effect[n]){p[m](o);}else{if(n!==m&&p[n]){p[n](o.duration,o.easing,r);}else{p.queue(function(s){d(this)[m]();if(r){r.call(p[0]);}s();});}}};});var f=d.widget;
/*
 * jQuery UI :data 1.12.1
 * http://jqueryui.com
 *
 * Copyright jQuery Foundation and other contributors
 * Released under the MIT license.
 * http://jquery.org/license
 */
var e=d.extend(d.expr[":"],{data:d.expr.createPseudo?d.expr.createPseudo(function(l){return function(m){return !!d.data(m,l);};}):function(n,m,l){return !!d.data(n,l[3]);}});
/*
 * jQuery UI Scroll Parent 1.12.1
 * http://jqueryui.com
 *
 * Copyright jQuery Foundation and other contributors
 * Released under the MIT license.
 * http://jquery.org/license
 */
var j=d.fn.scrollParent=function(n){var m=this.css("position"),l=m==="absolute",o=n?/(auto|scroll|hidden)/:/(auto|scroll)/,p=this.parents().filter(function(){var q=d(this);if(l&&q.css("position")==="static"){return false;}return o.test(q.css("overflow")+q.css("overflow-y")+q.css("overflow-x"));}).eq(0);return m==="fixed"||!p.length?d(this[0].ownerDocument||document):p;};var a=d.ui.ie=!!/msie [\w.]+/.exec(navigator.userAgent.toLowerCase());
/*
 * jQuery UI Mouse 1.12.1
 * http://jqueryui.com
 *
 * Copyright jQuery Foundation and other contributors
 * Released under the MIT license.
 * http://jquery.org/license
 */
var b=false;d(document).on("mouseup",function(){b=false;});var i=d.widget("ui.mouse",{version:"1.12.1",options:{cancel:"input, textarea, button, select, option",distance:1,delay:0},_mouseInit:function(){var l=this;this.element.on("mousedown."+this.widgetName,function(m){return l._mouseDown(m);}).on("click."+this.widgetName,function(m){if(true===d.data(m.target,l.widgetName+".preventClickEvent")){d.removeData(m.target,l.widgetName+".preventClickEvent");m.stopImmediatePropagation();return false;}});this.started=false;},_mouseDestroy:function(){this.element.off("."+this.widgetName);if(this._mouseMoveDelegate){this.document.off("mousemove."+this.widgetName,this._mouseMoveDelegate).off("mouseup."+this.widgetName,this._mouseUpDelegate);}},_mouseDown:function(n){if(b){return;}this._mouseMoved=false;(this._mouseStarted&&this._mouseUp(n));this._mouseDownEvent=n;var m=this,o=(n.which===1),l=(typeof this.options.cancel==="string"&&n.target.nodeName?d(n.target).closest(this.options.cancel).length:false);if(!o||l||!this._mouseCapture(n)){return true;}this.mouseDelayMet=!this.options.delay;if(!this.mouseDelayMet){this._mouseDelayTimer=setTimeout(function(){m.mouseDelayMet=true;},this.options.delay);}if(this._mouseDistanceMet(n)&&this._mouseDelayMet(n)){this._mouseStarted=(this._mouseStart(n)!==false);if(!this._mouseStarted){n.preventDefault();return true;}}if(true===d.data(n.target,this.widgetName+".preventClickEvent")){d.removeData(n.target,this.widgetName+".preventClickEvent");}this._mouseMoveDelegate=function(p){return m._mouseMove(p);};this._mouseUpDelegate=function(p){return m._mouseUp(p);};this.document.on("mousemove."+this.widgetName,this._mouseMoveDelegate).on("mouseup."+this.widgetName,this._mouseUpDelegate);n.preventDefault();b=true;return true;},_mouseMove:function(l){if(this._mouseMoved){if(d.ui.ie&&(!document.documentMode||document.documentMode<9)&&!l.button){return this._mouseUp(l);}else{if(!l.which){if(l.originalEvent.altKey||l.originalEvent.ctrlKey||l.originalEvent.metaKey||l.originalEvent.shiftKey){this.ignoreMissingWhich=true;}else{if(!this.ignoreMissingWhich){return this._mouseUp(l);}}}}}if(l.which||l.button){this._mouseMoved=true;}if(this._mouseStarted){this._mouseDrag(l);return l.preventDefault();}if(this._mouseDistanceMet(l)&&this._mouseDelayMet(l)){this._mouseStarted=(this._mouseStart(this._mouseDownEvent,l)!==false);(this._mouseStarted?this._mouseDrag(l):this._mouseUp(l));}return !this._mouseStarted;},_mouseUp:function(l){this.document.off("mousemove."+this.widgetName,this._mouseMoveDelegate).off("mouseup."+this.widgetName,this._mouseUpDelegate);if(this._mouseStarted){this._mouseStarted=false;if(l.target===this._mouseDownEvent.target){d.data(l.target,this.widgetName+".preventClickEvent",true);}this._mouseStop(l);}if(this._mouseDelayTimer){clearTimeout(this._mouseDelayTimer);delete this._mouseDelayTimer;}this.ignoreMissingWhich=false;b=false;l.preventDefault();},_mouseDistanceMet:function(l){return(Math.max(Math.abs(this._mouseDownEvent.pageX-l.pageX),Math.abs(this._mouseDownEvent.pageY-l.pageY))>=this.options.distance);},_mouseDelayMet:function(){return this.mouseDelayMet;},_mouseStart:function(){},_mouseDrag:function(){},_mouseStop:function(){},_mouseCapture:function(){return true;}});
/*
 * jQuery UI Sortable 1.12.1
 * http://jqueryui.com
 *
 * Copyright jQuery Foundation and other contributors
 * Released under the MIT license.
 * http://jquery.org/license
 */
var k=d.widget("ui.sortable",d.ui.mouse,{version:"1.12.1",widgetEventPrefix:"sort",ready:false,options:{appendTo:"parent",axis:false,connectWith:false,containment:false,cursor:"auto",cursorAt:false,dropOnEmpty:true,forcePlaceholderSize:false,forceHelperSize:false,grid:false,handle:false,helper:"original",items:"> *",opacity:false,placeholder:false,revert:false,scroll:true,scrollSensitivity:20,scrollSpeed:20,scope:"default",tolerance:"intersect",zIndex:1000,activate:null,beforeStop:null,change:null,deactivate:null,out:null,over:null,receive:null,remove:null,sort:null,start:null,stop:null,update:null},_isOverAxis:function(m,l,n){return(m>=l)&&(m<(l+n));},_isFloating:function(l){return(/left|right/).test(l.css("float"))||(/inline|table-cell/).test(l.css("display"));},_create:function(){this.containerCache={};this._addClass("ui-sortable");this.refresh();this.offset=this.element.offset();this._mouseInit();this._setHandleClassName();this.ready=true;},_setOption:function(l,m){this._super(l,m);if(l==="handle"){this._setHandleClassName();}},_setHandleClassName:function(){var l=this;this._removeClass(this.element.find(".ui-sortable-handle"),"ui-sortable-handle");d.each(this.items,function(){l._addClass(this.instance.options.handle?this.item.find(this.instance.options.handle):this.item,"ui-sortable-handle");});},_destroy:function(){this._mouseDestroy();for(var l=this.items.length-1;l>=0;l--){this.items[l].item.removeData(this.widgetName+"-item");}return this;},_mouseCapture:function(n,o){var l=null,p=false,m=this;if(this.reverting){return false;}if(this.options.disabled||this.options.type==="static"){return false;}this._refreshItems(n);d(n.target).parents().each(function(){if(d.data(this,m.widgetName+"-item")===m){l=d(this);return false;}});if(d.data(n.target,m.widgetName+"-item")===m){l=d(n.target);}if(!l){return false;}if(this.options.handle&&!o){d(this.options.handle,l).find("*").addBack().each(function(){if(this===n.target){p=true;}});if(!p){return false;}}this.currentItem=l;this._removeCurrentsFromItems();return true;},_mouseStart:function(p,q,m){var n,l,r=this.options;this.currentContainer=this;this.refreshPositions();this.helper=this._createHelper(p);this._cacheHelperProportions();this._cacheMargins();this.scrollParent=this.helper.scrollParent();this.offset=this.currentItem.offset();this.offset={top:this.offset.top-this.margins.top,left:this.offset.left-this.margins.left};d.extend(this.offset,{click:{left:p.pageX-this.offset.left,top:p.pageY-this.offset.top},parent:this._getParentOffset(),relative:this._getRelativeOffset()});this.helper.css("position","absolute");this.cssPosition=this.helper.css("position");this.originalPosition=this._generatePosition(p);this.originalPageX=p.pageX;this.originalPageY=p.pageY;(r.cursorAt&&this._adjustOffsetFromHelper(r.cursorAt));this.domPosition={prev:this.currentItem.prev()[0],parent:this.currentItem.parent()[0]};if(this.helper[0]!==this.currentItem[0]){this.currentItem.hide();}this._createPlaceholder();if(r.containment){this._setContainment();}if(r.cursor&&r.cursor!=="auto"){l=this.document.find("body");this.storedCursor=l.css("cursor");l.css("cursor",r.cursor);this.storedStylesheet=d("<style>*{ cursor: "+r.cursor+" !important; }</style>").appendTo(l);}if(r.opacity){if(this.helper.css("opacity")){this._storedOpacity=this.helper.css("opacity");}this.helper.css("opacity",r.opacity);}if(r.zIndex){if(this.helper.css("zIndex")){this._storedZIndex=this.helper.css("zIndex");}this.helper.css("zIndex",r.zIndex);}if(this.scrollParent[0]!==this.document[0]&&this.scrollParent[0].tagName!=="HTML"){this.overflowOffset=this.scrollParent.offset();}this._trigger("start",p,this._uiHash());if(!this._preserveHelperProportions){this._cacheHelperProportions();}if(!m){for(n=this.containers.length-1;n>=0;n--){this.containers[n]._trigger("activate",p,this._uiHash(this));}}if(d.ui.ddmanager){d.ui.ddmanager.current=this;}if(d.ui.ddmanager&&!r.dropBehaviour){d.ui.ddmanager.prepareOffsets(this,p);}this.dragging=true;this._addClass(this.helper,"ui-sortable-helper");this._mouseDrag(p);return true;},_mouseDrag:function(q){var n,p,m,s,r=this.options,l=false;this.position=this._generatePosition(q);this.positionAbs=this._convertPositionTo("absolute");if(!this.lastPositionAbs){this.lastPositionAbs=this.positionAbs;}if(this.options.scroll){if(this.scrollParent[0]!==this.document[0]&&this.scrollParent[0].tagName!=="HTML"){if((this.overflowOffset.top+this.scrollParent[0].offsetHeight)-q.pageY<r.scrollSensitivity){this.scrollParent[0].scrollTop=l=this.scrollParent[0].scrollTop+r.scrollSpeed;}else{if(q.pageY-this.overflowOffset.top<r.scrollSensitivity){this.scrollParent[0].scrollTop=l=this.scrollParent[0].scrollTop-r.scrollSpeed;}}if((this.overflowOffset.left+this.scrollParent[0].offsetWidth)-q.pageX<r.scrollSensitivity){this.scrollParent[0].scrollLeft=l=this.scrollParent[0].scrollLeft+r.scrollSpeed;}else{if(q.pageX-this.overflowOffset.left<r.scrollSensitivity){this.scrollParent[0].scrollLeft=l=this.scrollParent[0].scrollLeft-r.scrollSpeed;}}}else{if(q.pageY-this.document.scrollTop()<r.scrollSensitivity){l=this.document.scrollTop(this.document.scrollTop()-r.scrollSpeed);}else{if(this.window.height()-(q.pageY-this.document.scrollTop())<r.scrollSensitivity){l=this.document.scrollTop(this.document.scrollTop()+r.scrollSpeed);}}if(q.pageX-this.document.scrollLeft()<r.scrollSensitivity){l=this.document.scrollLeft(this.document.scrollLeft()-r.scrollSpeed);}else{if(this.window.width()-(q.pageX-this.document.scrollLeft())<r.scrollSensitivity){l=this.document.scrollLeft(this.document.scrollLeft()+r.scrollSpeed);}}}if(l!==false&&d.ui.ddmanager&&!r.dropBehaviour){d.ui.ddmanager.prepareOffsets(this,q);}}this.positionAbs=this._convertPositionTo("absolute");if(!this.options.axis||this.options.axis!=="y"){this.helper[0].style.left=this.position.left+"px";}if(!this.options.axis||this.options.axis!=="x"){this.helper[0].style.top=this.position.top+"px";}for(n=this.items.length-1;n>=0;n--){p=this.items[n];m=p.item[0];s=this._intersectsWithPointer(p);if(!s){continue;}if(p.instance!==this.currentContainer){continue;}if(m!==this.currentItem[0]&&this.placeholder[s===1?"next":"prev"]()[0]!==m&&!d.contains(this.placeholder[0],m)&&(this.options.type==="semi-dynamic"?!d.contains(this.element[0],m):true)){this.direction=s===1?"down":"up";if(this.options.tolerance==="pointer"||this._intersectsWithSides(p)){this._rearrange(q,p);}else{break;}this._trigger("change",q,this._uiHash());break;}}this._contactContainers(q);if(d.ui.ddmanager){d.ui.ddmanager.drag(this,q);}this._trigger("sort",q,this._uiHash());this.lastPositionAbs=this.positionAbs;return false;},_mouseStop:function(n,p){if(!n){return;}if(d.ui.ddmanager&&!this.options.dropBehaviour){d.ui.ddmanager.drop(this,n);}if(this.options.revert){var m=this,q=this.placeholder.offset(),l=this.options.axis,o={};if(!l||l==="x"){o.left=q.left-this.offset.parent.left-this.margins.left+(this.offsetParent[0]===this.document[0].body?0:this.offsetParent[0].scrollLeft);}if(!l||l==="y"){o.top=q.top-this.offset.parent.top-this.margins.top+(this.offsetParent[0]===this.document[0].body?0:this.offsetParent[0].scrollTop);}this.reverting=true;d(this.helper).animate(o,parseInt(this.options.revert,10)||500,function(){m._clear(n);});}else{this._clear(n,p);}return false;},cancel:function(){if(this.dragging){this._mouseUp(new d.Event("mouseup",{target:null}));if(this.options.helper==="original"){this.currentItem.css(this._storedCSS);this._removeClass(this.currentItem,"ui-sortable-helper");}else{this.currentItem.show();}for(var l=this.containers.length-1;l>=0;l--){this.containers[l]._trigger("deactivate",null,this._uiHash(this));if(this.containers[l].containerCache.over){this.containers[l]._trigger("out",null,this._uiHash(this));this.containers[l].containerCache.over=0;}}}if(this.placeholder){if(this.placeholder[0].parentNode){this.placeholder[0].parentNode.removeChild(this.placeholder[0]);}if(this.options.helper!=="original"&&this.helper&&this.helper[0].parentNode){this.helper.remove();}d.extend(this,{helper:null,dragging:false,reverting:false,_noFinalSort:null});if(this.domPosition.prev){d(this.domPosition.prev).after(this.currentItem);}else{d(this.domPosition.parent).prepend(this.currentItem);}}return this;},serialize:function(n){var l=this._getItemsAsjQuery(n&&n.connected),m=[];n=n||{};d(l).each(function(){var o=(d(n.item||this).attr(n.attribute||"id")||"").match(n.expression||(/(.+)[\-=_](.+)/));if(o){m.push((n.key||o[1]+"[]")+"="+(n.key&&n.expression?o[1]:o[2]));}});if(!m.length&&n.key){m.push(n.key+"=");}return m.join("&");},toArray:function(n){var l=this._getItemsAsjQuery(n&&n.connected),m=[];n=n||{};l.each(function(){m.push(d(n.item||this).attr(n.attribute||"id")||"");});return m;},_intersectsWith:function(z){var o=this.positionAbs.left,n=o+this.helperProportions.width,x=this.positionAbs.top,w=x+this.helperProportions.height,p=z.left,m=p+z.width,A=z.top,v=A+z.height,B=this.offset.click.top,u=this.offset.click.left,s=(this.options.axis==="x")||((x+B)>A&&(x+B)<v),y=(this.options.axis==="y")||((o+u)>p&&(o+u)<m),q=s&&y;if(this.options.tolerance==="pointer"||this.options.forcePointerForContainers||(this.options.tolerance!=="pointer"&&this.helperProportions[this.floating?"width":"height"]>z[this.floating?"width":"height"])){return q;}else{return(p<o+(this.helperProportions.width/2)&&n-(this.helperProportions.width/2)<m&&A<x+(this.helperProportions.height/2)&&w-(this.helperProportions.height/2)<v);}},_intersectsWithPointer:function(n){var m,q,o=(this.options.axis==="x")||this._isOverAxis(this.positionAbs.top+this.offset.click.top,n.top,n.height),l=(this.options.axis==="y")||this._isOverAxis(this.positionAbs.left+this.offset.click.left,n.left,n.width),p=o&&l;if(!p){return false;}m=this._getDragVerticalDirection();q=this._getDragHorizontalDirection();return this.floating?((q==="right"||m==="down")?2:1):(m&&(m==="down"?2:1));},_intersectsWithSides:function(o){var m=this._isOverAxis(this.positionAbs.top+this.offset.click.top,o.top+(o.height/2),o.height),n=this._isOverAxis(this.positionAbs.left+this.offset.click.left,o.left+(o.width/2),o.width),l=this._getDragVerticalDirection(),p=this._getDragHorizontalDirection();if(this.floating&&p){return((p==="right"&&n)||(p==="left"&&!n));}else{return l&&((l==="down"&&m)||(l==="up"&&!m));}},_getDragVerticalDirection:function(){var l=this.positionAbs.top-this.lastPositionAbs.top;return l!==0&&(l>0?"down":"up");},_getDragHorizontalDirection:function(){var l=this.positionAbs.left-this.lastPositionAbs.left;return l!==0&&(l>0?"right":"left");},refresh:function(l){this._refreshItems(l);this._setHandleClassName();this.refreshPositions();return this;},_connectWith:function(){var l=this.options;return l.connectWith.constructor===String?[l.connectWith]:l.connectWith;},_getItemsAsjQuery:function(l){var n,m,s,p,q=[],o=[],r=this._connectWith();if(r&&l){for(n=r.length-1;n>=0;n--){s=d(r[n],this.document[0]);for(m=s.length-1;m>=0;m--){p=d.data(s[m],this.widgetFullName);if(p&&p!==this&&!p.options.disabled){o.push([d.isFunction(p.options.items)?p.options.items.call(p.element):d(p.options.items,p.element).not(".ui-sortable-helper").not(".ui-sortable-placeholder"),p]);}}}}o.push([d.isFunction(this.options.items)?this.options.items.call(this.element,null,{options:this.options,item:this.currentItem}):d(this.options.items,this.element).not(".ui-sortable-helper").not(".ui-sortable-placeholder"),this]);function t(){q.push(this);}for(n=o.length-1;n>=0;n--){o[n][0].each(t);}return d(q);},_removeCurrentsFromItems:function(){var l=this.currentItem.find(":data("+this.widgetName+"-item)");this.items=d.grep(this.items,function(n){for(var m=0;m<l.length;m++){if(l[m]===n.item[0]){return false;}}return true;});},_refreshItems:function(l){this.items=[];this.containers=[this];var p,n,u,q,t,m,w,v,r=this.items,o=[[d.isFunction(this.options.items)?this.options.items.call(this.element[0],l,{item:this.currentItem}):d(this.options.items,this.element),this]],s=this._connectWith();if(s&&this.ready){for(p=s.length-1;p>=0;p--){u=d(s[p],this.document[0]);for(n=u.length-1;n>=0;n--){q=d.data(u[n],this.widgetFullName);if(q&&q!==this&&!q.options.disabled){o.push([d.isFunction(q.options.items)?q.options.items.call(q.element[0],l,{item:this.currentItem}):d(q.options.items,q.element),q]);this.containers.push(q);}}}}for(p=o.length-1;p>=0;p--){t=o[p][1];m=o[p][0];for(n=0,v=m.length;n<v;n++){w=d(m[n]);w.data(this.widgetName+"-item",t);r.push({item:w,instance:t,width:0,height:0,left:0,top:0});}}},refreshPositions:function(l){this.floating=this.items.length?this.options.axis==="x"||this._isFloating(this.items[0].item):false;if(this.offsetParent&&this.helper){this.offset.parent=this._getParentOffset();}var n,o,m,q;for(n=this.items.length-1;n>=0;n--){o=this.items[n];if(o.instance!==this.currentContainer&&this.currentContainer&&o.item[0]!==this.currentItem[0]){continue;}m=this.options.toleranceElement?d(this.options.toleranceElement,o.item):o.item;if(!l){o.width=m.outerWidth();o.height=m.outerHeight();}q=m.offset();o.left=q.left;o.top=q.top;}if(this.options.custom&&this.options.custom.refreshContainers){this.options.custom.refreshContainers.call(this);}else{for(n=this.containers.length-1;n>=0;n--){q=this.containers[n].element.offset();this.containers[n].containerCache.left=q.left;this.containers[n].containerCache.top=q.top;this.containers[n].containerCache.width=this.containers[n].element.outerWidth();this.containers[n].containerCache.height=this.containers[n].element.outerHeight();}}return this;},_createPlaceholder:function(m){m=m||this;var l,n=m.options;if(!n.placeholder||n.placeholder.constructor===String){l=n.placeholder;n.placeholder={element:function(){var p=m.currentItem[0].nodeName.toLowerCase(),o=d("<"+p+">",m.document[0]);m._addClass(o,"ui-sortable-placeholder",l||m.currentItem[0].className)._removeClass(o,"ui-sortable-helper");if(p==="tbody"){m._createTrPlaceholder(m.currentItem.find("tr").eq(0),d("<tr>",m.document[0]).appendTo(o));}else{if(p==="tr"){m._createTrPlaceholder(m.currentItem,o);}else{if(p==="img"){o.attr("src",m.currentItem.attr("src"));}}}if(!l){o.css("visibility","hidden");}return o;},update:function(o,q){if(l&&!n.forcePlaceholderSize){return;}if(!q.height()){q.height(m.currentItem.innerHeight()-parseInt(m.currentItem.css("paddingTop")||0,10)-parseInt(m.currentItem.css("paddingBottom")||0,10));}if(!q.width()){q.width(m.currentItem.innerWidth()-parseInt(m.currentItem.css("paddingLeft")||0,10)-parseInt(m.currentItem.css("paddingRight")||0,10));}}};}m.placeholder=d(n.placeholder.element.call(m.element,m.currentItem));m.currentItem.after(m.placeholder);n.placeholder.update(m,m.placeholder);},_createTrPlaceholder:function(m,l){var n=this;m.children().each(function(){d("<td>&#160;</td>",n.document[0]).attr("colspan",d(this).attr("colspan")||1).appendTo(l);});},_contactContainers:function(l){var q,o,u,r,s,w,x,p,t,n,m=null,v=null;for(q=this.containers.length-1;q>=0;q--){if(d.contains(this.currentItem[0],this.containers[q].element[0])){continue;}if(this._intersectsWith(this.containers[q].containerCache)){if(m&&d.contains(this.containers[q].element[0],m.element[0])){continue;}m=this.containers[q];v=q;}else{if(this.containers[q].containerCache.over){this.containers[q]._trigger("out",l,this._uiHash(this));this.containers[q].containerCache.over=0;}}}if(!m){return;}if(this.containers.length===1){if(!this.containers[v].containerCache.over){this.containers[v]._trigger("over",l,this._uiHash(this));this.containers[v].containerCache.over=1;}}else{u=10000;r=null;t=m.floating||this._isFloating(this.currentItem);s=t?"left":"top";w=t?"width":"height";n=t?"pageX":"pageY";for(o=this.items.length-1;o>=0;o--){if(!d.contains(this.containers[v].element[0],this.items[o].item[0])){continue;}if(this.items[o].item[0]===this.currentItem[0]){continue;}x=this.items[o].item.offset()[s];p=false;if(l[n]-x>this.items[o][w]/2){p=true;}if(Math.abs(l[n]-x)<u){u=Math.abs(l[n]-x);r=this.items[o];this.direction=p?"up":"down";}}if(!r&&!this.options.dropOnEmpty){return;}if(this.currentContainer===this.containers[v]){if(!this.currentContainer.containerCache.over){this.containers[v]._trigger("over",l,this._uiHash());this.currentContainer.containerCache.over=1;}return;}r?this._rearrange(l,r,null,true):this._rearrange(l,null,this.containers[v].element,true);this._trigger("change",l,this._uiHash());this.containers[v]._trigger("change",l,this._uiHash(this));this.currentContainer=this.containers[v];this.options.placeholder.update(this.currentContainer,this.placeholder);this.containers[v]._trigger("over",l,this._uiHash(this));this.containers[v].containerCache.over=1;}},_createHelper:function(m){var n=this.options,l=d.isFunction(n.helper)?d(n.helper.apply(this.element[0],[m,this.currentItem])):(n.helper==="clone"?this.currentItem.clone():this.currentItem);if(!l.parents("body").length){d(n.appendTo!=="parent"?n.appendTo:this.currentItem[0].parentNode)[0].appendChild(l[0]);}if(l[0]===this.currentItem[0]){this._storedCSS={width:this.currentItem[0].style.width,height:this.currentItem[0].style.height,position:this.currentItem.css("position"),top:this.currentItem.css("top"),left:this.currentItem.css("left")};}if(!l[0].style.width||n.forceHelperSize){l.width(this.currentItem.width());}if(!l[0].style.height||n.forceHelperSize){l.height(this.currentItem.height());}return l;},_adjustOffsetFromHelper:function(l){if(typeof l==="string"){l=l.split(" ");}if(d.isArray(l)){l={left:+l[0],top:+l[1]||0};}if("left" in l){this.offset.click.left=l.left+this.margins.left;}if("right" in l){this.offset.click.left=this.helperProportions.width-l.right+this.margins.left;}if("top" in l){this.offset.click.top=l.top+this.margins.top;}if("bottom" in l){this.offset.click.top=this.helperProportions.height-l.bottom+this.margins.top;}},_getParentOffset:function(){this.offsetParent=this.helper.offsetParent();var l=this.offsetParent.offset();if(this.cssPosition==="absolute"&&this.scrollParent[0]!==this.document[0]&&d.contains(this.scrollParent[0],this.offsetParent[0])){l.left+=this.scrollParent.scrollLeft();l.top+=this.scrollParent.scrollTop();}if(this.offsetParent[0]===this.document[0].body||(this.offsetParent[0].tagName&&this.offsetParent[0].tagName.toLowerCase()==="html"&&d.ui.ie)){l={top:0,left:0};}return{top:l.top+(parseInt(this.offsetParent.css("borderTopWidth"),10)||0),left:l.left+(parseInt(this.offsetParent.css("borderLeftWidth"),10)||0)};},_getRelativeOffset:function(){if(this.cssPosition==="relative"){var l=this.currentItem.position();return{top:l.top-(parseInt(this.helper.css("top"),10)||0)+this.scrollParent.scrollTop(),left:l.left-(parseInt(this.helper.css("left"),10)||0)+this.scrollParent.scrollLeft()};}else{return{top:0,left:0};}},_cacheMargins:function(){this.margins={left:(parseInt(this.currentItem.css("marginLeft"),10)||0),top:(parseInt(this.currentItem.css("marginTop"),10)||0)};},_cacheHelperProportions:function(){this.helperProportions={width:this.helper.outerWidth(),height:this.helper.outerHeight()};},_setContainment:function(){var m,p,l,n=this.options;if(n.containment==="parent"){n.containment=this.helper[0].parentNode;}if(n.containment==="document"||n.containment==="window"){this.containment=[0-this.offset.relative.left-this.offset.parent.left,0-this.offset.relative.top-this.offset.parent.top,n.containment==="document"?this.document.width():this.window.width()-this.helperProportions.width-this.margins.left,(n.containment==="document"?(this.document.height()||document.body.parentNode.scrollHeight):this.window.height()||this.document[0].body.parentNode.scrollHeight)-this.helperProportions.height-this.margins.top];}if(!(/^(document|window|parent)$/).test(n.containment)){m=d(n.containment)[0];p=d(n.containment).offset();l=(d(m).css("overflow")!=="hidden");this.containment=[p.left+(parseInt(d(m).css("borderLeftWidth"),10)||0)+(parseInt(d(m).css("paddingLeft"),10)||0)-this.margins.left,p.top+(parseInt(d(m).css("borderTopWidth"),10)||0)+(parseInt(d(m).css("paddingTop"),10)||0)-this.margins.top,p.left+(l?Math.max(m.scrollWidth,m.offsetWidth):m.offsetWidth)-(parseInt(d(m).css("borderLeftWidth"),10)||0)-(parseInt(d(m).css("paddingRight"),10)||0)-this.helperProportions.width-this.margins.left,p.top+(l?Math.max(m.scrollHeight,m.offsetHeight):m.offsetHeight)-(parseInt(d(m).css("borderTopWidth"),10)||0)-(parseInt(d(m).css("paddingBottom"),10)||0)-this.helperProportions.height-this.margins.top];}},_convertPositionTo:function(n,p){if(!p){p=this.position;}var m=n==="absolute"?1:-1,l=this.cssPosition==="absolute"&&!(this.scrollParent[0]!==this.document[0]&&d.contains(this.scrollParent[0],this.offsetParent[0]))?this.offsetParent:this.scrollParent,o=(/(html|body)/i).test(l[0].tagName);return{top:(p.top+this.offset.relative.top*m+this.offset.parent.top*m-((this.cssPosition==="fixed"?-this.scrollParent.scrollTop():(o?0:l.scrollTop()))*m)),left:(p.left+this.offset.relative.left*m+this.offset.parent.left*m-((this.cssPosition==="fixed"?-this.scrollParent.scrollLeft():o?0:l.scrollLeft())*m))};},_generatePosition:function(p){var r,q,s=this.options,n=p.pageX,m=p.pageY,l=this.cssPosition==="absolute"&&!(this.scrollParent[0]!==this.document[0]&&d.contains(this.scrollParent[0],this.offsetParent[0]))?this.offsetParent:this.scrollParent,t=(/(html|body)/i).test(l[0].tagName);if(this.cssPosition==="relative"&&!(this.scrollParent[0]!==this.document[0]&&this.scrollParent[0]!==this.offsetParent[0])){this.offset.relative=this._getRelativeOffset();}if(this.originalPosition){if(this.containment){if(p.pageX-this.offset.click.left<this.containment[0]){n=this.containment[0]+this.offset.click.left;}if(p.pageY-this.offset.click.top<this.containment[1]){m=this.containment[1]+this.offset.click.top;}if(p.pageX-this.offset.click.left>this.containment[2]){n=this.containment[2]+this.offset.click.left;}if(p.pageY-this.offset.click.top>this.containment[3]){m=this.containment[3]+this.offset.click.top;}}if(s.grid){r=this.originalPageY+Math.round((m-this.originalPageY)/s.grid[1])*s.grid[1];m=this.containment?((r-this.offset.click.top>=this.containment[1]&&r-this.offset.click.top<=this.containment[3])?r:((r-this.offset.click.top>=this.containment[1])?r-s.grid[1]:r+s.grid[1])):r;q=this.originalPageX+Math.round((n-this.originalPageX)/s.grid[0])*s.grid[0];n=this.containment?((q-this.offset.click.left>=this.containment[0]&&q-this.offset.click.left<=this.containment[2])?q:((q-this.offset.click.left>=this.containment[0])?q-s.grid[0]:q+s.grid[0])):q;}}return{top:(m-this.offset.click.top-this.offset.relative.top-this.offset.parent.top+((this.cssPosition==="fixed"?-this.scrollParent.scrollTop():(t?0:l.scrollTop())))),left:(n-this.offset.click.left-this.offset.relative.left-this.offset.parent.left+((this.cssPosition==="fixed"?-this.scrollParent.scrollLeft():t?0:l.scrollLeft())))};},_rearrange:function(p,o,m,n){m?m[0].appendChild(this.placeholder[0]):o.item[0].parentNode.insertBefore(this.placeholder[0],(this.direction==="down"?o.item[0]:o.item[0].nextSibling));this.counter=this.counter?++this.counter:1;var l=this.counter;this._delay(function(){if(l===this.counter){this.refreshPositions(!n);}});},_clear:function(m,o){this.reverting=false;var l,p=[];if(!this._noFinalSort&&this.currentItem.parent().length){this.placeholder.before(this.currentItem);}this._noFinalSort=null;if(this.helper[0]===this.currentItem[0]){for(l in this._storedCSS){if(this._storedCSS[l]==="auto"||this._storedCSS[l]==="static"){this._storedCSS[l]="";}}this.currentItem.css(this._storedCSS);this._removeClass(this.currentItem,"ui-sortable-helper");}else{this.currentItem.show();}if(this.fromOutside&&!o){p.push(function(q){this._trigger("receive",q,this._uiHash(this.fromOutside));});}if((this.fromOutside||this.domPosition.prev!==this.currentItem.prev().not(".ui-sortable-helper")[0]||this.domPosition.parent!==this.currentItem.parent()[0])&&!o){p.push(function(q){this._trigger("update",q,this._uiHash());});}if(this!==this.currentContainer){if(!o){p.push(function(q){this._trigger("remove",q,this._uiHash());});p.push((function(q){return function(r){q._trigger("receive",r,this._uiHash(this));};}).call(this,this.currentContainer));p.push((function(q){return function(r){q._trigger("update",r,this._uiHash(this));};}).call(this,this.currentContainer));}}function n(s,q,r){return function(t){r._trigger(s,t,q._uiHash(q));};}for(l=this.containers.length-1;l>=0;l--){if(!o){p.push(n("deactivate",this,this.containers[l]));}if(this.containers[l].containerCache.over){p.push(n("out",this,this.containers[l]));this.containers[l].containerCache.over=0;}}if(this.storedCursor){this.document.find("body").css("cursor",this.storedCursor);this.storedStylesheet.remove();}if(this._storedOpacity){this.helper.css("opacity",this._storedOpacity);}if(this._storedZIndex){this.helper.css("zIndex",this._storedZIndex==="auto"?"":this._storedZIndex);}this.dragging=false;if(!o){this._trigger("beforeStop",m,this._uiHash());}this.placeholder[0].parentNode.removeChild(this.placeholder[0]);if(!this.cancelHelperRemoval){if(this.helper[0]!==this.currentItem[0]){this.helper.remove();}this.helper=null;}if(!o){for(l=0;l<p.length;l++){p[l].call(this,m);}this._trigger("stop",m,this._uiHash());}this.fromOutside=false;return !this.cancelHelperRemoval;},_trigger:function(){if(d.Widget.prototype._trigger.apply(this,arguments)===false){this.cancel();}},_uiHash:function(l){var m=l||this;return{helper:m.helper,placeholder:m.placeholder||d([]),position:m.position,originalPosition:m.originalPosition,offset:m.positionAbs,item:m.currentItem,sender:l?l.element:null};}});}));
$.prototype.show=function(a){return function(){var c=$(this);a.call(c);if(c.hasClass("popArea")){if("1"==c.attr("showNotScroll")){var b=document.documentElement.style.overflow;if(""==b||"scroll"==b){document.documentElement.style.overflow="hidden";c.addClass("_Set_Document_Not_Scroll");}}if("1"==c.attr("midPopArea")||"1"==request("midPopArea")||"1"==c.attr("alwaysMidPopArea")){popup(c);}}if(c.hasClass("main")){if("1"==c.attr("showNeedReload")){c.find("#iframe")[0].contentWindow.location.reload();c.removeAttr("showNeedReload");}}return c;};}($.prototype.show);$.prototype.hide=function(base){return function(){var jObj=$(this);base.call(jObj);if(jObj.hasClass("popArea")){jObj.removeAttr("midPopArea");if(jObj.hasClass("_Set_Document_Not_Scroll")){document.documentElement.style.overflow="scroll";jObj.removeClass("_Set_Document_Not_Scroll");}}if(null!=jObj.attr("hideFunction")&&""!=jObj.attr("hideFunction")){eval(jObj.attr("hideFunction")+"();");}return jObj;};}($.prototype.hide);if(top==window){window.topOrigin=top;}else{var originWindow=this;originWindow.topOrigin=this;var getTop=function(){try{this.parent.history.href;originWindow.topOrigin=this.parent;this.parent.getTop();}catch(a){}};this.getTop();}Number.prototype.accAdd=function(g){var h=this;var f,d,b,l;try{f=h.toString().split(".")[1].length;}catch(k){f=0;}try{d=g.toString().split(".")[1].length;}catch(k){d=0;}l=Math.abs(f-d);b=Math.pow(10,Math.max(f,d));if(l>0){var a=Math.pow(10,l);if(f>d){h=Number(h.toString().replace(".",""));g=Number(g.toString().replace(".",""))*a;}else{h=Number(h.toString().replace(".",""))*a;g=Number(g.toString().replace(".",""));}}else{h=Number(h.toString().replace(".",""));g=Number(g.toString().replace(".",""));}return(h+g)/b;};function isOverDue(){var c=true;var b=getValueFromRoot("overdue");var a=getValueFromRoot("isuserpay");if(b!=undefined&&b=="1"){if(a=="false"){showErrorMsg("您的账号已到期，无法新增，请续费。");}else{showErrorMsg("您的账号已到期，无法新增，请续费。");}c=false;}return c;}function invkingNotAllowOperationProduct(b){var a=getValueFromRoot("productversion");if("3"==a){var c=getValueFromRoot("invking");if("3"==c){if(1==b){showErrorMsg("盘点中，不允许新增商品");}else{if(2==b){showErrorMsg("盘点中，不允许编辑商品");}else{if(3==b){showErrorMsg("盘点中，不允许删除商品");}else{if(4==b){showErrorMsg("盘点中，不允许导入商品");}else{showErrorMsg("盘点中，不允许编辑商品");}}}}return false;}}return true;}function isNotFree(){var a=getValueFromRoot("productversion");if("3"==a){return false;}return true;}$(function(){$(document).click(function(){$(".autoCompleteBox").hide();});$(document).keydown(function(d){var c=d.which;if(c==27){if($.isFunction(window.doCancel)){if(!$("#main_showTwoPage").find(".cover").is(":hidden")){$("#main_showTwoPage").find(".popArea").hide();$("#main_showTwoPage").find("#main_cover").hide();}else{doCancel("main_showPage");}}}});var a=getValueFromRoot("productversion");if("3"==a){$(".free").hide();$(".StrScan").attr("placeholder","请扫描商品编号/条形码");$(".StrScan").attr("title","请扫描商品编号/条形码");}$("#SearchKeyWord").bind("keyup",function(){if(event.keyCode=="13"){this.value=$.trim(this.value);reload(0);}});$("#keyword").bind("keyup",function(){if(event.keyCode=="13"){this.value=$.trim(this.value);reload(0);}});$(".inputmoneyf").blur(function(){var d=$.trim($(this).val());if(d!=""&&!isNaN(d)){var c=formatMoneyNoRounded(d);if(!isNaN(c.replace(/,/g,""))){$(this).val(c.replace(/,/g,""));}}});$("input").attr("spellcheck","false");$("textarea").attr("spellcheck","false");$("input").blur(function(){if(!$(this).hasClass("ls-input")&&this.className!="SFile"&&$(this).attr("name")!="levelSelect-warehouse-input"&&$(this).attr("type")!="file"){this.value=removeHTMLTag(this.value);this.value=$.trim(this.value);}});$("textarea").blur(function(){this.value=removeHTMLTag(this.value);});$(".money").each(function(){var d=$.trim($(this).html());if(isNaN(d)||d==""){d=$(this).val();}if(d!=""&&!isNaN(d)){var c=formatMoney(d,$(this));if(!isNaN(c.replace(/,/g,""))){$(this).html(c);if($(this).val()!=null&&$(this).val()!=undefined){$(this).val(c);}}}});$(".countNum").each(function(){var c=$.trim($(this).html());if(isNaN(c)||c==""){c=$(this).val();}if(c!=""&&!isNaN(c)){var d=c;if(!isNaN(d.replace(/,/g,""))){d=parseFloat(d);d=formatCount(d,"count");$(this).html(d);if($(this).val()!=null&&$(this).val()!=undefined){$(this).val(d);}}}});$(".moneyf").each(function(){var d=$.trim($(this).html());if(isNaN(d)||d==""){d=$(this).val();}if(d!=""&&!isNaN(d)){var c=formatMoney(d);if(!isNaN(c.replace(/,/g,""))){$(this).html(c.replace(/,/g,""));if($(this).val()!=null&&$(this).val()!=undefined){$(this).val(c.replace(/,/g,""));}}}});$(".countNumf").each(function(){var c=$.trim($(this).html());if(isNaN(c)||c==""){c=$(this).val();}var d=formatNumber(c,2);if(!isNaN(d.replace(/,/g,""))){$(this).html(d.replace(/,/g,""));if($(this).val()!=null&&$(this).val()!=undefined){$(this).val(d.replace(/,/g,""));}}});$(".inputmoneyf").each(function(){var d=$.trim($(this).val());if(d!=""&&!isNaN(d)){var c=formatMoney(d);if(!isNaN(c.replace(/,/g,""))){$(this).val(c.replace(/,/g,""));}}});$(".inputcountNumf").each(function(){var c=$.trim($(this).val());var d=formatNumber(c,2);if(!isNaN(d.replace(/,/g,""))){$(this).val(d.replace(/,/g,""));}});var a=getValueFromRoot("productversion");var b=getValueFromRoot("issysbranch");$(".branch").each(function(){if(a==1||a==3||a==51){$(this).hide();}});if(a==2&&b==0){$("#advancedSearchDiv").find("[id$=_branch]").hide();}jQuery.YY_post=function(e,f,k,h,g,c,d){if(d==undefined){d=true;}if(h!=undefined&&h!=null&&$(h).length>0){if($(h).hasClass("noActionButton")||$(h).hasClass("processing")){return false;}}f=(f==null||f==""||typeof(f)=="undefined")?{date:new Date().getTime()}:f;$.ajax({async:d,type:"post",data:f,url:e,dataType:"json",beforeSend:function(){loading(h);},success:function(m,l){if(m!=null&&typeof(m)!="object"&&m.indexOf("智慧商贸 登录")>-1){parent.window.location.reload(true);}k(m,l);},error:function(l){if(l!=null&&typeof(l)=="object"&&l.responseText.indexOf("智慧商贸 登录")>-1){parent.window.location.reload(true);return;}if(g!=undefined&&g!=""&&g!=null){g(l);}else{if(console!=null){console.log("操作失败："+l);}}},complete:function(){complete(h);if(c!=undefined&&c!=""&&c!=null){c();}}});};$(window).resize();});function loading(a){if($(a).length>0){$(".button").addClass("noActionButton");$(".loadding").show();$(a).addClass("processing");}}function complete(a){if($(a).length>0){$(".button").removeClass("noActionButton");$(".loadding").hide();$(a).removeClass("processing");}}function showErrorMsg(a){if(window==parent&&"undefined"!=typeof showErrorTip){showErrorTip(a);return;}parent.showErrorMsg(a);}function showSuccessMsg(a){if(window==parent&&"undefined"!=typeof showSuccessTip){showSuccessTip(a);return;}parent.showSuccessMsg(a);}function showAlertMsg(a){parent.showAlertMsg(a);}function FullBgShow(a){parent.$("#black_overlay").show();parent.$("#load_content").show();parent.$("#load_contents").text(a);}function FullBgHide(){parent.$("#black_overlay").hide();parent.$("#load_content").hide();}function request(c){var b=location.href;var d=b.substring(b.indexOf("?")+1,b.length).split("&");var a={};for(i=0;j=d[i];i++){a[j.substring(0,j.indexOf("=")).toLowerCase()]=j.substring(j.indexOf("=")+1,j.length);}var e=a[c.toLowerCase()];if(typeof(e)=="undefined"){return"";}else{return e;}}function requestByUrl(c,b){var d=b.substring(b.indexOf("?")+1,b.length).split("&");var a={};for(i=0;j=d[i];i++){a[j.substring(0,j.indexOf("=")).toLowerCase()]=j.substring(j.indexOf("=")+1,j.length);}var e=a[c.toLowerCase()];if(typeof(e)=="undefined"){return"";}else{return e;}}function guidGenerator(){var a=function(){return(((1+Math.random())*65536)|0).toString(16).substring(1);};return(a()+a()+"-"+a()+"-"+a()+"-"+a()+"-"+a()+a()+a());}function initBranchSelect(e,a,d,c){if(c==undefined){c=true;}var f=$("#"+a);if(f.length==0){return;}var b="/UCenter-webapp/Branch/getBranch.json?1=1";if(d==1){b=b+"&all="+d;}$.ajax({type:"POST",url:b,success:function(h,o){if(o=="success"){if(h.serviceResult.statu==1){var k="<option value=''>全部</option>";if(!c){k="";}var n=h.serviceResult.rows;if(n!=null){var g=n.length;for(var m=0;m<g;m++){var l=n[m].branchname;if(l.length>10){l=l.substring(0,10)+"...";}if(e==n[m].branchid){k+='<option value="'+n[m].branchid+'"  selected>'+l+"</option>";}else{k+='<option value="'+n[m].branchid+'">'+l+"</option>";}}f.empty();f.append(k);}}else{showMsg(h.serviceResult.message);}}else{alert("操作失败");}}});}function initWarehouseSelect(c,a,d){var e=$("#"+a);if(e.length==0){return;}var b="/UCenter-webapp/Warehouse/getWarehouseList.json";if(d==1){b=b+"?all="+d;}$.ajax({type:"POST",url:b,success:function(h,m){if(m=="success"){if(h.serviceResult.statu==1){var n="<option value=''>全部</option>";var k=h.serviceResult.rows;if(k!=null){var g=k.length;for(var l=0;l<g;l++){var f=k[l].warehousesimplename;if(f.length>10){f=f.substring(0,10)+"...";}if(c==k[l].warehouseid){n+='<option value="'+k[l].warehouseid+'">'+f+"</option>";}else{n+='<option value="'+k[l].warehouseid+'">'+f+"</option>";}}e.empty();e.append(n);}}else{showErrorMsg(h.serviceResult.message);}}else{}}});}function initUserSelect(d,b,e,c){var f=$("#nowarehouse").val();var g=$("#"+b);if(g.length==0){return;}var a=c;if(c==undefined||c==""){a="/UCenter-webapp/commondata/getbranchuser.json";}a=a+"?nowarehouse="+f;if(e!=null&&e!=undefined&&e!=""){a+="&type="+e;}else{a+="&param=2";}$.ajax({type:"POST",url:a,success:function(k,m){if(m=="success"){if(k!=null&&k.Items!=null){var n="<option value=''>全部</option>";var h=k.Items.length;for(var l=0;l<h;l++){var o=k.Items[l]["text"];if(o.length>10){o=o.substring(0,10)+"...";}n+='<option value="'+k.Items[l]["value"]+'">'+o+"</option>";}g.empty();g.append(n);}else{showErrorMsg("加载用户下拉框失败");}}else{}}});}function initAccountSelect(h,b,d){var g=$("#"+b);if(g.length==0){return;}var c=$(parent.document).find("#productversion").val();var e=$(parent.document).find("#issysbranch").val();var f={};f.page="1";f.rp="30";f.sortname="UpdateDate";f.sortorder="desc";var a="/UCenter-webapp/Account/page.json";if(d!=null&&d!=undefined){a+="?type="+d;}jQuery.YY_post(a,f,function(k,n){if(n=="success"){if(k!=null&&k!=undefined&&k.rows!=null){var m="<option value=''>全部</option>";var p=k.rows;for(var l=0;l<p.length;l++){var r=p[l];var o=r.accountsimplename;if(o.length>10){o=o.substring(0,10)+"...";}if(c==2&&e==1){o=r.branchname+">"+o;}var q=r.accountid;m+='<option value="'+q+'">'+o+"</option>";}g.empty();g.append(m);}else{showErrorMsg("加载账户下拉框失败");}}else{showMsg("导出失败");}});}$.fn.serializeObject=function(){var c={};var b=this.serializeArray();$.each(b,function(){if(c[this.name]){if(!c[this.name].push){c[this.name]=[c[this.name]];}c[this.name].push(this.value||"");}else{c[this.name]=this.value||"";}});return c;};function formatMoney(b,c,a){if(!/^(-?\d+)(\.\d+)?$/.test(b)){return b;}var f=2;try{var f=parent.document.getElementById("PriceDecimalDigits").value;if(!f){f=document.getElementById("PriceDecimalDigits").value;}if(!f){f=2;}}catch(d){}if(null!=c&&null!=c&&c.hasClass("precision2")){f=2;}if("undefined"!=typeof a&&null!=a&&"boolean"!=typeof a&&!isNaN(a)){f=a;}return formatNumber(b,f);}function formatCount(c,a){if(!/^(-?\d+)(\.\d+)?$/.test(c)){return c;}var f=2;try{var b=window.location.href;if(b.indexOf("QueryProducts/costDetailPage.htm")>=0){f=parent.parent.document.getElementById("CountDecimalDigits").value;}else{if(b.indexOf("sharebill/GetBillLink.htm")>=0){f=$("#CountDecimalDigits").val();}else{f=parent.document.getElementById("CountDecimalDigits").value;}}if(!f){f=document.getElementById("CountDecimalDigits").value;}if(!f){f=2;}}catch(d){console.log(d);}return formatNumber(c,f,a);}function formatNumber(b,g,a){try{if(g>4){g=4;}b=parseFloat(b);if(a!="count"){b=String(b.toFixed(g));}else{b=String(b.toFixed(g));b=parseFloat(b);}var f=b.split(".");var c=/(-?\d+)(\d{3})/;while(c.test(f[0])){f[0]=f[0].replace(c,"$1,$2");}if(g<=0){b=f[0];}else{b=f[0]+"."+f[1];}if(b=="-0.0"){b="0.0";}if(b=="-0.00"){b="0.00";}if(b=="-0.000"){b="0.000";}if(b=="-0.0000"){b="0.0000";}}catch(d){}return b;}function formatMoneyN(b,c,a){if(b.toString().indexOf("e-")<0&&!/^(-?\d+)(\.\d+)?$/.test(b)){return b;}var f=2;try{var f=parent.document.getElementById("PriceDecimalDigits").value;if(!f){f=document.getElementById("PriceDecimalDigits").value;}if(!f){f=2;}}catch(d){}if(null!=c&&null!=c&&c.hasClass("precision2")){f=2;}if("undefined"!=typeof a&&null!=a&&"boolean"!=typeof a&&!isNaN(a)){f=a;}try{b=formatNumberN(b,f);}catch(d){}return b;}function formatCountN(b){if(!/^(-?\d+)(\.\d+)?$/.test(b)){return b;}var d=2;try{var a=window.location.href;if(a.indexOf("InventoryReport/ListByAll.htm")>=0||a.indexOf("BuyReport/ListByProduct.htm")>=0||a.indexOf("SaleReport/Init1.htm")>=0||a.indexOf("SaleReport/DetailInit11.htm")>=0){d=parent.parent.document.getElementById("CountDecimalDigits").value;}else{d=parent.document.getElementById("CountDecimalDigits").value;}if(!d){d=document.getElementById("CountDecimalDigits").value;}if(!d){d=2;}}catch(c){}try{b=formatNumberN(b,d);}catch(c){}return b;}function formatNumberN(a,c){try{a=Number(a);a=a.toFixed(Number(c));}catch(b){}return a;}Number.prototype.toFixed=function(b){var c=this;changenum=(parseInt(Math.abs(this)*Math.pow(10,b)+0.5)/Math.pow(10,b)).toString();index=changenum.indexOf(".");if(index<0&&b>0){changenum=changenum+".";for(var a=0;a<b;a++){changenum=changenum+"0";}}else{index=changenum.length-index;for(var a=0;a<(b-index)+1;a++){changenum=changenum+"0";}}if(this<0){return"-"+changenum;}else{return changenum;}};Number.prototype.formatMoney=function(a){var b=this+"";return formatMoneyN(parseFloat(b.replace(/,/g,"")),null,a);};Number.prototype.formatMoney3=function(){var a=this+"";return formatMoney(parseFloat(a.replace(/,/g,"")));};Number.prototype.formatMoney2=function(){var a=this+"";return formatMoneyNoRounded(parseFloat(a.replace(/,/g,"")));};Number.prototype.formatNum=function(){var g=false;if(window.location.href.indexOf("Sale/List")>=0||window.location.href.indexOf("SaleOrder/List.htm")>=0||window.location.href.indexOf("SaleOrder/OnlineList.htm")>=0||window.location.href.indexOf("SaleReturn/List")>=0||window.location.href.indexOf("Buy/List")>=0||window.location.href.indexOf("BuyOrder/List.htm")>=0||window.location.href.indexOf("BuyReturn/List")>=0||window.location.href.indexOf("InvTak/List")>=0||window.location.href.indexOf("Assembly/List")>=0||window.location.href.indexOf("Transfer/List")>=0||window.location.href.indexOf("InStorage/List")>=0||window.location.href.indexOf("OutStorage/List")>=0||window.location.href.indexOf("InStorage/HasList")>=0||window.location.href.indexOf("OutStorage/HasList")>=0||window.location.href.indexOf("Borrow/List")>=0||window.location.href.indexOf("Lend/List")>=0||window.location.href.indexOf("QueryProducts/List")>=0||window.location.href.indexOf("QueryProducts/StockDetail.htm")>=0||window.location.href.indexOf("QueryProductSN/List")>=0||window.location.href.indexOf("BuyReport/List")>=0||window.location.href.indexOf("SaleReport/Init")>=0||window.location.href.indexOf("InventoryReport/List")>=0||window.location.href.indexOf("ViewInitData/List")>=0||window.location.href.indexOf("Warning/Init1.htm")>=0||window.location.href.indexOf("SaleOrder/Detail.htm")>=0||window.location.href.indexOf("Sale/Detail.htm")>=0||window.location.href.indexOf("SaleReturn/Detail.htm")>=0||window.location.href.indexOf("BuyOrder/Detail.htm")>=0||window.location.href.indexOf("Buy/Detail.htm")>=0||window.location.href.indexOf("BuyReturn/Detail.htm")>=0||window.location.href.indexOf("InvTak/Detail.htm")>=0||window.location.href.indexOf("Assembly/detail.htm")>=0||window.location.href.indexOf("InStorage/NoDetail.htm")>=0||window.location.href.indexOf("InStorage/Detail.htm")>=0||window.location.href.indexOf("OutStorage/NoDetail.htm")>=0||window.location.href.indexOf("OutStorage/Detail.htm")>=0||window.location.href.indexOf("Borrow/Detail.htm")>=0||window.location.href.indexOf("Lend/Detail.htm")>=0){g=true;}var f=this+"";if(f!=undefined&&f!=null&&f!=""){var h=String(f).split(".")[1];if(h!=undefined&&h!=null&&h!=""){var a=String(h).length;var e=$(parent.document).find("#CountDecimalDigits").val();var d=$(parent.document).find("#productversion").val();if(d!=undefined&&d!=3){if(a>e){var c=getCookie("countTip");if(c==null||c==undefined||c==""||c!=1){if(g==false){window.parent.showMainAlert("抱歉，系统设置数量小数位为"+e+"位，无法输入更多位数，请在网页端业务设置处设置支持更多小数位");setCookie("countTip","1");}}}}}}var b=f.replace(/,/g,"");if(isNaN(b)){f="";return;}return parseFloat(formatCountN(parseFloat(f.replace(/,/g,""))));};Number.prototype.formatNumPopList=function(){var a=this+"";return parseFloat(formatCountN(parseFloat(a.replace(/,/g,""))));};function isIntegerca(c){var b=Number(c);if(c!=""){var a=/^[-]{0,1}[0-9]{1,}$/;return a.test(b.toString());}return true;}function formatCountOnKeyUp(g){var c=$(g).val();if(c!=undefined&&null!=c&&""!=c){if(c.indexOf(".")>=0){if(c.indexOf(".")==0){$(g).val("");return;}var h=String(c).split(".")[1];if(h!=undefined&&h!=null&&h!=""){var a=String(h).length;var f=$(parent.document).find("#CountDecimalDigits").val();if(a>f){var d=c.indexOf(".");c=c.substring(0,Number(d)+Number(f)+1);var b=getCookie("countTip");var e=$(parent.document).find("#productversion").val();if(e!=undefined&&e!=3){if(b==null||b==undefined||b==""||b!=1){showErrorMsg("抱歉，系统设置数量小数位为"+f+"位，无法输入更多位数，请在网页端业务设置处设置支持更多小数位");setCookie("countTip","1");}}$(g).val(c);}}}}}function formatCountOnKeyUpDown(e){var b=$(e).val();if(b!=undefined&&null!=b&&""!=b){if(b.indexOf(".")>=0){if(b.indexOf(".")==0){$(e).val("");return;}var f=String(b).split(".")[1];if(f!=undefined&&f!=null&&f!=""){var a=String(f).length;var d=$(parent.document).find("#CountDecimalDigits").val();if(a>d){var c=b.indexOf(".");b=b.substring(0,Number(c)+Number(d)+1);$(e).val(b).change();}}}}}function removeHTMLTag(a){a=a.replace(/\</g,"《");a=a.replace(/\>/g,"》");a=a.replace(/[ | ]*\n/g,"\n");a=a.replace(/&nbsp;/ig,"");a=a.replace(/\'/g,"’");return a;}function checkCurrentSob(b){var a=false;$.ajax({url:"/UCenter-webapp/SysReset/checkSOB.json",type:"post",data:{},cache:false,async:false,dataType:"json",success:function(c,d){if(false==c.isoldsob){a=false;}else{if(1!=b){showErrorMsg("当前为已结存账套，不可做任何改动");}a=true;}},error:function(){showErrorMsg("未知错误");}});return a;}function getValueFromRoot(c){var a;try{if($("#"+c).length>0){a=$("#"+c).val();}if(parent.$("#"+c).length>0){a=parent.$("#"+c).val();}if(parent.parent.$("#"+c).length>0){a=parent.parent.$("#"+c).val();}}catch(b){}return a;}function checkPerm(g,k,b,h){if("PERM_ADD"==k||"PERM_WB"==k||"PERM_STOP"==k||"PERM_DELETE"==k||"PERM_ADD_EDIT"==k||"PERM_REC"==k||"PERM_IMP"==k||"PERM_PAY"==k||"PERM_TURN_BUY"==k||"PERM_BACK"==k||"PERM_AUDIT"==k||"PERM_WAREHOUSE_IN"==k||"PERM_TURN_SALE"==k||"PERM_WAREHOUSE_OUT"==k){var c=checkCurrentSob(h);if(c){if(1!=h){showErrorMsg("当前为已结存账套，不可做任何改动");}return;}}var d=getValueFromRoot("isAdminRole");var a=getValueFromRoot("ResPerm_"+g+"_"+k);var l=getValueFromRoot("issysbranch");if(l!=1&&("100201"==g||"100202"==g)){}else{if(d=="true"){return true;}try{if(a==1){return true;}}catch(f){}}try{if(b!=false){parent.showErrorMsg("您没有操作权限！");}}catch(f){}return false;}function getDays(d,f,b){var k=new Date();var h;var g;var c;h=d.split(b);g=f.split(b);var e=new Date(h[0],h[1]-1,h[2]);var a=new Date(g[0],g[1]-1,g[2]);if(a>k){c=parseInt(Math.abs(e-k)/1000/60/60/24);}else{c=parseInt(Math.abs(e-a)/1000/60/60/24);}return c+1;}function getDecimalNum(){var b=2;try{b=parent.document.getElementById("PriceDecimalDigits").value;if(!b){b=document.getElementById("PriceDecimalDigits").value;}if(!b){b=2;}}catch(a){}return b;}function getCountDecimalNum(){var b=2;try{b=parent.document.getElementById("CountDecimalDigits").value;if(!b){b=document.getElementById("CountDecimalDigits").value;}if(!b){b=2;}}catch(a){}return b;}function formatMoneyNoRounded(a){if(!/^(-?\d+)(\.\d+)?$/.test(a)){return a;}var c=2;try{var c=parent.document.getElementById("PriceDecimalDigits").value;if(!c){c=2;}}catch(b){}return formatNumberNoRounded(a,c);}function formatCountNoRounded(a){if(!/^(-?\d+)(\.\d+)?$/.test(a)){return a;}var c=2;try{var c=parent.document.getElementById("CountDecimalDigits").value;if(!c){c=2;}}catch(b){}return formatNumberNoRounded(a,c);}function formatNumberNoRounded(a,h){try{if(h>4){h=4;}if(a.indexOf(".")>0&&a.split(".")[1].length>5){a=(""+a).substr(0,a.indexOf(".")+6);}a=parseFloat(a);if((""+a).indexOf(".")>0){var d=(""+a).split(".")[1].length;for(var b=0;b<10-d;b++){a=a+"0";}}else{a=a+".0000000000";}var g=a.split(".");var c=/(-?\d+)(\d{3})/;while(c.test(g[0])){g[0]=g[0].replace(c,"$1,$2");}if(h<=0){a=g[0];}else{a=g[0]+"."+g[1].substr(0,h);}}catch(f){}return a.replace(/,/g,"");}function openExtExploer(b){try{var e={};e.method="openExtExploer";var d={};d.url=b;e.param=d;var a=JSON.stringify(e);parent.parent.postMessage(a,"file:///");parent.parent.postMessage(a,"qrc:///");}catch(c){}}window.onresize=function(){var clientwidth=$(window).width();var clientheight=$(window).height();var mwidth=$("#main_showPage .popArea").width();var mheight=$("#main_showPage .popArea").height();if(mwidth!=null){$("#main_showPage .popArea").css("left",((clientwidth-mwidth)/2)+"px");}if(mheight!=null){$("#main_showPage .popArea").css("top",((clientheight-mheight)/2)+"px");}var twidth=$("#main_showTwoPage .popArea").width();var theight=$("#main_showTwoPage .popArea").height();if(twidth!=null){$("#main_showTwoPage .popArea").css("left",((clientwidth-twidth)/2)+"px");$("#main_showTwoPage .popArea").css("top",((clientheight-theight)/2)+"px");}$("[autoEqualWidthWith]").each(function(){var el=$(this).attr("autoEqualWidthWith");el=el.replace(/'/g,'"');var equalObj=null;if(el.indexOf("$")!=-1){equalObj=$(eval(el));}else{equalObj=$($("[autoEqualWidthWith="+el+"]")[0]);}var equalOuterWidth=equalObj.outerWidth();var thisBorderWidth=Number($(this).outerWidth())-Number($(this).width());$(this).removeAttr("width");$(this).css("width",Number(equalOuterWidth)-thisBorderWidth+"px");});autoEqualHeightWith();};function autoEqualHeightWith(){$("[autoEqualHeightWith]").each(function(){var el=$(this).attr("autoEqualHeightWith");el=el.replace(/'/g,'"');var equalObj=null;if(el.indexOf("$")!=-1){equalObj=$(eval(el));}else{equalObj=$($("[autoEqualHeightWith="+el+"]")[0]);}var equalOuterHeight=equalObj.outerHeight();var thisBorderHeight=Number($(this).outerHeight())-Number($(this).height());$(this).removeAttr("height");$(this).css("height",Number(equalOuterHeight)-thisBorderHeight+"px");});}function popup(g){if(checkCurrentSob()){if(window.location.href.indexOf("SysConfig/List")>=0){$(".cover").hide();}return;}var f=$(document).scrollTop(),b=$(window).height(),a=$(window).width(),d=g.height(),c=g.width();_posiTop=(b-d)/2+f;_posiLeft=(a-c)/2;var e=$(parent.document).find("#productversion").val();var h=false;if(e==51&&g.attr("id")=="popAccountPeriod"){g.css({display:"block"});h=true;}if(!h){g.css({left:_posiLeft+"px",top:_posiTop+"px",display:"block"});}}function shareByQQ(e){var f={url:location.href,desc:"",title:"单据分享",summary:"",pics:"",flash:"",site:"智慧商贸",style:"201",width:32,height:32};var d=$.extend(f,e);d.desc=d.desc.replace(/[\r\n]/g,"");var c=[];for(var b in d){c.push(b+"="+encodeURIComponent(d[b]||""));}var a=["http://connect.qq.com/widget/shareqq/index.html?",c.join("&")].join("");return a;}function getNearSaleUnitId(b,d){var a=$("#choose-warehouse-parentval").val();if(a==undefined){a=parent.$(".main:visible").find("#iframe")[0].contentWindow.$("#choose-warehouse-parentval").val();}var e="";var c="/UCenter-webapp/Sale/getNearSalePrice.json";$.ajax({dataType:"json",data:{productid:b,productunit:"",clientid:"",clientname:"",billtype:d,branchid:a},url:c,cache:false,type:"post",async:false,success:function(f){if(f!=null&&f.unitid!=null&&f.unitid!=""){e=f.unitid;}},error:function(){}});return e;}function getNearProductTranUnit(a){var b="";$.ajax({dataType:"json",data:{productid:a},cache:false,async:false,url:"/UCenter-webapp/Transfer/getNearProductTranUnit.json?"+Math.random(),type:"post",success:function(c){if(jQuery.isEmptyObject(c)==false){if(c.isSuccess==1){b=c.productUnitId;}}},error:function(){}});return b;}function initInputElemnt(){var b=[];var a=0;$("input[type='text']").each(function(){$(this).attr("enterindex",a);b.push({elementIndex:a,rowobj:$(this)});a++;});return b;}function initFocus(){var b=$("#choose-warehouse-val").val();var a=location.href;if(a.indexOf("Order")>0||b!=""){var d=false;var c=0;$("input[type='text']").each(function(){var f=$(this).attr("name");var e=$(this).attr("readonly");var g=$(this).attr("disabled");var h=$(this).is(":hidden");$(this).attr("enterindex",c);if(!d&&f!="txbBusiNo"&&f!="txbBusiDate"&&e==undefined&&g==undefined&&h==false){$(this).focus();$(this).select();d=true;}});}$(document).keydown(function(g){var e=g.which;if(e==13){focusNext(g);}if(e=="37"){focusLeft(g);return false;}if(e=="38"){focusUp(g);return false;}if(e=="39"){focusRight(g);return false;}if(e=="40"){focusDown(g);return false;}if(e=="119"){if($("#txbreceamt")){$("#txbreceamt").focus();$("#txbreceamt").select();return false;}}if(e=="120"){$("#activebutton").val("F9");$("#tabdetail").find("tr").each(function(){var k=$(this).find('input[name="hidProductId"]');var h=$(this).find("input[name='txbCount']");if(k.length>0&&""!=$(k).val()){$(h).change();}});var f=location.href;if(f.indexOf("Edit")>0){savebill(1);}else{savebill(0);}return false;}});}function focusNextByObj(g){var f=initInputElemnt();var d=g;var c=$(d).attr("name");if(c=="StrScan"){return true;}var a=$(d).val();if(c!="txbProductName"&&c!="txbProductCode"){var e=Number($(d).attr("enterindex"));var b=false;$.each(f,function(l,o){if(o.elementIndex>e){var k=$(o.rowobj).attr("name");var h=$(o.rowobj).attr("readonly");var m=$(o.rowobj).attr("disabled");var n=$(o.rowobj).is(":hidden");if(!b&&k!="txbBusiNo"&&k!="txbBusiDate"&&h==undefined&&m==undefined&&n==false){$(o.rowobj).focus();$(o.rowobj).select();b=true;}}});}else{if(a==""){selectproduct(GetEmptyRow());$(d).focus();}}}function focusNext(d){var g=initInputElemnt();var e=d.target;var c=$(e).attr("name");if(c=="StrScan"){return true;}var a=$(e).val();if(c=="txbCr"&&a!=""&&!$(".autoCompleteBox").is("hidden")){return true;}if(c!="txbProductName"&&c!="txbProductCode"){var f=Number($(e).attr("enterindex"));var b=false;$.each(g,function(l,o){if(o.elementIndex>f){var k=$(o.rowobj).attr("name");var h=$(o.rowobj).attr("readonly");var m=$(o.rowobj).attr("disabled");var n=$(o.rowobj).is(":hidden");if(!b&&k!="txbBusiNo"&&k!="txbBusiDate"&&h==undefined&&m==undefined&&n==false){$(o.rowobj).focus();$(o.rowobj).select();b=true;}}});}else{if(a==""){selectproduct(GetEmptyRow());$(e).focus();}}}function focusRight(c){var f=initInputElemnt();var d=c.target;var b=$(d).attr("name");if((b=="txbProductName"||b=="txbProductCode")&&$(d).val()!=""){return true;}var e=Number($(d).attr("enterindex"));var a=false;$.each(f,function(k,n){if(n.elementIndex>e){var h=$(n.rowobj).attr("name");var g=$(n.rowobj).attr("readonly");var l=$(n.rowobj).attr("disabled");var m=$(n.rowobj).is(":hidden");if(!a&&h!="txbBusiNo"&&h!="txbBusiDate"&&g==undefined&&l==undefined&&m==false){$(n.rowobj).focus();$(n.rowobj).select();a=true;}}});}function focusLeft(a){var l=initInputElemnt();var m=a.target;var k=$(m).attr("name");if((k=="txbProductName"||k=="txbProductCode")&&$(m).val()!=""){return true;}var g=Number($(m).attr("enterindex"));var h=false;for(var e=l.length-1;e>=0;e--){if(l[e].elementIndex<g){var b=$(l[e].rowobj).attr("name");var f=$(l[e].rowobj).attr("readonly");var d=$(l[e].rowobj).attr("disabled");var c=$(l[e].rowobj).is(":hidden");if(!h&&b!="txbBusiNo"&&b!="txbBusiDate"&&f==undefined&&d==undefined&&c==false){$(l[e].rowobj).focus();$(l[e].rowobj).select();h=true;}}}}function focusUp(a){var l=initInputElemnt();var m=a.target;var k=$(m).attr("name");if((k=="txbProductName"||k=="txbProductCode")&&$(m).val()!=""){return true;}var g=Number($(m).attr("enterindex"));var h=false;for(var e=l.length-1;e>=0;e--){var b=$(l[e].rowobj).attr("name");if(l[e].elementIndex<g&&k==b){var f=$(l[e].rowobj).attr("readonly");var d=$(l[e].rowobj).attr("disabled");var c=$(l[e].rowobj).is(":hidden");if(!h&&b!="txbBusiNo"&&b!="txbBusiDate"&&f==undefined&&d==undefined&&c==false){$(l[e].rowobj).focus();$(l[e].rowobj).select();h=true;}}}if(!h){for(var e=l.length-1;e>=0;e--){var b=$(l[e].rowobj).attr("name");if(l[e].elementIndex<g&&b=="txbRowRemark"){var f=$(l[e].rowobj).attr("readonly");var d=$(l[e].rowobj).attr("disabled");var c=$(l[e].rowobj).is(":hidden");if(!h&&b!="txbBusiNo"&&b!="txbBusiDate"&&f==undefined&&d==undefined&&c==false){$(l[e].rowobj).focus();$(l[e].rowobj).select();h=true;}}}}}function focusDown(e){var h=initInputElemnt();var f=e.target;var d=$(f).attr("name");var a=false;$(".autoCompleteBox").each(function(){if(!$(this).is(":hidden")){a=true;return;}});if(a){return true;}if((d=="txbProductName"||d=="txbProductCode")&&$(f).val()!=""){return true;}var g=Number($(f).attr("enterindex"));var c=false;$.each(h,function(m,p){var l=$(p.rowobj).attr("name");if(p.elementIndex>g&&d==l){var k=$(p.rowobj).attr("readonly");var n=$(p.rowobj).attr("disabled");var o=$(p.rowobj).is(":hidden");if(!c&&l!="txbBusiNo"&&l!="txbBusiDate"&&k==undefined&&n==undefined&&o==false){$(p.rowobj).focus();$(p.rowobj).select();c=true;}}});if(!c){$.each(h,function(m,p){var l=$(p.rowobj).attr("name");if(p.elementIndex>g&&l=="txbProductName"){var k=$(p.rowobj).attr("readonly");var n=$(p.rowobj).attr("disabled");var o=$(p.rowobj).is(":hidden");if(!c&&l!="txbBusiNo"&&l!="txbBusiDate"&&k==undefined&&n==undefined&&o==false){$(p.rowobj).focus();$(p.rowobj).select();c=true;}}});}var b=b();$.each(b,function(m,p){var l=$(p.rowobj).attr("name");if(p.elementIndex>g&&l=="salediv"){var k=$(p.rowobj).attr("readonly");var n=$(p.rowobj).attr("disabled");var o=$(p.rowobj).is(":hidden");if(!c&&l!="txbBusiNo"&&l!="txbBusiDate"&&k==undefined&&n==undefined&&o==false){$(p.rowobj).focus();$(p.rowobj).select();c=true;}}});}function formatProductCount(a){a=formatNumber(a,2);a=a.replace(/0+?$/,"");a=a.replace(/[.]$/,"");return a;}Date.prototype.format=function(b){var c={"M+":this.getMonth()+1,"d+":this.getDate(),"h+":this.getHours(),"m+":this.getMinutes(),"s+":this.getSeconds(),"q+":Math.floor((this.getMonth()+3)/3),S:this.getMilliseconds()};if(/(y+)/.test(b)){b=b.replace(RegExp.$1,(this.getFullYear()+"").substr(4-RegExp.$1.length));}for(var a in c){if(new RegExp("("+a+")").test(b)){b=b.replace(RegExp.$1,RegExp.$1.length==1?c[a]:("00"+c[a]).substr((""+c[a]).length));}}return b;};function gopay(){layer.open({type:1,title:false,area:["500px","450px"],fix:true,maxmin:false,closeBtn:false,scrollbar:false,content:$("#openFreeBuyPay"),success:function(a,b){$("#freebuyclose").click(function(){layer.close(b);});}});}function gobuypay(){var f=parent.$("#contactid").val();var e=$("#tdAmt").text().replace("元","");var c=$("#hidPayEndDate").val();if(c==""||c<((new Date()).format("yyyy-MM-dd"))){c=(new Date()).format("yyyy-MM-dd");}var d=$("#selYear").val();var a=new Date(c);a.setTime(a.getTime()+365*24*60*60*1000*Number(d));var g=a.format("yyyy-MM-dd");layer.closeAll();var b="http://pay.zhsmjxc.com";window.open(b+"/login/AddServiceinit.htm?ProductType=1&ServiceId=4a69e5f4-c951-41c1-8980-15d9c1817b34&ContactId="+f+"&Price="+e+"&ServiceName=移动支付服务费&Spec=移动支付服务费(120元1年)&StartDate="+c+"&EndDate="+g+"&Validate="+d+"年");if($("#hidPayEndDate").val()!=""){layer.alert("请您在新打开的页面进行支付，支付完成前请不要关闭此窗口。<br /><br />购买服务：移动支付*"+d+'年<br />待付款金额：<span style="color:red">'+e+"</span>元",{area:["450px","230px"],title:"付款提示",btn:["我已完成支付","支付失败"],btn2:function(h){layer.close(h);parent.addTabByTitleAndUrl("业务设置","SysConfig/List.htm","SysConfig-List","WBI",true);}},function(h){layer.close(h);parent.addTabByTitleAndUrl("业务设置","SysConfig/List.htm","SysConfig-List","WBI",true);});}}function calFreePayAmt(a){$("#tdAmt").text(120*Number($(a).find("option:selected").val())+"元");}function isOpenHX(){var a=null;$.ajax({async:false,type:"post",data:{configcode:"IsOpenWriteOff"},url:"/UCenter-webapp/SysConfig/getSysConfig.json",dataType:"json",success:function(c,b){if(c!=null&&typeof(c)!="object"&&c.indexOf("智慧商贸 登录")>-1){parent.window.location.reload(true);}if(null!=c.configSBList&&undefined!=c.configSBList&&undefined!=c.configSBList[0]){if("1"==c.configSBList[0].configvalue){a=true;}}else{a=false;}}});return a;}function isOpenClientRankPrice(){var a=null;$.ajax({async:false,type:"post",data:{configcode:"IsOpenClientRankPrice"},url:"/UCenter-webapp/SysConfig/getSysConfig.json",dataType:"json",success:function(c,b){if(c!=null&&typeof(c)!="object"&&c.indexOf("智慧商贸 登录")>-1){parent.window.location.reload(true);}if(null!=c.configSBList&&undefined!=c.configSBList&&undefined!=c.configSBList[0]){if("1"==c.configSBList[0].configvalue){a=true;}}else{a=false;}}});return a;}function isOpenAccountPeriod(){var a=null;$.ajax({async:false,type:"post",data:{configcode:"IsOpenAccountPeriod"},url:"/UCenter-webapp/SysConfig/getSysConfig.json",dataType:"json",success:function(c,b){if(c!=null&&typeof(c)!="object"&&c.indexOf("智慧商贸 登录")>-1){parent.window.location.reload(true);}if(null!=c.configSBList&&undefined!=c.configSBList&&undefined!=c.configSBList[0]){if("1"==c.configSBList[0].configvalue){a=true;}}else{a=false;}}});return a;}function getNextAccountPeriodRangeStartdate(m,g){var p={};g=parseInt(g);var b=new Date(String(m).substring(0,10).replace("-","/").replace("-","/"));var h=b.getFullYear();var d=b.getMonth()+1;var k=b.getDate();var l=d+g;var e=((l/12)+"").split(".")[0];e=parseInt(e);var c=h+e;var o=l-e*12;var f=null;if(o==2){if(k>=29){if((c%4==0&&c%100!=0)||c%400==0){f=29;}else{f=28;}}else{f=k;}}else{if(k>=30){switch(o){case 1:case 3:case 5:case 7:case 8:case 10:case 12:f=k;break;case 4:case 6:case 9:case 11:f=30;break;}}else{f=k;}}var a=moment();a.year(c);a.month(o-1);a.date(f);var n=a.format("YYYY-MM-DD");return n;}function getDateMinusOne(b){var b=new Date(b.substring(0,10).replace("-","/").replace("-","/"));var d=b.getMonth()+1;var a=b.getDate();var c=null;if(d==1&&a==1){c=b.getFullYear()-1;d=12;a=31;return c+"-"+(d<10?"0"+d:d)+"-"+(a<10?"0"+a:a);}else{c=b.getFullYear();}if(d==3&&a==1){if((c%4==0&&c%100!=0)||c%400==0){d=2;a=29;return c+"-"+(d<10?"0"+d:d)+"-"+(a<10?"0"+a:a);}else{d=2;a=28;return c+"-"+(d<10?"0"+d:d)+"-"+(a<10?"0"+a:a);}}else{if(a==1){switch(d){case 4:case 6:case 8:case 9:case 11:a=31;d=d-1;break;case 2:case 5:case 7:case 10:case 12:a=30;d=d-1;break;}}else{a=a-1;d=d;}return c+"-"+(d<10?"0"+d:d)+"-"+(a<10?"0"+a:a);}}function getBusiUserId(c,e,b,d){var a=null;$.ajax({dataType:"json",data:{busiid:e,querycontactidsobid:b,queryio:d},cache:false,async:false,url:"/UCenter-webapp/Sale/getBusiUserById.json?"+Math.random(),type:"post",success:function(f){if(f.busiuserid!=c&&f.createuserid!=c){a=true;}else{a=false;}},error:function(){showMsg("验证查看他人单据权限失败");return false;}});return a;}function getClientByName(b){var a=null;$.ajax({async:false,url:"/UCenter-webapp/ClientInfo/GetRecordByName.json",data:{clientname:b},type:"post",cache:false,dataType:"json",success:function(e){var d=e.serviceResult;var c=d.statu;if("1"==c){a=d.t;}},error:function(){}});return a;}function getSupplierByName(b){var a=null;$.ajax({async:false,url:"/UCenter-webapp/SupplierInfo/GetRecordByName.json",data:{suppliername:b},type:"post",cache:false,dataType:"json",success:function(e){var d=e.serviceResult;var c=d.statu;if("1"==c){a=d.t;}},error:function(){}});return a;}function getSobStateLevelSect(){var a=false;$.ajax({dataType:"json",data:{},cache:false,async:false,url:"/UCenter-webapp/commondata/getsobstate.json?"+Math.random(),type:"post",success:function(b){if(b.data=="3"){a=false;}else{a=true;}},error:function(){}});return a;}function checkUserPrintType(){var a="0";var b=null;b=request("pid");if(null==b||""==b||undefined==b){b=getCookie("pid");}$.ajax({type:"POST",url:"/UCenter-webapp/Print/getUserPrintType.json?pid="+b,async:false,data:{},success:function(c,d){if("0"==c.printtype){a="0";}else{a="1";}}});if("0"==a&&!isSupportDefaultPrint()){a="1";}return a;}function dynamicLoadScript(b,a){var c=null;if(window.XMLHttpRequest){c=new XMLHttpRequest();}else{if(window.ActiveXObject){c=new ActiveXObject("MsXml2.XmlHttp");}}c.onreadystatechange=function(){if(c.readyState==4){if(c.status==200||c.status==304){loadJavaScriptBySource(b,a,c.responseText);}else{console.log("XML request error: "+c.statusText+" ("+c.status+")");}}};c.open("GET",a,false);c.send(null);}function loadJavaScriptBySource(b,a,e){if((e!=null)&&(!document.getElementById(b))){var d=document.getElementsByTagName("HEAD").item(0);var c=document.createElement("script");c.language="javascript";c.type="text/javascript";c.id=b;c.text=e;d.appendChild(c);}}function isSupportDefaultPrint(){if("undefined"==typeof Report){var d=false;$("script").each(function(){if(null!=$(this).attr("src")&&$(this).attr("src").indexOf("CreateControl.js")>0){d=true;}});if(!d){try{var c=Math.random();var h=top.$("#BasePath_WMAIN").val()+"printreport/CreateControl.js?version="+c;var g=top.$("#BasePath_WMAIN").val()+"printreport/GRInstall.js?random="+c;dynamicLoadScript("loadScriptCreateControl",h);dynamicLoadScript("loadScriptGRInstall",g);CreateReport("Report",null,1);}catch(k){console.log(k);}}else{CreateReport("Report",null,1);}}if("undefined"!=typeof Report&&"undefined"!=typeof Report.Register){return true;}else{return false;}var a=true;var b={};var l=navigator.userAgent.toLowerCase();try{b.name=!-[1,]?"ie":(l.indexOf("firefox")>0)?"firefox":(l.indexOf("chrome")>0)?"chrome":window.opera?"opera":window.openDatabase?"safari":"unkonw";}catch(k){}try{b.version=(b.name=="ie")?l.match(/msie ([\d.]+)/)[1]:(b.name=="firefox")?l.match(/firefox\/([\d.]+)/)[1]:(b.name=="chrome")?l.match(/chrome\/([\d.]+)/)[1]:(b.name=="opera")?l.match(/opera.([\d.]+)/)[1]:(b.name=="safari")?l.match(/version\/([\d.]+)/)[1]:"0";}catch(k){}var f=window.navigator.platform;var m=window.navigator.appVersion;if(f.indexOf("64")>0||m.indexOf("x64")>0){a=false;return a;}try{if("Chrome"==getBrowserName()&&(b.version.indexOf(".")>-1?b.version.substring(0,b.version.indexOf(".")):b.version)>42){a=false;}else{if("FF"==getBrowserName()&&b.version>51){a=false;}else{if("IE"==getBrowserName()&&(navigator.userAgent.indexOf("Edge")>-1||window.navigator.platform.indexOf("64")>-1)){a=false;}}}}catch(k){alert(k);}return a;}function _mime(c,d){var b=navigator.mimeTypes;for(var a in b){if(b[a][c]==d){return true;}}return false;}function getBrowserName(){var b=navigator.userAgent;var a=b.indexOf("Opera")>-1;if(a){return"Opera";}if(b.indexOf("Chrome")>-1&&b.indexOf("Safari")>-1&&_mime("type","application/vnd.chromium.remoting-viewer")){return"360";}if(b.indexOf("Firefox")>-1){return"FF";}if(b.indexOf("QQBrowser")>-1){return"QQ";}if(b.indexOf("Chrome")>-1&&b.indexOf("Safari")>-1&&b.indexOf("Edge")==-1){return"Chrome";}if(b.indexOf("Safari")>-1&&b.indexOf("Chrome")==-1){return"Safari";}if((!!window.ActiveXObject||"ActiveXObject" in window||b.indexOf("MSIE")||b.indexOf("Edge"))&&!a){return"IE";}return"未知";}function removeStopPrint(){var a=checkUserPrintType();if("0"!=a){$("#removeStopPrint").hide();}else{$("#removeStopPrint").show();}}function initPrintRes(c,b){var a={};a.status=c.status;a.statusText=c.statusText;a.version=c.version;a.msg=c.msg;a.code=c.code;a.started=b;return a;}var printTool={};var staticPrint1=null;function printClick(b,a){if(staticPrint1==null){staticPrint1=new Date().getTime();}else{var g=new Date().getTime();if(g-staticPrint1<1000){staticPrint1=g;return;}else{staticPrint1=g;}}var d=checkUserPrintType();if("0"!=d){if(null==a||undefined==a){a=1;}try{parent.doCancel("main_showPage");}catch(c){}var f={};f.url=b;f.printtype=a;printTool=f;b=b.replace(/&/g,"%26");b=b.replace(/%3F/g,"?");b=b.replace(/%3D/g,"=");try{if("undefined"!=typeof parent.showNoTitlePopArea){parent.showNoTitlePopArea("/UCenter-webapp/Print/checkPrint.htm?printtype="+a+"&url="+b);}else{layer.open({id:"checkPrintWrapperDiv",type:2,title:false,closeBtn:0,area:["215px","50px"],content:"/UCenter-webapp/pos/popCheckPrint.htm?printtype="+a+"&url="+b,success:function(e,h){}});}}catch(c){console.log(c);sendPrintMsg(b,a);}return;}else{window.open(b);}}function sendPrintMsg(m,k){var f=getCookie("pid");var b="http://localhost:22031";if(m.indexOf("http")<0){var n=parent.$("#basepath").val();if(n==undefined||n==""){n=$("#basepath").val();}if(n!=undefined&&n!=""){m=n+m;}}if(null==m||undefined==m){m="";}m=m.replace(/%26/g,"&");var l=m.split("?");if(l.length==3){var h=l[2];if(h.indexOf("pid=")==-1){h=h+"&pid="+f;}m=l[0]+"?"+l[1]+"?"+h.replace(/&/g,"%26");}else{m=m.replace(/%26/g,"&");}if(m.indexOf("/")==0){var c=null;try{c=parent.$("#basepath").val();}catch(g){}if(null==c||""==c){try{c=parent.parent.$("#basepath").val();}catch(g){}}if(null==c||""==c){c="";}m=c+m;}var a=m.indexOf("?");m=m.substr(0,a)+"?pid="+f+"&"+m.substr(a+1);if(m.indexOf("DataUrl")>0){m=m+"&pid="+f;}if(0==k){m=null;b="http://localhost:22032";}console.log("打印的url是："+JSON.stringify(m));if(undefined==k||null==k){k=1;}var d=k;$.ajax({url:b,type:"GET",dataType:"jsonp",cache:false,data:{ptype:d,dataUri:m},success:function(e){var o=initPrintRes(e,true);o.success=true;o.type=d;_callback(o);},error:function(e){var o=initPrintRes(e,true);o.success=false;o.type=d;_callback(o);},timeout:1000*2});}function _callback(a){var c=printTool.url;if(null!=c&&undefined!=c){c=c.replace(/&/g,"%26");}var b=printTool.printtype;var d=true;if(d){if("undefined"!=typeof parent.doCancel){parent.doCancel("main_showPage");parent.showNoTitlePopArea(null,1);}else{setTimeout(function(){var e=parent.$("#checkPrintWrapperDiv").parent().attr("times");parent.layer.close(e);},100);}if("timeout"==a.statusText){if("undefined"!=typeof parent.showMainPage){parent.showMainPage("/UCenter-webapp/Print/checkPrintFail.htm?printtype="+b+"&url="+c,"打印失败",215,524,1);}else{parent.layer.open({id:"checkPrintFailWrapperDiv",type:2,title:false,closeBtn:0,area:["780px","490px"],content:"/UCenter-webapp/pos/popCheckPrintFail.htm?printtype="+b+"&url="+c,success:function(e,f){}});}}else{c=c.replace(/%26/g,"&");}}else{}}function equalsSOB(b){var a=false;$.ajax({dataType:"json",data:{sobid:b},cache:false,async:false,url:"/UCenter-webapp/SysReset/equalsSOB.json?"+Math.random(),type:"post",success:function(c){if(c.equalsSOB==2){showErrorMsg("该单据在其他账套，无法查看");a=true;}},error:function(){}});return a;}function checkUserIsHaveLookOtherBillPerF(){var b=true;var a=$(parent.document).find("#isAdminRole").val();var c=$(parent.document).find("#permflag").val();if(a.indexOf("false")>=0){if(c.indexOf("6")<0){b=false;}}return b;}function hideCountTip(){if($(parent.document).find("#showmainalert").is(":visible")){$(parent.document).find("#showmainalert").hide();$(parent.document).find("#main_cover").hide();}}function hidHardware(){var a=$(parent.document).find("#userid").val();$("#btnHardwareInfo").hide();setCookie("isshowbtnHardware"+a,"1");}
if(typeof JSON!=="object"){JSON={};}(function(){function f(n){return n<10?"0"+n:n;}if(typeof Date.prototype.toJSON!=="function"){Date.prototype.toJSON=function(){return isFinite(this.valueOf())?this.getUTCFullYear()+"-"+f(this.getUTCMonth()+1)+"-"+f(this.getUTCDate())+"T"+f(this.getUTCHours())+":"+f(this.getUTCMinutes())+":"+f(this.getUTCSeconds())+"Z":null;};String.prototype.toJSON=Number.prototype.toJSON=Boolean.prototype.toJSON=function(){return this.valueOf();};}var cx,escapable,gap,indent,meta,rep;function quote(string){escapable.lastIndex=0;return escapable.test(string)?'"'+string.replace(escapable,function(a){var c=meta[a];return typeof c==="string"?c:"\\u"+("0000"+a.charCodeAt(0).toString(16)).slice(-4);})+'"':'"'+string+'"';}function str(key,holder){var i,k,v,length,mind=gap,partial,value=holder[key];if(value&&typeof value==="object"&&typeof value.toJSON==="function"){value=value.toJSON(key);}if(typeof rep==="function"){value=rep.call(holder,key,value);}switch(typeof value){case"string":return quote(value);case"number":return isFinite(value)?String(value):"null";case"boolean":case"null":return String(value);case"object":if(!value){return"null";}gap+=indent;partial=[];if(Object.prototype.toString.apply(value)==="[object Array]"){length=value.length;for(i=0;i<length;i+=1){partial[i]=str(i,value)||"null";}v=partial.length===0?"[]":gap?"[\n"+gap+partial.join(",\n"+gap)+"\n"+mind+"]":"["+partial.join(",")+"]";gap=mind;return v;}if(rep&&typeof rep==="object"){length=rep.length;for(i=0;i<length;i+=1){if(typeof rep[i]==="string"){k=rep[i];v=str(k,value);if(v){partial.push(quote(k)+(gap?": ":":")+v);}}}}else{for(k in value){if(Object.prototype.hasOwnProperty.call(value,k)){v=str(k,value);if(v){partial.push(quote(k)+(gap?": ":":")+v);}}}}v=partial.length===0?"{}":gap?"{\n"+gap+partial.join(",\n"+gap)+"\n"+mind+"}":"{"+partial.join(",")+"}";gap=mind;return v;}}if(typeof JSON.stringify!=="function"){escapable=/[\\\"\x00-\x1f\x7f-\x9f\u00ad\u0600-\u0604\u070f\u17b4\u17b5\u200c-\u200f\u2028-\u202f\u2060-\u206f\ufeff\ufff0-\uffff]/g;meta={"\b":"\\b","\t":"\\t","\n":"\\n","\f":"\\f","\r":"\\r",'"':'\\"',"\\":"\\\\"};JSON.stringify=function(value,replacer,space){var i;gap="";indent="";if(typeof space==="number"){for(i=0;i<space;i+=1){indent+=" ";}}else{if(typeof space==="string"){indent=space;}}rep=replacer;if(replacer&&typeof replacer!=="function"&&(typeof replacer!=="object"||typeof replacer.length!=="number")){throw new Error("JSON.stringify");}return str("",{"":value});};}if(typeof JSON.parse!=="function"){cx=/[\u0000\u00ad\u0600-\u0604\u070f\u17b4\u17b5\u200c-\u200f\u2028-\u202f\u2060-\u206f\ufeff\ufff0-\uffff]/g;JSON.parse=function(text,reviver){var j;function walk(holder,key){var k,v,value=holder[key];if(value&&typeof value==="object"){for(k in value){if(Object.prototype.hasOwnProperty.call(value,k)){v=walk(value,k);if(v!==undefined){value[k]=v;}else{delete value[k];}}}}return reviver.call(holder,key,value);}text=String(text);cx.lastIndex=0;if(cx.test(text)){text=text.replace(cx,function(a){return"\\u"+("0000"+a.charCodeAt(0).toString(16)).slice(-4);});}if(/^[\],:{}\s]*$/.test(text.replace(/\\(?:["\\\/bfnrt]|u[0-9a-fA-F]{4})/g,"@").replace(/"[^"\\\n\r]*"|true|false|null|-?\d+(?:\.\d*)?(?:[eE][+\-]?\d+)?/g,"]").replace(/(?:^|:|,)(?:\s*\[)+/g,""))){j=eval("("+text+")");return typeof reviver==="function"?walk({"":j},""):j;}throw new SyntaxError("JSON.parse");};}}());
Math.toPieChart=function(b,f,c,a){var j=Math.calTotal(b,c,1);if(j<=0){return null;}var e=null;var h=null;var n=null;var l=null;var k=0;var g=0;var o=new Array();var m=null;for(var d in b){e=b[d];n=e[f];l=Math.toNumber(e[c]);if(l>0){g++;if(g<10){h=l.div(j);m=new Array();m.push(n);if(a==1){m.push(h);}else{m.push(l);}o.push(m);}else{k=k.add(l);}}}if(k!=0){n="其他";h=k.div(j);m=new Array();m.push(n);if(a==1){m.push(h);}else{m.push(k);}o.push(m);}return o;};Math.calTotal=function(b,f,d){if(b.length>0){var a=null;var g=null;var e=0;for(var c in b){a=b[c];g=Math.toNumber(a[f]);if(1==d&&g<0){g=0;}e=e.add(g);}return e;}else{return 0;}};Math.toNumber=function(a){if(null==a){return 0;}else{return a*1;}};Math.add=function(g,f){var c,b,a;try{c=g.toString().split(".")[1].length;}catch(d){c=0;}try{b=f.toString().split(".")[1].length;}catch(d){b=0;}a=Math.pow(10,Math.max(c,b));return(g*a+f*a)/a;};Number.prototype.add=function(a){return Math.add(a,this);};Math.sub=function(b,a){return Math.add(b,-a);};Number.prototype.sub=function(a){return Math.sub(this,a);};Math.mul=function(g,f){var a=0;var c=g.toString();var b=f.toString();try{a+=c.split(".")[1].length;}catch(d){}try{a+=b.split(".")[1].length;}catch(d){}return Number(c.replace(".",""))*Number(b.replace(".",""))/Math.pow(10,a);};Number.prototype.mul=function(a){return Math.mul(a,this);};Math.div=function(v1,v2){var t1=0;var t2=0;var r1,r2;try{t1=v1.toString().split(".")[1].length;}catch(e){}try{t2=v2.toString().split(".")[1].length;}catch(e){}with(Math){r1=Number(v1.toString().replace(".",""));r2=Number(v2.toString().replace(".",""));return(r1/r2)*pow(10,t2-t1);}};Number.prototype.div=function(a){return Math.div(this,a);};
(function(b,a){typeof exports==="object"&&typeof module!=="undefined"?module.exports=a():typeof define==="function"&&define.amd?define(a):b.moment=a();}(this,(function(){var b7;function ex(){return b7.apply(null,arguments);}function aP(eX){b7=eX;}function V(eX){return eX instanceof Array||Object.prototype.toString.call(eX)==="[object Array]";}function v(eX){return eX!=null&&Object.prototype.toString.call(eX)==="[object Object]";}function ce(eY){var eX;for(eX in eY){return false;}return true;}function F(eX){return eX===void 0;}function q(eX){return typeof eX==="number"||Object.prototype.toString.call(eX)==="[object Number]";}function eq(eX){return eX instanceof Date||Object.prototype.toString.call(eX)==="[object Date]";}function bl(eX,e0){var eZ=[],eY;for(eY=0;eY<eX.length;++eY){eZ.push(e0(eX[eY],eY));}return eZ;}function dh(eY,eX){return Object.prototype.hasOwnProperty.call(eY,eX);}function eR(eY,eX){for(var eZ in eX){if(dh(eX,eZ)){eY[eZ]=eX[eZ];}}if(dh(eX,"toString")){eY.toString=eX.toString;}if(dh(eX,"valueOf")){eY.valueOf=eX.valueOf;}return eY;}function cr(eZ,e0,eX,eY){return ac(eZ,e0,eX,eY,true).utc();}function cn(){return{empty:false,unusedTokens:[],unusedInput:[],overflow:-2,charsLeftOver:0,nullInput:false,invalidMonth:null,invalidFormat:false,userInvalidated:false,iso:false,parsedDateParts:[],meridiem:null,rfc2822:false,weekdayMismatch:false};}function a9(eX){if(eX._pf==null){eX._pf=cn();}return eX._pf;}var dl;if(Array.prototype.some){dl=Array.prototype.some;}else{dl=function(eY){var e0=Object(this);var eX=e0.length>>>0;for(var eZ=0;eZ<eX;eZ++){if(eZ in e0&&eY.call(this,e0[eZ],eZ,e0)){return true;}}return false;};}var cD=dl;function an(eY){if(eY._isValid==null){var eZ=a9(eY);var e0=cD.call(eZ.parsedDateParts,function(e1){return e1!=null;});var eX=!isNaN(eY._d.getTime())&&eZ.overflow<0&&!eZ.empty&&!eZ.invalidMonth&&!eZ.invalidWeekday&&!eZ.nullInput&&!eZ.invalidFormat&&!eZ.userInvalidated&&(!eZ.meridiem||(eZ.meridiem&&e0));if(eY._strict){eX=eX&&eZ.charsLeftOver===0&&eZ.unusedTokens.length===0&&eZ.bigHour===undefined;}if(Object.isFrozen==null||!Object.isFrozen(eY)){eY._isValid=eX;}else{return eX;}}return eY._isValid;}function N(eY){var eX=cr(NaN);if(eY!=null){eR(a9(eX),eY);}else{a9(eX).userInvalidated=true;}return eX;}var cP=ex.momentProperties=[];function p(e1,e0){var eX,eZ,eY;if(!F(e0._isAMomentObject)){e1._isAMomentObject=e0._isAMomentObject;}if(!F(e0._i)){e1._i=e0._i;}if(!F(e0._f)){e1._f=e0._f;}if(!F(e0._l)){e1._l=e0._l;}if(!F(e0._strict)){e1._strict=e0._strict;}if(!F(e0._tzm)){e1._tzm=e0._tzm;}if(!F(e0._isUTC)){e1._isUTC=e0._isUTC;}if(!F(e0._offset)){e1._offset=e0._offset;}if(!F(e0._pf)){e1._pf=a9(e0);}if(!F(e0._locale)){e1._locale=e0._locale;}if(cP.length>0){for(eX=0;eX<cP.length;eX++){eZ=cP[eX];eY=e0[eZ];if(!F(eY)){e1[eZ]=eY;}}}return e1;}var db=false;function em(eX){p(this,eX);this._d=new Date(eX._d!=null?eX._d.getTime():NaN);if(!this.isValid()){this._d=new Date(NaN);}if(db===false){db=true;ex.updateOffset(this);db=false;}}function b8(eX){return eX instanceof em||(eX!=null&&eX._isAMomentObject!=null);}function de(eX){if(eX<0){return Math.ceil(eX)||0;}else{return Math.floor(eX);}}function cM(eX){var eZ=+eX,eY=0;if(eZ!==0&&isFinite(eZ)){eY=de(eZ);}return eY;}function bW(e2,e1,eY){var eX=Math.min(e2.length,e1.length),eZ=Math.abs(e2.length-e1.length),e3=0,e0;for(e0=0;e0<eX;e0++){if((eY&&e2[e0]!==e1[e0])||(!eY&&cM(e2[e0])!==cM(e1[e0]))){e3++;}}return e3+eZ;}function da(eX){if(ex.suppressDeprecationWarnings===false&&(typeof console!=="undefined")&&console.warn){console.warn("Deprecation warning: "+eX);}}function eb(eY,eX){var eZ=true;return eR(function(){if(ex.deprecationHandler!=null){ex.deprecationHandler(null,eY);}if(eZ){var e1=[];var e0;for(var e3=0;e3<arguments.length;e3++){e0="";if(typeof arguments[e3]==="object"){e0+="\n["+e3+"] ";for(var e2 in arguments[0]){e0+=e2+": "+arguments[0][e2]+", ";}e0=e0.slice(0,-2);}else{e0=arguments[e3];}e1.push(e0);}da(eY+"\nArguments: "+Array.prototype.slice.call(e1).join("")+"\n"+(new Error()).stack);eZ=false;}return eX.apply(this,arguments);},eX);}var aa={};function eK(eX,eY){if(ex.deprecationHandler!=null){ex.deprecationHandler(eX,eY);}if(!aa[eX]){da(eY);aa[eX]=true;}}ex.suppressDeprecationWarnings=false;ex.deprecationHandler=null;function a4(eX){return eX instanceof Function||Object.prototype.toString.call(eX)==="[object Function]";}function dj(eX){var eZ,eY;for(eY in eX){eZ=eX[eY];if(a4(eZ)){this[eY]=eZ;}else{this["_"+eY]=eZ;}}this._config=eX;this._dayOfMonthOrdinalParseLenient=new RegExp((this._dayOfMonthOrdinalParse.source||this._ordinalParse.source)+"|"+(/\d{1,2}/).source);}function d4(eZ,eX){var eY=eR({},eZ),e0;for(e0 in eX){if(dh(eX,e0)){if(v(eZ[e0])&&v(eX[e0])){eY[e0]={};eR(eY[e0],eZ[e0]);eR(eY[e0],eX[e0]);}else{if(eX[e0]!=null){eY[e0]=eX[e0];}else{delete eY[e0];}}}}for(e0 in eZ){if(dh(eZ,e0)&&!dh(eX,e0)&&v(eZ[e0])){eY[e0]=eR({},eY[e0]);}}return eY;}function cy(eX){if(eX!=null){this.set(eX);}}var bT;if(Object.keys){bT=Object.keys;}else{bT=function(eZ){var eY,eX=[];for(eY in eZ){if(dh(eZ,eY)){eX.push(eY);}}return eX;};}var dJ=bT;var cg={sameDay:"[Today at] LT",nextDay:"[Tomorrow at] LT",nextWeek:"dddd [at] LT",lastDay:"[Yesterday at] LT",lastWeek:"[Last] dddd [at] LT",sameElse:"L"};function d(eZ,e0,eY){var eX=this._calendar[eZ]||this._calendar.sameElse;return a4(eX)?eX.call(e0,eY):eX;}var dU={LTS:"h:mm:ss A",LT:"h:mm A",L:"MM/DD/YYYY",LL:"MMMM D, YYYY",LLL:"MMMM D, YYYY h:mm A",LLLL:"dddd, MMMM D, YYYY h:mm A"};function cG(eX){var eY=this._longDateFormat[eX],eZ=this._longDateFormat[eX.toUpperCase()];if(eY||!eZ){return eY;}this._longDateFormat[eX]=eZ.replace(/MMMM|MM|DD|dddd/g,function(e0){return e0.slice(1);});return this._longDateFormat[eX];}var al="Invalid date";function ek(){return this._invalidDate;}var b3="%d";var eV=/\d{1,2}/;function ev(eX){return this._ordinal.replace("%d",eX);}var eu={future:"in %s",past:"%s ago",s:"a few seconds",ss:"%d seconds",m:"a minute",mm:"%d minutes",h:"an hour",hh:"%d hours",d:"a day",dd:"%d days",M:"a month",MM:"%d months",y:"a year",yy:"%d years"};function T(e0,eZ,eY,e1){var eX=this._relativeTime[eY];return(a4(eX))?eX(e0,eZ,eY,e1):eX.replace(/%d/i,e0);}function dV(eZ,eX){var eY=this._relativeTime[eZ>0?"future":"past"];return a4(eY)?eY(eX):eY.replace(/%s/i,eX);}var cH={};function cb(eZ,eX){var eY=eZ.toLowerCase();cH[eY]=cH[eY+"s"]=cH[eX]=eZ;}function cL(eX){return typeof eX==="string"?cH[eX]||cH[eX.toLowerCase()]:undefined;}function dH(eZ){var eY={},eX,e0;for(e0 in eZ){if(dh(eZ,e0)){eX=cL(e0);if(eX){eY[eX]=eZ[e0];}}}return eY;}var bq={};function dT(eY,eX){bq[eY]=eX;}function bn(eX){var eY=[];for(var eZ in eX){eY.push({unit:eZ,priority:bq[eZ]});}eY.sort(function(e1,e0){return e1.priority-e0.priority;});return eY;}function d8(eX,eY){return function(eZ){if(eZ!=null){aK(this,eX,eZ);ex.updateOffset(this,eY);return this;}else{return dx(this,eX);}};}function dx(eY,eX){return eY.isValid()?eY._d["get"+(eY._isUTC?"UTC":"")+eX]():NaN;}function aK(eY,eX,eZ){if(eY.isValid()){eY._d["set"+(eY._isUTC?"UTC":"")+eX](eZ);}}function ay(eX){eX=cL(eX);if(a4(this[eX])){return this[eX]();}return this;}function at(eX,e0){if(typeof eX==="object"){eX=dH(eX);var eZ=bn(eX);for(var eY=0;eY<eZ.length;eY++){this[eZ[eY].unit](eX[eZ[eY].unit]);}}else{eX=cL(eX);if(a4(this[eX])){return this[eX](e0);}}return this;}function ck(e2,e1,eY){var e0=""+Math.abs(e2),eZ=e1-e0.length,eX=e2>=0;return(eX?(eY?"+":""):"-")+Math.pow(10,Math.max(0,eZ)).toString().substr(1)+e0;}var bO=/(\[[^\[]*\])|(\\)?([Hh]mm(ss)?|Mo|MM?M?M?|Do|DDDo|DD?D?D?|ddd?d?|do?|w[o|w]?|W[o|W]?|Qo?|YYYYYY|YYYYY|YYYY|YY|gg(ggg?)?|GG(GGG?)?|e|E|a|A|hh?|HH?|kk?|mm?|ss?|S{1,9}|x|X|zz?|ZZ?|.)/g;var bN=/(\[[^\[]*\])|(\\)?(LTS|LT|LL?L?L?|l{1,4})/g;var bM={};var a7={};function ct(eY,eZ,eX,e1){var e0=e1;if(typeof e1==="string"){e0=function(){return this[e1]();};}if(eY){a7[eY]=e0;}if(eZ){a7[eZ[0]]=function(){return ck(e0.apply(this,arguments),eZ[1],eZ[2]);};}if(eX){a7[eX]=function(){return this.localeData().ordinal(e0.apply(this,arguments),eY);};}}function av(eX){if(eX.match(/\[[\s\S]/)){return eX.replace(/^\[|\]$/g,"");}return eX.replace(/\\/g,"");}function bu(eZ){var e0=eZ.match(bO),eX,eY;for(eX=0,eY=e0.length;eX<eY;eX++){if(a7[e0[eX]]){e0[eX]=a7[e0[eX]];}else{e0[eX]=av(e0[eX]);}}return function(e3){var e1="",e2;for(e2=0;e2<eY;e2++){e1+=a4(e0[e2])?e0[e2].call(e3,eZ):e0[e2];}return e1;};}function af(eX,eY){if(!eX.isValid()){return eX.localeData().invalidDate();}eY=bC(eY,eX.localeData());bM[eY]=bM[eY]||bu(eY);return bM[eY](eX);}function bC(e0,eX){var eY=5;function eZ(e1){return eX.longDateFormat(e1)||e1;}bN.lastIndex=0;while(eY>=0&&bN.test(e0)){e0=e0.replace(bN,eZ);bN.lastIndex=0;eY-=1;}return e0;}var aJ=/\d/;var aI=/\d\d/;var aH=/\d{3}/;var aG=/\d{4}/;var aF=/[+-]?\d{6}/;var aq=/\d\d?/;var ch=/\d\d\d\d?/;var ea=/\d\d\d\d\d\d?/;var ap=/\d{1,3}/;var ao=/\d{1,4}/;var am=/[+-]?\d{1,6}/;var r=/\d+/;var B=/[+-]?\d+/;var bF=/Z|[+-]\d\d:?\d\d/gi;var cA=/Z|[+-]\d\d(?::?\d\d)?/gi;var eL=/[+-]?\d+(\.\d{1,3})?/;var a6=/[0-9]*['a-z\u00A0-\u05FF\u0700-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF]+|[\u0600-\u06FF\/]+(\s*?[\u0600-\u06FF]+){1,2}/i;var a1={};function bb(eX,eY,eZ){a1[eX]=a4(eY)?eY:function(e1,e0){return(e1&&eZ)?eZ:eY;};}function bB(eY,eX){if(!dh(a1,eY)){return new RegExp(df(eY));}return a1[eY](eX._strict,eX._locale);}function df(eX){return cd(eX.replace("\\","").replace(/\\(\[)|\\(\])|\[([^\]\[]*)\]|\\(.)/g,function(eY,e2,e1,e0,eZ){return e2||e1||e0||eZ;}));}function cd(eX){return eX.replace(/[-\/\\^$*+?.()|[\]{}]/g,"\\$&");}var g={};function bR(eY,e0){var eX,eZ=e0;if(typeof eY==="string"){eY=[eY];}if(q(e0)){eZ=function(e1,e2){e2[e0]=cM(e1);};}for(eX=0;eX<eY.length;eX++){g[eY[eX]]=eZ;}}function X(eX,eY){bR(eX,function(eZ,e2,e0,e1){e0._w=e0._w||{};eY(eZ,e0._w,e0,e1);});}function u(eZ,eX,eY){if(eX!=null&&dh(g,eZ)){g[eZ](eX,eY._a,eY,eZ);}}var eM=0;var i=1;var eo=2;var eB=3;var dE=4;var ai=5;var bH=6;var cf=7;var h=8;var cN;if(Array.prototype.indexOf){cN=Array.prototype.indexOf;}else{cN=function(eY){var eX;for(eX=0;eX<this.length;++eX){if(this[eX]===eY){return eX;}}return -1;};}var c5=cN;function bE(eX,eY){return new Date(Date.UTC(eX,eY+1,0)).getUTCDate();}ct("M",["MM",2],"Mo",function(){return this.month()+1;});ct("MMM",0,0,function(eX){return this.localeData().monthsShort(this,eX);});ct("MMMM",0,0,function(eX){return this.localeData().months(this,eX);});cb("month","M");dT("month",8);bb("M",aq);bb("MM",aq,aI);bb("MMM",function(eY,eX){return eX.monthsShortRegex(eY);});bb("MMMM",function(eY,eX){return eX.monthsRegex(eY);});bR(["M","MM"],function(eX,eY){eY[i]=cM(eX)-1;});bR(["MMM","MMMM"],function(eX,e1,eY,eZ){var e0=eY._locale.monthsParse(eX,eZ,eY._strict);if(e0!=null){e1[i]=e0;}else{a9(eY).invalidMonth=eX;}});var b0=/D[oD]?(\[[^\[\]]*\]|\s)+MMMM?/;var P="January_February_March_April_May_June_July_August_September_October_November_December".split("_");function aZ(eX,eY){if(!eX){return V(this._months)?this._months:this._months.standalone;}return V(this._months)?this._months[eX.month()]:this._months[(this._months.isFormat||b0).test(eY)?"format":"standalone"][eX.month()];}var dY="Jan_Feb_Mar_Apr_May_Jun_Jul_Aug_Sep_Oct_Nov_Dec".split("_");function a8(eX,eY){if(!eX){return V(this._monthsShort)?this._monthsShort:this._monthsShort.standalone;}return V(this._monthsShort)?this._monthsShort[eX.month()]:this._monthsShort[b0.test(eY)?"format":"standalone"][eX.month()];}function bz(eY,e3,eX){var e0,e1,e2,eZ=eY.toLocaleLowerCase();if(!this._monthsParse){this._monthsParse=[];this._longMonthsParse=[];this._shortMonthsParse=[];for(e0=0;e0<12;++e0){e2=cr([2000,e0]);this._shortMonthsParse[e0]=this.monthsShort(e2,"").toLocaleLowerCase();this._longMonthsParse[e0]=this.months(e2,"").toLocaleLowerCase();}}if(eX){if(e3==="MMM"){e1=c5.call(this._shortMonthsParse,eZ);return e1!==-1?e1:null;}else{e1=c5.call(this._longMonthsParse,eZ);return e1!==-1?e1:null;}}else{if(e3==="MMM"){e1=c5.call(this._shortMonthsParse,eZ);if(e1!==-1){return e1;}e1=c5.call(this._longMonthsParse,eZ);return e1!==-1?e1:null;}else{e1=c5.call(this._longMonthsParse,eZ);if(e1!==-1){return e1;}e1=c5.call(this._shortMonthsParse,eZ);return e1!==-1?e1:null;}}}function c8(eY,e2,eX){var eZ,e1,e0;if(this._monthsParseExact){return bz.call(this,eY,e2,eX);}if(!this._monthsParse){this._monthsParse=[];this._longMonthsParse=[];this._shortMonthsParse=[];}for(eZ=0;eZ<12;eZ++){e1=cr([2000,eZ]);if(eX&&!this._longMonthsParse[eZ]){this._longMonthsParse[eZ]=new RegExp("^"+this.months(e1,"").replace(".","")+"$","i");this._shortMonthsParse[eZ]=new RegExp("^"+this.monthsShort(e1,"").replace(".","")+"$","i");}if(!eX&&!this._monthsParse[eZ]){e0="^"+this.months(e1,"")+"|^"+this.monthsShort(e1,"");this._monthsParse[eZ]=new RegExp(e0.replace(".",""),"i");}if(eX&&e2==="MMMM"&&this._longMonthsParse[eZ].test(eY)){return eZ;}else{if(eX&&e2==="MMM"&&this._shortMonthsParse[eZ].test(eY)){return eZ;}else{if(!eX&&this._monthsParse[eZ].test(eY)){return eZ;}}}}}function aT(eX,eY){var eZ;if(!eX.isValid()){return eX;}if(typeof eY==="string"){if(/^\d+$/.test(eY)){eY=cM(eY);}else{eY=eX.localeData().monthsParse(eY);if(!q(eY)){return eX;}}}eZ=Math.min(eX.date(),bE(eX.year(),eY));eX._d["set"+(eX._isUTC?"UTC":"")+"Month"](eY,eZ);return eX;}function eA(eX){if(eX!=null){aT(this,eX);ex.updateOffset(this,true);return this;}else{return dx(this,"Month");}}function bK(){return bE(this.year(),this.month());}var dd=a6;function dg(eX){if(this._monthsParseExact){if(!dh(this,"_monthsRegex")){di.call(this);}if(eX){return this._monthsShortStrictRegex;}else{return this._monthsShortRegex;}}else{if(!dh(this,"_monthsShortRegex")){this._monthsShortRegex=dd;}return this._monthsShortStrictRegex&&eX?this._monthsShortStrictRegex:this._monthsShortRegex;}}var es=a6;function cV(eX){if(this._monthsParseExact){if(!dh(this,"_monthsRegex")){di.call(this);}if(eX){return this._monthsStrictRegex;}else{return this._monthsRegex;}}else{if(!dh(this,"_monthsRegex")){this._monthsRegex=es;}return this._monthsStrictRegex&&eX?this._monthsStrictRegex:this._monthsRegex;}}function di(){function e2(e4,e3){return e3.length-e4.length;}var e1=[],eX=[],e0=[],eY,eZ;for(eY=0;eY<12;eY++){eZ=cr([2000,eY]);e1.push(this.monthsShort(eZ,""));eX.push(this.months(eZ,""));e0.push(this.months(eZ,""));e0.push(this.monthsShort(eZ,""));}e1.sort(e2);eX.sort(e2);e0.sort(e2);for(eY=0;eY<12;eY++){e1[eY]=cd(e1[eY]);eX[eY]=cd(eX[eY]);}for(eY=0;eY<24;eY++){e0[eY]=cd(e0[eY]);}this._monthsRegex=new RegExp("^("+e0.join("|")+")","i");this._monthsShortRegex=this._monthsRegex;this._monthsStrictRegex=new RegExp("^("+eX.join("|")+")","i");this._monthsShortStrictRegex=new RegExp("^("+e1.join("|")+")","i");}ct("Y",0,0,function(){var eX=this.year();return eX<=9999?""+eX:"+"+eX;});ct(0,["YY",2],0,function(){return this.year()%100;});ct(0,["YYYY",4],0,"year");ct(0,["YYYYY",5],0,"year");ct(0,["YYYYYY",6,true],0,"year");cb("year","y");dT("year",1);bb("Y",B);bb("YY",aq,aI);bb("YYYY",ao,aG);bb("YYYYY",am,aF);bb("YYYYYY",am,aF);bR(["YYYYY","YYYYYY"],eM);bR("YYYY",function(eX,eY){eY[eM]=eX.length===2?ex.parseTwoDigitYear(eX):cM(eX);});bR("YY",function(eX,eY){eY[eM]=ex.parseTwoDigitYear(eX);});bR("Y",function(eX,eY){eY[eM]=parseInt(eX,10);});function dC(eX){return dX(eX)?366:365;}function dX(eX){return(eX%4===0&&eX%100!==0)||eX%400===0;}ex.parseTwoDigitYear=function(eX){return cM(eX)+(cM(eX)>68?1900:2000);};var cC=d8("FullYear",true);function cS(){return dX(this.year());}function d5(e4,eX,e2,e1,e3,e0,eZ){var eY=new Date(e4,eX,e2,e1,e3,e0,eZ);if(e4<100&&e4>=0&&isFinite(eY.getFullYear())){eY.setFullYear(e4);}return eY;}function dr(eY){var eX=new Date(Date.UTC.apply(null,arguments));if(eY<100&&eY>=0&&isFinite(eX.getUTCFullYear())){eX.setUTCFullYear(eY);}return eX;}function bg(eY,e1,e0){var eX=7+e1-e0,eZ=(7+dr(eY,0,eX).getUTCDay()-e1)%7;return -eZ+eX-1;}function bx(e0,eY,eZ,e6,e4){var e5=(7+eZ-e6)%7,eX=bg(e0,e6,e4),e2=1+7*(eY-1)+e5+eX,e3,e1;if(e2<=0){e3=e0-1;e1=dC(e3)+e2;}else{if(e2>dC(e0)){e3=e0+1;e1=e2-dC(e0);}else{e3=e0;e1=e2;}}return{year:e3,dayOfYear:e1};}function en(e1,e3,e2){var eZ=bg(e1.year(),e3,e2),e0=Math.floor((e1.dayOfYear()-eZ-1)/7)+1,eX,eY;if(e0<1){eY=e1.year()-1;eX=e0+E(eY,e3,e2);}else{if(e0>E(e1.year(),e3,e2)){eX=e0-E(e1.year(),e3,e2);eY=e1.year()+1;}else{eY=e1.year();eX=e0;}}return{week:eX,year:eY};}function E(eY,e1,eZ){var eX=bg(eY,e1,eZ),e0=bg(eY+1,e1,eZ);return(dC(eY)-eX+e0)/7;}ct("w",["ww",2],"wo","week");ct("W",["WW",2],"Wo","isoWeek");cb("week","w");cb("isoWeek","W");dT("week",5);dT("isoWeek",5);bb("w",aq);bb("ww",aq,aI);bb("W",aq);bb("WW",aq,aI);X(["w","ww","W","WW"],function(eX,e0,eY,eZ){e0[eZ.substr(0,1)]=cM(eX);});function bm(eX){return en(eX,this._week.dow,this._week.doy).week;}var bZ={dow:0,doy:6};function ag(){return this._week.dow;}function c6(){return this._week.doy;}function J(eX){var eY=this.localeData().week(this);return eX==null?eY:this.add((eX-eY)*7,"d");}function x(eX){var eY=en(this,1,4).week;return eX==null?eY:this.add((eX-eY)*7,"d");}ct("d",0,"do","day");ct("dd",0,0,function(eX){return this.localeData().weekdaysMin(this,eX);});ct("ddd",0,0,function(eX){return this.localeData().weekdaysShort(this,eX);});ct("dddd",0,0,function(eX){return this.localeData().weekdays(this,eX);});ct("e",0,0,"weekday");ct("E",0,0,"isoWeekday");cb("day","d");cb("weekday","e");cb("isoWeekday","E");dT("day",11);dT("weekday",11);dT("isoWeekday",11);bb("d",aq);bb("e",aq);bb("E",aq);bb("dd",function(eY,eX){return eX.weekdaysMinRegex(eY);});bb("ddd",function(eY,eX){return eX.weekdaysShortRegex(eY);});bb("dddd",function(eY,eX){return eX.weekdaysRegex(eY);});X(["dd","ddd","dddd"],function(eX,e0,eY,eZ){var e1=eY._locale.weekdaysParse(eX,eZ,eY._strict);if(e1!=null){e0.d=e1;}else{a9(eY).invalidWeekday=eX;}});X(["d","e","E"],function(eX,e0,eY,eZ){e0[eZ]=cM(eX);});function bf(eY,eX){if(typeof eY!=="string"){return eY;}if(!isNaN(eY)){return parseInt(eY,10);}eY=eX.weekdaysParse(eY);if(typeof eY==="number"){return eY;}return null;}function bA(eY,eX){if(typeof eY==="string"){return eX.weekdaysParse(eY)%7||7;}return isNaN(eY)?null:eY;}var S="Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_");function aw(eX,eY){if(!eX){return V(this._weekdays)?this._weekdays:this._weekdays.standalone;}return V(this._weekdays)?this._weekdays[eX.day()]:this._weekdays[this._weekdays.isFormat.test(eY)?"format":"standalone"][eX.day()];}var k="Sun_Mon_Tue_Wed_Thu_Fri_Sat".split("_");function M(eX){return(eX)?this._weekdaysShort[eX.day()]:this._weekdaysShort;}var br="Su_Mo_Tu_We_Th_Fr_Sa".split("_");function ey(eX){return(eX)?this._weekdaysMin[eX.day()]:this._weekdaysMin;}function dK(e2,e3,eX){var eZ,e0,e1,eY=e2.toLocaleLowerCase();if(!this._weekdaysParse){this._weekdaysParse=[];this._shortWeekdaysParse=[];this._minWeekdaysParse=[];for(eZ=0;eZ<7;++eZ){e1=cr([2000,1]).day(eZ);this._minWeekdaysParse[eZ]=this.weekdaysMin(e1,"").toLocaleLowerCase();this._shortWeekdaysParse[eZ]=this.weekdaysShort(e1,"").toLocaleLowerCase();this._weekdaysParse[eZ]=this.weekdays(e1,"").toLocaleLowerCase();}}if(eX){if(e3==="dddd"){e0=c5.call(this._weekdaysParse,eY);return e0!==-1?e0:null;}else{if(e3==="ddd"){e0=c5.call(this._shortWeekdaysParse,eY);return e0!==-1?e0:null;}else{e0=c5.call(this._minWeekdaysParse,eY);return e0!==-1?e0:null;}}}else{if(e3==="dddd"){e0=c5.call(this._weekdaysParse,eY);if(e0!==-1){return e0;}e0=c5.call(this._shortWeekdaysParse,eY);if(e0!==-1){return e0;}e0=c5.call(this._minWeekdaysParse,eY);return e0!==-1?e0:null;}else{if(e3==="ddd"){e0=c5.call(this._shortWeekdaysParse,eY);if(e0!==-1){return e0;}e0=c5.call(this._weekdaysParse,eY);if(e0!==-1){return e0;}e0=c5.call(this._minWeekdaysParse,eY);return e0!==-1?e0:null;}else{e0=c5.call(this._minWeekdaysParse,eY);if(e0!==-1){return e0;}e0=c5.call(this._weekdaysParse,eY);if(e0!==-1){return e0;}e0=c5.call(this._shortWeekdaysParse,eY);return e0!==-1?e0:null;}}}}function bJ(e1,e2,eX){var eY,e0,eZ;if(this._weekdaysParseExact){return dK.call(this,e1,e2,eX);}if(!this._weekdaysParse){this._weekdaysParse=[];this._minWeekdaysParse=[];this._shortWeekdaysParse=[];this._fullWeekdaysParse=[];}for(eY=0;eY<7;eY++){e0=cr([2000,1]).day(eY);if(eX&&!this._fullWeekdaysParse[eY]){this._fullWeekdaysParse[eY]=new RegExp("^"+this.weekdays(e0,"").replace(".",".?")+"$","i");this._shortWeekdaysParse[eY]=new RegExp("^"+this.weekdaysShort(e0,"").replace(".",".?")+"$","i");this._minWeekdaysParse[eY]=new RegExp("^"+this.weekdaysMin(e0,"").replace(".",".?")+"$","i");}if(!this._weekdaysParse[eY]){eZ="^"+this.weekdays(e0,"")+"|^"+this.weekdaysShort(e0,"")+"|^"+this.weekdaysMin(e0,"");this._weekdaysParse[eY]=new RegExp(eZ.replace(".",""),"i");}if(eX&&e2==="dddd"&&this._fullWeekdaysParse[eY].test(e1)){return eY;}else{if(eX&&e2==="ddd"&&this._shortWeekdaysParse[eY].test(e1)){return eY;}else{if(eX&&e2==="dd"&&this._minWeekdaysParse[eY].test(e1)){return eY;}else{if(!eX&&this._weekdaysParse[eY].test(e1)){return eY;}}}}}}function ef(eY){if(!this.isValid()){return eY!=null?this:NaN;}var eX=this._isUTC?this._d.getUTCDay():this._d.getDay();if(eY!=null){eY=bf(eY,this.localeData());return this.add(eY-eX,"d");}else{return eX;}}function ad(eX){if(!this.isValid()){return eX!=null?this:NaN;}var eY=(this.day()+7-this.localeData()._week.dow)%7;return eX==null?eY:this.add(eX-eY,"d");}function cp(eX){if(!this.isValid()){return eX!=null?this:NaN;}if(eX!=null){var eY=bA(eX,this.localeData());return this.day(this.day()%7?eY:eY-7);}else{return this.day()||7;}}var ab=a6;function eO(eX){if(this._weekdaysParseExact){if(!dh(this,"_weekdaysRegex")){z.call(this);}if(eX){return this._weekdaysStrictRegex;}else{return this._weekdaysRegex;}}else{if(!dh(this,"_weekdaysRegex")){this._weekdaysRegex=ab;}return this._weekdaysStrictRegex&&eX?this._weekdaysStrictRegex:this._weekdaysRegex;}}var w=a6;function aE(eX){if(this._weekdaysParseExact){if(!dh(this,"_weekdaysRegex")){z.call(this);}if(eX){return this._weekdaysShortStrictRegex;}else{return this._weekdaysShortRegex;}}else{if(!dh(this,"_weekdaysShortRegex")){this._weekdaysShortRegex=w;}return this._weekdaysShortStrictRegex&&eX?this._weekdaysShortStrictRegex:this._weekdaysShortRegex;}}var dR=a6;function D(eX){if(this._weekdaysParseExact){if(!dh(this,"_weekdaysRegex")){z.call(this);}if(eX){return this._weekdaysMinStrictRegex;}else{return this._weekdaysMinRegex;}}else{if(!dh(this,"_weekdaysMinRegex")){this._weekdaysMinRegex=dR;}return this._weekdaysMinStrictRegex&&eX?this._weekdaysMinStrictRegex:this._weekdaysMinRegex;}}function z(){function e0(e8,e7){return e7.length-e8.length;}var e2=[],e3=[],e6=[],eX=[],e1,eZ,eY,e4,e5;for(e1=0;e1<7;e1++){eZ=cr([2000,1]).day(e1);eY=this.weekdaysMin(eZ,"");e4=this.weekdaysShort(eZ,"");e5=this.weekdays(eZ,"");e2.push(eY);e3.push(e4);e6.push(e5);eX.push(eY);eX.push(e4);eX.push(e5);}e2.sort(e0);e3.sort(e0);e6.sort(e0);eX.sort(e0);for(e1=0;e1<7;e1++){e3[e1]=cd(e3[e1]);e6[e1]=cd(e6[e1]);eX[e1]=cd(eX[e1]);}this._weekdaysRegex=new RegExp("^("+eX.join("|")+")","i");this._weekdaysShortRegex=this._weekdaysRegex;this._weekdaysMinRegex=this._weekdaysRegex;this._weekdaysStrictRegex=new RegExp("^("+e6.join("|")+")","i");this._weekdaysShortStrictRegex=new RegExp("^("+e3.join("|")+")","i");this._weekdaysMinStrictRegex=new RegExp("^("+e2.join("|")+")","i");}function dv(){return this.hours()%12||12;}function O(){return this.hours()||24;}ct("H",["HH",2],0,"hour");ct("h",["hh",2],0,dv);ct("k",["kk",2],0,O);ct("hmm",0,0,function(){return""+dv.apply(this)+ck(this.minutes(),2);});ct("hmmss",0,0,function(){return""+dv.apply(this)+ck(this.minutes(),2)+ck(this.seconds(),2);});ct("Hmm",0,0,function(){return""+this.hours()+ck(this.minutes(),2);});ct("Hmmss",0,0,function(){return""+this.hours()+ck(this.minutes(),2)+ck(this.seconds(),2);});function ei(eX,eY){ct(eX,0,0,function(){return this.localeData().meridiem(this.hours(),this.minutes(),eY);});}ei("a",true);ei("A",false);cb("hour","h");dT("hour",13);function R(eY,eX){return eX._meridiemParse;}bb("a",R);bb("A",R);bb("H",aq);bb("h",aq);bb("k",aq);bb("HH",aq,aI);bb("hh",aq,aI);bb("kk",aq,aI);bb("hmm",ch);bb("hmmss",ea);bb("Hmm",ch);bb("Hmmss",ea);bR(["H","HH"],eB);bR(["k","kk"],function(eY,e0,eZ){var eX=cM(eY);e0[eB]=eX===24?0:eX;});bR(["a","A"],function(eX,eZ,eY){eY._isPm=eY._locale.isPM(eX);eY._meridiem=eX;});bR(["h","hh"],function(eX,eZ,eY){eZ[eB]=cM(eX);a9(eY).bigHour=true;});bR("hmm",function(eX,e0,eY){var eZ=eX.length-2;e0[eB]=cM(eX.substr(0,eZ));e0[dE]=cM(eX.substr(eZ));a9(eY).bigHour=true;});bR("hmmss",function(eX,e1,eY){var e0=eX.length-4;var eZ=eX.length-2;e1[eB]=cM(eX.substr(0,e0));e1[dE]=cM(eX.substr(e0,2));e1[ai]=cM(eX.substr(eZ));a9(eY).bigHour=true;});bR("Hmm",function(eX,e0,eY){var eZ=eX.length-2;e0[eB]=cM(eX.substr(0,eZ));e0[dE]=cM(eX.substr(eZ));});bR("Hmmss",function(eX,e1,eY){var e0=eX.length-4;var eZ=eX.length-2;e1[eB]=cM(eX.substr(0,e0));e1[dE]=cM(eX.substr(e0,2));e1[ai]=cM(eX.substr(eZ));});function ca(eX){return((eX+"").toLowerCase().charAt(0)==="p");}var b2=/[ap]\.?m?\.?/i;function aR(eX,eY,eZ){if(eX>11){return eZ?"pm":"PM";}else{return eZ?"am":"AM";}}var cl=d8("Hours",true);var bY={calendar:cg,longDateFormat:dU,invalidDate:al,ordinal:b3,dayOfMonthOrdinalParse:eV,relativeTime:eu,months:P,monthsShort:dY,week:bZ,weekdays:S,weekdaysMin:br,weekdaysShort:k,meridiemParse:b2};var bv={};var l={};var cU;function dk(eX){return eX?eX.toLowerCase().replace("_","-"):eX;}function cT(e2){var e0=0,eY,e1,eX,eZ;while(e0<e2.length){eZ=dk(e2[e0]).split("-");eY=eZ.length;e1=dk(e2[e0+1]);e1=e1?e1.split("-"):null;while(eY>0){eX=aA(eZ.slice(0,eY).join("-"));if(eX){return eX;}if(e1&&e1.length>=eY&&bW(eZ,e1,true)>=eY-1){break;}eY--;}e0++;}return null;}function aA(eX){var eZ=null;if(!bv[eX]&&(typeof module!=="undefined")&&module&&module.exports){try{eZ=cU._abbr;require("./locale/"+eX);A(eZ);}catch(eY){}}return bv[eX];}function A(eY,eX){var eZ;if(eY){if(F(eX)){eZ=Q(eY);}else{eZ=cw(eY,eX);}if(eZ){cU=eZ;}}return cU._abbr;}function cw(eY,eX){if(eX!==null){var eZ=bY;eX.abbr=eY;if(bv[eY]!=null){eK("defineLocaleOverride","use moment.updateLocale(localeName, config) to change an existing locale. moment.defineLocale(localeName, config) should only be used for creating a new locale See http://momentjs.com/guides/#/warnings/define-locale/ for more info.");eZ=bv[eY]._config;}else{if(eX.parentLocale!=null){if(bv[eX.parentLocale]!=null){eZ=bv[eX.parentLocale]._config;}else{if(!l[eX.parentLocale]){l[eX.parentLocale]=[];}l[eX.parentLocale].push({name:eY,config:eX});return null;}}}bv[eY]=new cy(d4(eZ,eX));if(l[eY]){l[eY].forEach(function(e0){cw(e0.name,e0.config);});}A(eY);return bv[eY];}else{delete bv[eY];return null;}}function eg(eZ,eY){if(eY!=null){var eX,e0=bY;if(bv[eZ]!=null){e0=bv[eZ]._config;}eY=d4(e0,eY);eX=new cy(eY);eX.parentLocale=bv[eZ];bv[eZ]=eX;A(eZ);}else{if(bv[eZ]!=null){if(bv[eZ].parentLocale!=null){bv[eZ]=bv[eZ].parentLocale;}else{if(bv[eZ]!=null){delete bv[eZ];}}}}return bv[eZ];}function Q(eY){var eX;if(eY&&eY._locale&&eY._locale._abbr){eY=eY._locale._abbr;}if(!eY){return cU;}if(!V(eY)){eX=aA(eY);if(eX){return eX;}eY=[eY];}return cT(eY);}function b1(){return dJ(bv);}function cK(eX){var eZ;var eY=eX._a;if(eY&&a9(eX).overflow===-2){eZ=eY[i]<0||eY[i]>11?i:eY[eo]<1||eY[eo]>bE(eY[eM],eY[i])?eo:eY[eB]<0||eY[eB]>24||(eY[eB]===24&&(eY[dE]!==0||eY[ai]!==0||eY[bH]!==0))?eB:eY[dE]<0||eY[dE]>59?dE:eY[ai]<0||eY[ai]>59?ai:eY[bH]<0||eY[bH]>999?bH:-1;if(a9(eX)._overflowDayOfYear&&(eZ<eM||eZ>eo)){eZ=eo;}if(a9(eX)._overflowWeeks&&eZ===-1){eZ=cf;}if(a9(eX)._overflowWeekday&&eZ===-1){eZ=h;}a9(eX).overflow=eZ;}return eX;}var j=/^\s*((?:[+-]\d{6}|\d{4})-(?:\d\d-\d\d|W\d\d-\d|W\d\d|\d\d\d|\d\d))(?:(T| )(\d\d(?::\d\d(?::\d\d(?:[.,]\d+)?)?)?)([\+\-]\d\d(?::?\d\d)?|\s*Z)?)?$/;var aQ=/^\s*((?:[+-]\d{6}|\d{4})(?:\d\d\d\d|W\d\d\d|W\d\d|\d\d\d|\d\d))(?:(T| )(\d\d(?:\d\d(?:\d\d(?:[.,]\d+)?)?)?)([\+\-]\d\d(?::?\d\d)?|\s*Z)?)?$/;var cB=/Z|[+-]\d\d(?::?\d\d)?/;var cO=[["YYYYYY-MM-DD",/[+-]\d{6}-\d\d-\d\d/],["YYYY-MM-DD",/\d{4}-\d\d-\d\d/],["GGGG-[W]WW-E",/\d{4}-W\d\d-\d/],["GGGG-[W]WW",/\d{4}-W\d\d/,false],["YYYY-DDD",/\d{4}-\d{3}/],["YYYY-MM",/\d{4}-\d\d/,false],["YYYYYYMMDD",/[+-]\d{10}/],["YYYYMMDD",/\d{8}/],["GGGG[W]WWE",/\d{4}W\d{3}/],["GGGG[W]WW",/\d{4}W\d{2}/,false],["YYYYDDD",/\d{7}/]];var cm=[["HH:mm:ss.SSSS",/\d\d:\d\d:\d\d\.\d+/],["HH:mm:ss,SSSS",/\d\d:\d\d:\d\d,\d+/],["HH:mm:ss",/\d\d:\d\d:\d\d/],["HH:mm",/\d\d:\d\d/],["HHmmss.SSSS",/\d\d\d\d\d\d\.\d+/],["HHmmss,SSSS",/\d\d\d\d\d\d,\d+/],["HHmmss",/\d\d\d\d\d\d/],["HHmm",/\d\d\d\d/],["HH",/\d\d/]];var bS=/^\/?Date\((\-?\d+)/i;function C(eY){var e2,e0,e4=eY._i,e3=j.exec(e4)||aQ.exec(e4),e5,eX,e1,eZ;if(e3){a9(eY).iso=true;for(e2=0,e0=cO.length;e2<e0;e2++){if(cO[e2][1].exec(e3[1])){eX=cO[e2][0];e5=cO[e2][2]!==false;break;}}if(eX==null){eY._isValid=false;return;}if(e3[3]){for(e2=0,e0=cm.length;e2<e0;e2++){if(cm[e2][1].exec(e3[3])){e1=(e3[2]||" ")+cm[e2][0];break;}}if(e1==null){eY._isValid=false;return;}}if(!e5&&e1!=null){eY._isValid=false;return;}if(e3[4]){if(cB.exec(e3[4])){eZ="Z";}else{eY._isValid=false;return;}}eY._f=eX+(e1||"")+(eZ||"");bU(eY);}else{eY._isValid=false;}}var bD=/^((?:Mon|Tue|Wed|Thu|Fri|Sat|Sun),?\s)?(\d?\d\s(?:Jan|Feb|Mar|Apr|May|Jun|Jul|Aug|Sep|Oct|Nov|Dec)\s(?:\d\d)?\d\d\s)(\d\d:\d\d)(\:\d\d)?(\s(?:UT|GMT|[ECMP][SD]T|[A-IK-Za-ik-z]|[+-]\d{4}))$/;function bQ(e0){var e7,e6,e5,eX,e4,e1;var e9={" GMT":" +0000"," EDT":" -0400"," EST":" -0500"," CDT":" -0500"," CST":" -0600"," MDT":" -0600"," MST":" -0700"," PDT":" -0700"," PST":" -0800"};var e3="YXWVUTSRQPONZABCDEFGHIKLM";var e8,eY;e7=e0._i.replace(/\([^\)]*\)|[\n\t]/g," ").replace(/(\s\s+)/g," ").replace(/^\s|\s$/g,"");e6=bD.exec(e7);if(e6){e5=e6[1]?"ddd"+((e6[1].length===5)?", ":" "):"";eX="D MMM "+((e6[2].length>10)?"YYYY ":"YY ");e4="HH:mm"+(e6[4]?":ss":"");if(e6[1]){var e2=new Date(e6[2]);var eZ=["Sun","Mon","Tue","Wed","Thu","Fri","Sat"][e2.getDay()];if(e6[1].substr(0,3)!==eZ){a9(e0).weekdayMismatch=true;e0._isValid=false;return;}}switch(e6[5].length){case 2:if(eY===0){e8=" +0000";}else{eY=e3.indexOf(e6[5][1].toUpperCase())-12;e8=((eY<0)?" -":" +")+((""+eY).replace(/^-?/,"0")).match(/..$/)[0]+"00";}break;case 4:e8=e9[e6[5]];break;default:e8=e9[" GMT"];}e6[5]=e8;e0._i=e6.splice(1).join("");e1=" ZZ";e0._f=e5+eX+e4+e1;bU(e0);a9(e0).rfc2822=true;}else{e0._isValid=false;}}function ba(eY){var eX=bS.exec(eY._i);if(eX!==null){eY._d=new Date(+eX[1]);return;}C(eY);if(eY._isValid===false){delete eY._isValid;}else{return;}bQ(eY);if(eY._isValid===false){delete eY._isValid;}else{return;}ex.createFromInputFallback(eY);}ex.createFromInputFallback=eb("value provided is not in a recognized RFC2822 or ISO format. moment construction falls back to js Date(), which is not reliable across all browsers and versions. Non RFC2822/ISO date formats are discouraged and will be removed in an upcoming major release. Please refer to http://momentjs.com/guides/#/warnings/js-date/ for more info.",function(eX){eX._d=new Date(eX._i+(eX._useUTC?" UTC":""));});function d6(eY,eX,eZ){if(eY!=null){return eY;}if(eX!=null){return eX;}return eZ;}function a0(eY){var eX=new Date(ex.now());if(eY._useUTC){return[eX.getUTCFullYear(),eX.getUTCMonth(),eX.getUTCDate()];}return[eX.getFullYear(),eX.getMonth(),eX.getDate()];}function e(e1){var e2,e0,eZ=[],eY,eX;if(e1._d){return;}eY=a0(e1);if(e1._w&&e1._a[eo]==null&&e1._a[i]==null){cY(e1);}if(e1._dayOfYear!=null){eX=d6(e1._a[eM],eY[eM]);if(e1._dayOfYear>dC(eX)||e1._dayOfYear===0){a9(e1)._overflowDayOfYear=true;}e0=dr(eX,0,e1._dayOfYear);e1._a[i]=e0.getUTCMonth();e1._a[eo]=e0.getUTCDate();}for(e2=0;e2<3&&e1._a[e2]==null;++e2){e1._a[e2]=eZ[e2]=eY[e2];}for(;e2<7;e2++){e1._a[e2]=eZ[e2]=(e1._a[e2]==null)?(e2===2?1:0):e1._a[e2];}if(e1._a[eB]===24&&e1._a[dE]===0&&e1._a[ai]===0&&e1._a[bH]===0){e1._nextDay=true;e1._a[eB]=0;}e1._d=(e1._useUTC?dr:d5).apply(null,eZ);if(e1._tzm!=null){e1._d.setUTCMinutes(e1._d.getUTCMinutes()-e1._tzm);}if(e1._nextDay){e1._a[eB]=24;}}function cY(e0){var e3,eX,eY,e1,e6,e4,e5,e2;e3=e0._w;if(e3.GG!=null||e3.W!=null||e3.E!=null){e6=1;e4=4;eX=d6(e3.GG,e0._a[eM],en(dy(),1,4).year);eY=d6(e3.W,1);e1=d6(e3.E,1);if(e1<1||e1>7){e2=true;}}else{e6=e0._locale._week.dow;e4=e0._locale._week.doy;var eZ=en(dy(),e6,e4);eX=d6(e3.gg,e0._a[eM],eZ.year);eY=d6(e3.w,eZ.week);if(e3.d!=null){e1=e3.d;if(e1<0||e1>6){e2=true;}}else{if(e3.e!=null){e1=e3.e+e6;if(e3.e<0||e3.e>6){e2=true;}}else{e1=e6;}}}if(eY<1||eY>E(eX,e6,e4)){a9(e0)._overflowWeeks=true;}else{if(e2!=null){a9(e0)._overflowWeekday=true;}else{e5=bx(eX,eY,e1,e6,e4);e0._a[eM]=e5.year;e0._dayOfYear=e5.dayOfYear;}}}ex.ISO_8601=function(){};ex.RFC_2822=function(){};function bU(eZ){if(eZ._f===ex.ISO_8601){C(eZ);return;}if(eZ._f===ex.RFC_2822){bQ(eZ);return;}eZ._a=[];a9(eZ).empty=true;var e2=""+eZ._i,e1,eY,e5,e0,e4,eX=e2.length,e3=0;e5=bC(eZ._f,eZ._locale).match(bO)||[];for(e1=0;e1<e5.length;e1++){e0=e5[e1];eY=(e2.match(bB(e0,eZ))||[])[0];if(eY){e4=e2.substr(0,e2.indexOf(eY));if(e4.length>0){a9(eZ).unusedInput.push(e4);}e2=e2.slice(e2.indexOf(eY)+eY.length);e3+=eY.length;}if(a7[e0]){if(eY){a9(eZ).empty=false;}else{a9(eZ).unusedTokens.push(e0);}u(e0,eY,eZ);}else{if(eZ._strict&&!eY){a9(eZ).unusedTokens.push(e0);}}}a9(eZ).charsLeftOver=eX-e3;if(e2.length>0){a9(eZ).unusedInput.push(e2);}if(eZ._a[eB]<=12&&a9(eZ).bigHour===true&&eZ._a[eB]>0){a9(eZ).bigHour=undefined;}a9(eZ).parsedDateParts=eZ._a.slice(0);a9(eZ).meridiem=eZ._meridiem;eZ._a[eB]=ec(eZ._locale,eZ._a[eB],eZ._meridiem);e(eZ);cK(eZ);}function ec(eX,eZ,e0){var eY;if(e0==null){return eZ;}if(eX.meridiemHour!=null){return eX.meridiemHour(eZ,e0);}else{if(eX.isPM!=null){eY=eX.isPM(e0);if(eY&&eZ<12){eZ+=12;}if(!eY&&eZ===12){eZ=0;}return eZ;}else{return eZ;}}}function dA(eX){var e1,eZ,e0,eY,e2;if(eX._f.length===0){a9(eX).invalidFormat=true;eX._d=new Date(NaN);return;}for(eY=0;eY<eX._f.length;eY++){e2=0;e1=p({},eX);if(eX._useUTC!=null){e1._useUTC=eX._useUTC;}e1._f=eX._f[eY];bU(e1);if(!an(e1)){continue;}e2+=a9(e1).charsLeftOver;e2+=a9(e1).unusedTokens.length*10;a9(e1).score=e2;if(e0==null||e2<e0){e0=e2;eZ=e1;}}eR(eX,eZ||e1);}function a2(eX){if(eX._d){return;}var eY=dH(eX._i);eX._a=bl([eY.year,eY.month,eY.day||eY.date,eY.hour,eY.minute,eY.second,eY.millisecond],function(eZ){return eZ&&parseInt(eZ,10);});e(eX);}function ak(eX){var eY=new em(cK(bp(eX)));if(eY._nextDay){eY.add(1,"d");eY._nextDay=undefined;}return eY;}function bp(eY){var eX=eY._i,eZ=eY._f;eY._locale=eY._locale||Q(eY._l);if(eX===null||(eZ===undefined&&eX==="")){return N({nullInput:true});}if(typeof eX==="string"){eY._i=eX=eY._locale.preparse(eX);}if(b8(eX)){return new em(cK(eX));}else{if(eq(eX)){eY._d=eX;}else{if(V(eZ)){dA(eY);}else{if(eZ){bU(eY);}else{cq(eY);}}}}if(!an(eY)){eY._d=null;}return eY;}function cq(eY){var eX=eY._i;if(F(eX)){eY._d=new Date(ex.now());}else{if(eq(eX)){eY._d=new Date(eX.valueOf());}else{if(typeof eX==="string"){ba(eY);}else{if(V(eX)){eY._a=bl(eX.slice(0),function(eZ){return parseInt(eZ,10);});e(eY);}else{if(v(eX)){a2(eY);}else{if(q(eX)){eY._d=new Date(eX);}else{ex.createFromInputFallback(eY);}}}}}}}function ac(e0,e1,eX,eZ,eY){var e2={};if(eX===true||eX===false){eZ=eX;eX=undefined;}if((v(e0)&&ce(e0))||(V(e0)&&e0.length===0)){e0=undefined;}e2._isAMomentObject=true;e2._useUTC=e2._isUTC=eY;e2._l=eX;e2._i=e0;e2._f=e1;e2._strict=eZ;return ak(e2);}function dy(eZ,e0,eX,eY){return ac(eZ,e0,eX,eY,false);}var cF=eb("moment().min is deprecated, use moment.max instead. http://momentjs.com/guides/#/warnings/min-max/",function(){var eX=dy.apply(null,arguments);if(this.isValid()&&eX.isValid()){return eX<this?this:eX;}else{return N();}});var ej=eb("moment().max is deprecated, use moment.min instead. http://momentjs.com/guides/#/warnings/min-max/",function(){var eX=dy.apply(null,arguments);if(this.isValid()&&eX.isValid()){return eX>this?this:eX;}else{return N();}});function eS(eZ,e0){var eY,eX;if(e0.length===1&&V(e0[0])){e0=e0[0];}if(!e0.length){return dy();}eY=e0[0];for(eX=1;eX<e0.length;++eX){if(!e0[eX].isValid()||e0[eX][eZ](eY)){eY=e0[eX];}}return eY;}function n(){var eX=[].slice.call(arguments,0);return eS("isBefore",eX);}function bj(){var eX=[].slice.call(arguments,0);return eS("isAfter",eX);}var cu=function(){return Date.now?Date.now():+(new Date());};var eQ=["year","quarter","month","week","day","hour","minute","second","millisecond"];function ar(eY){for(var e0 in eY){if(!(eQ.indexOf(e0)!==-1&&(eY[e0]==null||!isNaN(eY[e0])))){return false;}}var eX=false;for(var eZ=0;eZ<eQ.length;++eZ){if(eY[eQ[eZ]]){if(eX){return false;}if(parseFloat(eY[eQ[eZ]])!==cM(eY[eQ[eZ]])){eX=true;}}}return true;}function s(){return this._isValid;}function aU(){return dc(NaN);}function dL(e2){var e4=dH(e2),e3=e4.year||0,eY=e4.quarter||0,eZ=e4.month||0,eX=e4.week||0,e7=e4.day||0,e5=e4.hour||0,e1=e4.minute||0,e6=e4.second||0,e0=e4.millisecond||0;this._isValid=ar(e4);this._milliseconds=+e0+e6*1000+e1*60000+e5*1000*60*60;this._days=+e7+eX*7;this._months=+eZ+eY*3+e3*12;this._data={};this._locale=Q();this._bubble();}function ae(eX){return eX instanceof dL;}function ee(eX){if(eX<0){return Math.round(-1*eX)*-1;}else{return Math.round(eX);}}function bt(eX,eY){ct(eX,0,0,function(){var e0=this.utcOffset();var eZ="+";if(e0<0){e0=-e0;eZ="-";}return eZ+ck(~~(e0/60),2)+eY+ck(~~(e0)%60,2);});}bt("Z",":");bt("ZZ","");bb("Z",cA);bb("ZZ",cA);bR(["Z","ZZ"],function(eX,eZ,eY){eY._useUTC=true;eY._tzm=m(cA,eX);});var ew=/([\+\-]|\d\d)/gi;function m(e2,eY){var e0=(eY||"").match(e2);if(e0===null){return null;}var eX=e0[e0.length-1]||[];var e1=(eX+"").match(ew)||["-",0,0];var eZ=+(e1[1]*60)+cM(e1[2]);return eZ===0?0:e1[0]==="+"?eZ:-eZ;}function aB(eX,eY){var eZ,e0;if(eY._isUTC){eZ=eY.clone();e0=(b8(eX)||eq(eX)?eX.valueOf():dy(eX).valueOf())-eZ.valueOf();eZ._d.setTime(eZ._d.valueOf()+e0);ex.updateOffset(eZ,false);return eZ;}else{return dy(eX).local();}}function aM(eX){return -Math.round(eX._d.getTimezoneOffset()/15)*15;}ex.updateOffset=function(){};function ds(eX,e0,e1){var eZ=this._offset||0,eY;if(!this.isValid()){return eX!=null?this:NaN;}if(eX!=null){if(typeof eX==="string"){eX=m(cA,eX);if(eX===null){return this;}}else{if(Math.abs(eX)<16&&!e1){eX=eX*60;}}if(!this._isUTC&&e0){eY=aM(this);}this._offset=eX;this._isUTC=true;if(eY!=null){this.add(eY,"m");}if(eZ!==eX){if(!e0||this._changeInProgress){aX(this,dc(eX-eZ,"m"),1,false);}else{if(!this._changeInProgress){this._changeInProgress=true;ex.updateOffset(this,true);this._changeInProgress=null;}}}return this;}else{return this._isUTC?eZ:aM(this);}}function dm(eX,eY){if(eX!=null){if(typeof eX!=="string"){eX=-eX;}this.utcOffset(eX,eY);return this;}else{return -this.utcOffset();}}function aY(eX){return this.utcOffset(0,eX);}function dp(eX){if(this._isUTC){this.utcOffset(0,eX);this._isUTC=false;if(eX){this.subtract(aM(this),"m");}}return this;}function b5(){if(this._tzm!=null){this.utcOffset(this._tzm,false,true);}else{if(typeof this._i==="string"){var eX=m(bF,this._i);if(eX!=null){this.utcOffset(eX);}else{this.utcOffset(0,true);}}}return this;}function az(eX){if(!this.isValid()){return false;}eX=eX?dy(eX).utcOffset():0;return(this.utcOffset()-eX)%60===0;}function aL(){return(this.utcOffset()>this.clone().month(0).utcOffset()||this.utcOffset()>this.clone().month(5).utcOffset());}function b(){if(!F(this._isDSTShifted)){return this._isDSTShifted;}var eY={};p(eY,this);eY=bp(eY);if(eY._a){var eX=eY._isUTC?cr(eY._a):dy(eY._a);this._isDSTShifted=this.isValid()&&bW(eY._a,eX.toArray())>0;}else{this._isDSTShifted=false;}return this._isDSTShifted;}function dt(){return this.isValid()?!this._isUTC:false;}function bP(){return this.isValid()?this._isUTC:false;}function dz(){return this.isValid()?this._isUTC&&this._offset===0:false;}var Z=/^(\-)?(?:(\d*)[. ])?(\d+)\:(\d+)(?:\:(\d+)(\.\d*)?)?$/;var cs=/^(-)?P(?:(-?[0-9,.]*)Y)?(?:(-?[0-9,.]*)M)?(?:(-?[0-9,.]*)W)?(?:(-?[0-9,.]*)D)?(?:T(?:(-?[0-9,.]*)H)?(?:(-?[0-9,.]*)M)?(?:(-?[0-9,.]*)S)?)?$/;function dc(eZ,e2){var e3=eZ,e1=null,eY,e0,eX;if(ae(eZ)){e3={ms:eZ._milliseconds,d:eZ._days,M:eZ._months};}else{if(q(eZ)){e3={};if(e2){e3[e2]=eZ;}else{e3.milliseconds=eZ;}}else{if(!!(e1=Z.exec(eZ))){eY=(e1[1]==="-")?-1:1;e3={y:0,d:cM(e1[eo])*eY,h:cM(e1[eB])*eY,m:cM(e1[dE])*eY,s:cM(e1[ai])*eY,ms:cM(ee(e1[bH]*1000))*eY};}else{if(!!(e1=cs.exec(eZ))){eY=(e1[1]==="-")?-1:1;e3={y:eN(e1[2],eY),M:eN(e1[3],eY),w:eN(e1[4],eY),d:eN(e1[5],eY),h:eN(e1[6],eY),m:eN(e1[7],eY),s:eN(e1[8],eY)};}else{if(e3==null){e3={};}else{if(typeof e3==="object"&&("from" in e3||"to" in e3)){eX=bL(dy(e3.from),dy(e3.to));e3={};e3.ms=eX.milliseconds;e3.M=eX.months;}}}}}}e0=new dL(e3);if(ae(eZ)&&dh(eZ,"_locale")){e0._locale=eZ._locale;}return e0;}dc.fn=dL.prototype;dc.invalid=aU;function eN(eZ,eX){var eY=eZ&&parseFloat(eZ.replace(",","."));return(isNaN(eY)?0:eY)*eX;}function dw(eZ,eX){var eY={milliseconds:0,months:0};eY.months=eX.month()-eZ.month()+(eX.year()-eZ.year())*12;if(eZ.clone().add(eY.months,"M").isAfter(eX)){--eY.months;}eY.milliseconds=+eX-+(eZ.clone().add(eY.months,"M"));return eY;}function bL(eZ,eX){var eY;if(!(eZ.isValid()&&eX.isValid())){return{milliseconds:0,months:0};}eX=aB(eX,eZ);if(eZ.isBefore(eX)){eY=dw(eZ,eX);}else{eY=dw(eX,eZ);eY.milliseconds=-eY.milliseconds;eY.months=-eY.months;}return eY;}function a3(eY,eX){return function(e2,e1){var e0,eZ;if(e1!==null&&!isNaN(+e1)){eK(eX,"moment()."+eX+"(period, number) is deprecated. Please use moment()."+eX+"(number, period). See http://momentjs.com/guides/#/warnings/add-inverted-param/ for more info.");eZ=e2;e2=e1;e1=eZ;}e2=typeof e2==="string"?+e2:e2;e0=dc(e2,e1);aX(this,e0,eY);return this;};}function aX(eZ,e2,e1,e0){var eY=e2._milliseconds,e3=ee(e2._days),eX=ee(e2._months);if(!eZ.isValid()){return;}e0=e0==null?true:e0;if(eY){eZ._d.setTime(eZ._d.valueOf()+eY*e1);}if(e3){aK(eZ,"Date",dx(eZ,"Date")+e3*e1);}if(eX){aT(eZ,dx(eZ,"Month")+eX*e1);}if(e0){ex.updateOffset(eZ,e3||eX);}}var aW=a3(1,"add");var ax=a3(-1,"subtract");function au(eZ,eX){var eY=eZ.diff(eX,"days",true);return eY<-6?"sameElse":eY<-1?"lastWeek":eY<0?"lastDay":eY<1?"sameDay":eY<2?"nextDay":eY<7?"nextWeek":"sameElse";}function cc(e2,eX){var e0=e2||dy(),eZ=aB(e0,this).startOf("day"),e1=ex.calendarFormat(this,eZ)||"sameElse";var eY=eX&&(a4(eX[e1])?eX[e1].call(this,e0):eX[e1]);return this.format(eY||this.localeData().calendar(e1,this,dy(e0)));}function dn(){return new em(this);}function cz(eY,eX){var eZ=b8(eY)?eY:dy(eY);if(!(this.isValid()&&eZ.isValid())){return false;}eX=cL(!F(eX)?eX:"millisecond");if(eX==="millisecond"){return this.valueOf()>eZ.valueOf();}else{return eZ.valueOf()<this.clone().startOf(eX).valueOf();}}function eI(eY,eX){var eZ=b8(eY)?eY:dy(eY);if(!(this.isValid()&&eZ.isValid())){return false;}eX=cL(!F(eX)?eX:"millisecond");if(eX==="millisecond"){return this.valueOf()<eZ.valueOf();}else{return this.clone().endOf(eX).valueOf()<eZ.valueOf();}}function el(e0,eZ,eX,eY){eY=eY||"()";return(eY[0]==="("?this.isAfter(e0,eX):!this.isBefore(e0,eX))&&(eY[1]===")"?this.isBefore(eZ,eX):!this.isAfter(eZ,eX));}function cE(eY,eX){var e0=b8(eY)?eY:dy(eY),eZ;if(!(this.isValid()&&e0.isValid())){return false;}eX=cL(eX||"millisecond");if(eX==="millisecond"){return this.valueOf()===e0.valueOf();}else{eZ=e0.valueOf();return this.clone().startOf(eX).valueOf()<=eZ&&eZ<=this.clone().endOf(eX).valueOf();}}function eD(eY,eX){return this.isSame(eY,eX)||this.isAfter(eY,eX);}function eG(eY,eX){return this.isSame(eY,eX)||this.isBefore(eY,eX);}function K(e0,eZ,eX){var e2,e1,e3,eY;if(!this.isValid()){return NaN;}e2=aB(e0,this);if(!e2.isValid()){return NaN;}e1=(e2.utcOffset()-this.utcOffset())*60000;eZ=cL(eZ);if(eZ==="year"||eZ==="month"||eZ==="quarter"){eY=eh(this,e2);if(eZ==="quarter"){eY=eY/3;}else{if(eZ==="year"){eY=eY/12;}}}else{e3=this-e2;eY=eZ==="second"?e3/1000:eZ==="minute"?e3/60000:eZ==="hour"?e3/3600000:eZ==="day"?(e3-e1)/86400000:eZ==="week"?(e3-e1)/604800000:e3;}return eX?eY:de(eY);}function eh(eY,eX){var e2=((eX.year()-eY.year())*12)+(eX.month()-eY.month()),eZ=eY.clone().add(e2,"months"),e0,e1;if(eX-eZ<0){e0=eY.clone().add(e2-1,"months");e1=(eX-eZ)/(eZ-e0);}else{e0=eY.clone().add(e2+1,"months");e1=(eX-eZ)/(e0-eZ);}return -(e2+e1)||0;}ex.defaultFormat="YYYY-MM-DDTHH:mm:ssZ";ex.defaultFormatUtc="YYYY-MM-DDTHH:mm:ss[Z]";function dZ(){return this.clone().locale("en").format("ddd MMM DD YYYY HH:mm:ss [GMT]ZZ");}function c0(){if(!this.isValid()){return null;}var eX=this.clone().utc();if(eX.year()<0||eX.year()>9999){return af(eX,"YYYYYY-MM-DD[T]HH:mm:ss.SSS[Z]");}if(a4(Date.prototype.toISOString)){return this.toDate().toISOString();}return af(eX,"YYYY-MM-DD[T]HH:mm:ss.SSS[Z]");}function aO(){if(!this.isValid()){return"moment.invalid(/* "+this._i+" */)";}var eZ="moment";var eX="";if(!this.isLocal()){eZ=this.utcOffset()===0?"moment.utc":"moment.parseZone";eX="Z";}var e0="["+eZ+'("]';var eY=(0<=this.year()&&this.year()<=9999)?"YYYY":"YYYYYY";var e2="-MM-DD[T]HH:mm:ss.SSS";var e1=eX+'[")]';return this.format(e0+eY+e2+e1);}function c3(eY){if(!eY){eY=this.isUtc()?ex.defaultFormatUtc:ex.defaultFormat;}var eX=af(this,eY);return this.localeData().postformat(eX);}function dO(eY,eX){if(this.isValid()&&((b8(eY)&&eY.isValid())||dy(eY).isValid())){return dc({to:this,from:eY}).locale(this.locale()).humanize(!eX);}else{return this.localeData().invalidDate();}}function dI(eX){return this.from(dy(),eX);}function ah(eY,eX){if(this.isValid()&&((b8(eY)&&eY.isValid())||dy(eY).isValid())){return dc({from:this,to:eY}).locale(this.locale()).humanize(!eX);}else{return this.localeData().invalidDate();}}function aN(eX){return this.to(dy(),eX);}function eW(eY){var eX;if(eY===undefined){return this._locale._abbr;}else{eX=Q(eY);if(eX!=null){this._locale=eX;}return this;}}var y=eb("moment().lang() is deprecated. Instead, use moment().localeData() to get the language configuration. Use moment().locale() to change languages.",function(eX){if(eX===undefined){return this.localeData();}else{return this.locale(eX);}});function dP(){return this._locale;}function b4(eX){eX=cL(eX);switch(eX){case"year":this.month(0);case"quarter":case"month":this.date(1);case"week":case"isoWeek":case"day":case"date":this.hours(0);case"hour":this.minutes(0);case"minute":this.seconds(0);case"second":this.milliseconds(0);}if(eX==="week"){this.weekday(0);}if(eX==="isoWeek"){this.isoWeekday(1);}if(eX==="quarter"){this.month(Math.floor(this.month()/3)*3);}return this;}function er(eX){eX=cL(eX);if(eX===undefined||eX==="millisecond"){return this;}if(eX==="date"){eX="day";}return this.startOf(eX).add(1,(eX==="isoWeek"?"week":eX)).subtract(1,"ms");}function dS(){return this._d.valueOf()-((this._offset||0)*60000);}function bw(){return Math.floor(this.valueOf()/1000);}function cX(){return new Date(this.valueOf());}function dG(){var eX=this;return[eX.year(),eX.month(),eX.date(),eX.hour(),eX.minute(),eX.second(),eX.millisecond()];}function dQ(){var eX=this;return{years:eX.year(),months:eX.month(),date:eX.date(),hours:eX.hours(),minutes:eX.minutes(),seconds:eX.seconds(),milliseconds:eX.milliseconds()};}function c4(){return this.isValid()?this.toISOString():null;}function o(){return an(this);}function dB(){return eR({},a9(this));}function cv(){return a9(this).overflow;}function eJ(){return{input:this._i,format:this._f,locale:this._locale,isUTC:this._isUTC,strict:this._strict};}ct(0,["gg",2],0,function(){return this.weekYear()%100;});ct(0,["GG",2],0,function(){return this.isoWeekYear()%100;});function W(eY,eX){ct(0,[eY,eY.length],0,eX);}W("gggg","weekYear");W("ggggg","weekYear");W("GGGG","isoWeekYear");W("GGGGG","isoWeekYear");cb("weekYear","gg");cb("isoWeekYear","GG");dT("weekYear",1);dT("isoWeekYear",1);bb("G",B);bb("g",B);bb("GG",aq,aI);bb("gg",aq,aI);bb("GGGG",ao,aG);bb("gggg",ao,aG);bb("GGGGG",am,aF);bb("ggggg",am,aF);X(["gggg","ggggg","GGGG","GGGGG"],function(eX,e0,eY,eZ){e0[eZ.substr(0,2)]=cM(eX);});X(["gg","GG"],function(eX,e0,eY,eZ){e0[eZ]=ex.parseTwoDigitYear(eX);});function bo(eX){return co.call(this,eX,this.week(),this.weekday(),this.localeData()._week.dow,this.localeData()._week.doy);}function dW(eX){return co.call(this,eX,this.isoWeek(),this.isoWeekday(),1,4);}function c7(){return E(this.year(),1,4);}function I(){var eX=this.localeData()._week;return E(this.year(),eX.dow,eX.doy);}function co(eX,eY,e0,e2,e1){var eZ;if(eX==null){return en(this,e2,e1).year;}else{eZ=E(eX,e2,e1);if(eY>eZ){eY=eZ;}return a5.call(this,eX,eY,e0,e2,e1);}}function a5(eZ,eY,e1,e3,e2){var e0=bx(eZ,eY,e1,e3,e2),eX=dr(e0.year,0,e0.dayOfYear);this.year(eX.getUTCFullYear());this.month(eX.getUTCMonth());this.date(eX.getUTCDate());return this;}ct("Q",0,"Qo","quarter");cb("quarter","Q");dT("quarter",7);bb("Q",aJ);bR("Q",function(eX,eY){eY[i]=(cM(eX)-1)*3;});function bX(eX){return eX==null?Math.ceil((this.month()+1)/3):this.month((eX-1)*3+this.month()%3);}ct("D",["DD",2],"Do","date");cb("date","D");dT("date",9);bb("D",aq);bb("DD",aq,aI);bb("Do",function(eY,eX){return eY?(eX._dayOfMonthOrdinalParse||eX._ordinalParse):eX._dayOfMonthOrdinalParseLenient;});bR(["D","DD"],eo);bR("Do",function(eX,eY){eY[eo]=cM(eX.match(aq)[0],10);});var cj=d8("Date",true);ct("DDD",["DDDD",3],"DDDo","dayOfYear");cb("dayOfYear","DDD");dT("dayOfYear",4);bb("DDD",ap);bb("DDDD",aH);bR(["DDD","DDDD"],function(eX,eZ,eY){eY._dayOfYear=cM(eX);});function bd(eX){var eY=Math.round((this.clone().startOf("day")-this.clone().startOf("year"))/86400000)+1;return eX==null?eY:this.add((eX-eY),"d");}ct("m",["mm",2],0,"minute");cb("minute","m");dT("minute",14);bb("m",aq);bb("mm",aq,aI);bR(["m","mm"],dE);var eH=d8("Minutes",false);ct("s",["ss",2],0,"second");cb("second","s");dT("second",15);bb("s",aq);bb("ss",aq,aI);bR(["s","ss"],ai);var bs=d8("Seconds",false);ct("S",0,0,function(){return ~~(this.millisecond()/100);});ct(0,["SS",2],0,function(){return ~~(this.millisecond()/10);});ct(0,["SSS",3],0,"millisecond");ct(0,["SSSS",4],0,function(){return this.millisecond()*10;});ct(0,["SSSSS",5],0,function(){return this.millisecond()*100;});ct(0,["SSSSSS",6],0,function(){return this.millisecond()*1000;});ct(0,["SSSSSSS",7],0,function(){return this.millisecond()*10000;});ct(0,["SSSSSSSS",8],0,function(){return this.millisecond()*100000;});ct(0,["SSSSSSSSS",9],0,function(){return this.millisecond()*1000000;});cb("millisecond","ms");dT("millisecond",16);bb("S",ap,aJ);bb("SS",ap,aI);bb("SSS",ap,aH);var bi;for(bi="SSSS";bi.length<=9;bi+="S"){bb(bi,r);}function c1(eX,eY){eY[bH]=cM(("0."+eX)*1000);}for(bi="S";bi.length<=9;bi+="S"){bR(bi,c1);}var bV=d8("Milliseconds",false);ct("z",0,0,"zoneAbbr");ct("zz",0,0,"zoneName");function eE(){return this._isUTC?"UTC":"";}function ed(){return this._isUTC?"Coordinated Universal Time":"";}var b9=em.prototype;b9.add=aW;b9.calendar=cc;b9.clone=dn;b9.diff=K;b9.endOf=er;b9.format=c3;b9.from=dO;b9.fromNow=dI;b9.to=ah;b9.toNow=aN;b9.get=ay;b9.invalidAt=cv;b9.isAfter=cz;b9.isBefore=eI;b9.isBetween=el;b9.isSame=cE;b9.isSameOrAfter=eD;b9.isSameOrBefore=eG;b9.isValid=o;b9.lang=y;b9.locale=eW;b9.localeData=dP;b9.max=ej;b9.min=cF;b9.parsingFlags=dB;b9.set=at;b9.startOf=b4;b9.subtract=ax;b9.toArray=dG;b9.toObject=dQ;b9.toDate=cX;b9.toISOString=c0;b9.inspect=aO;b9.toJSON=c4;b9.toString=dZ;b9.unix=bw;b9.valueOf=dS;b9.creationData=eJ;b9.year=cC;b9.isLeapYear=cS;b9.weekYear=bo;b9.isoWeekYear=dW;b9.quarter=b9.quarters=bX;b9.month=eA;b9.daysInMonth=bK;b9.week=b9.weeks=J;b9.isoWeek=b9.isoWeeks=x;b9.weeksInYear=I;b9.isoWeeksInYear=c7;b9.date=cj;b9.day=b9.days=ef;b9.weekday=ad;b9.isoWeekday=cp;b9.dayOfYear=bd;b9.hour=b9.hours=cl;b9.minute=b9.minutes=eH;b9.second=b9.seconds=bs;b9.millisecond=b9.milliseconds=bV;b9.utcOffset=ds;b9.utc=aY;b9.local=dp;b9.parseZone=b5;b9.hasAlignedHourOffset=az;b9.isDST=aL;b9.isLocal=dt;b9.isUtcOffset=bP;b9.isUtc=dz;b9.isUTC=dz;b9.zoneAbbr=eE;b9.zoneName=ed;b9.dates=eb("dates accessor is deprecated. Use date instead.",cj);b9.months=eb("months accessor is deprecated. Use month instead",eA);b9.years=eb("years accessor is deprecated. Use year instead",cC);b9.zone=eb("moment().zone is deprecated, use moment().utcOffset instead. http://momentjs.com/guides/#/warnings/zone/",dm);b9.isDSTShifted=eb("isDSTShifted is deprecated. See http://momentjs.com/guides/#/warnings/dst-shifted/ for more information",b);function c9(eX){return dy(eX*1000);}function cJ(){return dy.apply(null,arguments).parseZone();}function du(eX){return eX;}var d1=cy.prototype;d1.calendar=d;d1.longDateFormat=cG;d1.invalidDate=ek;d1.ordinal=ev;d1.preparse=du;d1.postformat=du;d1.relativeTime=T;d1.pastFuture=dV;d1.set=dj;d1.months=aZ;d1.monthsShort=a8;d1.monthsParse=c8;d1.monthsRegex=cV;d1.monthsShortRegex=dg;d1.week=bm;d1.firstDayOfYear=c6;d1.firstDayOfWeek=ag;d1.weekdays=aw;d1.weekdaysMin=ey;d1.weekdaysShort=M;d1.weekdaysParse=bJ;d1.weekdaysRegex=eO;d1.weekdaysShortRegex=aE;d1.weekdaysMinRegex=D;d1.isPM=ca;d1.meridiem=aR;function H(e1,eY,e0,e2){var eX=Q();var eZ=cr().set(e2,eY);return eX[e0](eZ,e1);}function aV(e1,eY,e0){if(q(e1)){eY=e1;e1=undefined;}e1=e1||"";if(eY!=null){return H(e1,eY,e0,"month");}var eZ;var eX=[];for(eZ=0;eZ<12;eZ++){eX[eZ]=H(e1,eZ,e0,"month");}return eX;}function eP(e2,e4,e0,e3){if(typeof e2==="boolean"){if(q(e4)){e0=e4;e4=undefined;}e4=e4||"";}else{e4=e2;e0=e4;e2=false;if(q(e4)){e0=e4;e4=undefined;}e4=e4||"";}var eX=Q(),eY=e2?eX._week.dow:0;if(e0!=null){return H(e4,(e0+eY)%7,e3,"day");}var e1;var eZ=[];for(e1=0;e1<7;e1++){eZ[e1]=H(e4,(e1+eY)%7,e3,"day");}return eZ;}function cQ(eY,eX){return aV(eY,eX,"months");}function cx(eY,eX){return aV(eY,eX,"monthsShort");}function c2(eY,eZ,eX){return eP(eY,eZ,eX,"weekdays");}function cI(eY,eZ,eX){return eP(eY,eZ,eX,"weekdaysShort");}function Y(eY,eZ,eX){return eP(eY,eZ,eX,"weekdaysMin");}A("en",{dayOfMonthOrdinalParse:/\d{1,2}(th|st|nd|rd)/,ordinal:function(eZ){var eX=eZ%10,eY=(cM(eZ%100/10)===1)?"th":(eX===1)?"st":(eX===2)?"nd":(eX===3)?"rd":"th";return eZ+eY;}});ex.lang=eb("moment.lang is deprecated. Use moment.locale instead.",A);ex.langData=eb("moment.langData is deprecated. Use moment.localeData instead.",Q);var et=Math.abs;function bk(){var eX=this._data;this._milliseconds=et(this._milliseconds);this._days=et(this._days);this._months=et(this._months);eX.milliseconds=et(eX.milliseconds);eX.seconds=et(eX.seconds);eX.minutes=et(eX.minutes);eX.hours=et(eX.hours);eX.months=et(eX.months);eX.years=et(eX.years);return this;}function aD(e1,eY,eZ,e0){var eX=dc(eY,eZ);e1._milliseconds+=e0*eX._milliseconds;e1._days+=e0*eX._days;e1._months+=e0*eX._months;return e1._bubble();}function by(eX,eY){return aD(this,eX,eY,1);}function dM(eX,eY){return aD(this,eX,eY,-1);}function ez(eX){if(eX<0){return Math.floor(eX);}else{return Math.ceil(eX);}}function cR(){var eZ=this._milliseconds;var e5=this._days;var eX=this._months;var e1=this._data;var e4,e0,e3,e2,eY;if(!((eZ>=0&&e5>=0&&eX>=0)||(eZ<=0&&e5<=0&&eX<=0))){eZ+=ez(eT(eX)+e5)*86400000;e5=0;eX=0;}e1.milliseconds=eZ%1000;e4=de(eZ/1000);e1.seconds=e4%60;e0=de(e4/60);e1.minutes=e0%60;e3=de(e0/60);e1.hours=e3%24;e5+=de(e3/24);eY=de(f(e5));eX+=eY;e5-=ez(eT(eY));e2=de(eX/12);eX%=12;e1.days=e5;e1.months=eX;e1.years=e2;return this;}function f(eX){return eX*4800/146097;}function eT(eX){return eX*146097/4800;}function eC(eY){if(!this.isValid()){return NaN;}var e0;var eX;var eZ=this._milliseconds;eY=cL(eY);if(eY==="month"||eY==="year"){e0=this._days+eZ/86400000;eX=this._months+f(e0);return eY==="month"?eX:eX/12;}else{e0=this._days+Math.round(eT(this._months));switch(eY){case"week":return e0/7+eZ/604800000;case"day":return e0+eZ/86400000;case"hour":return e0*24+eZ/3600000;case"minute":return e0*1440+eZ/60000;case"second":return e0*86400+eZ/1000;case"millisecond":return Math.floor(e0*86400000)+eZ;default:throw new Error("Unknown unit "+eY);}}}function cZ(){if(!this.isValid()){return NaN;}return(this._milliseconds+this._days*86400000+(this._months%12)*2592000000+cM(this._months/12)*31536000000);}function d3(eX){return function(){return this.as(eX);};}var eU=d3("ms");var L=d3("s");var dq=d3("m");var t=d3("h");var d7=d3("d");var dN=d3("w");var d2=d3("M");var bh=d3("y");function G(eX){eX=cL(eX);return this.isValid()?this[eX+"s"]():NaN;}function b6(eX){return function(){return this.isValid()?this._data[eX]:NaN;};}var c=b6("milliseconds");var be=b6("seconds");var aC=b6("minutes");var U=b6("hours");var bc=b6("days");var eF=b6("months");var bI=b6("years");function d9(){return de(this.days()/7);}var cW=Math.round;var dD={ss:44,s:45,m:45,h:22,d:26,M:11};function aj(eY,e0,eZ,e1,eX){return eX.relativeTime(e0||1,!!eZ,eY,e1);}function dF(e1,eY,e5){var eZ=dc(e1).abs();var e6=cW(eZ.as("s"));var e0=cW(eZ.as("m"));var e4=cW(eZ.as("h"));var e7=cW(eZ.as("d"));var eX=cW(eZ.as("M"));var e2=cW(eZ.as("y"));var e3=e6<=dD.ss&&["s",e6]||e6<dD.s&&["ss",e6]||e0<=1&&["m"]||e0<dD.m&&["mm",e0]||e4<=1&&["h"]||e4<dD.h&&["hh",e4]||e7<=1&&["d"]||e7<dD.d&&["dd",e7]||eX<=1&&["M"]||eX<dD.M&&["MM",eX]||e2<=1&&["y"]||["yy",e2];e3[2]=eY;e3[3]=+e1>0;e3[4]=e5;return aj.apply(null,e3);}function ep(eX){if(eX===undefined){return cW;}if(typeof(eX)==="function"){cW=eX;return true;}return false;}function ci(eX,eY){if(dD[eX]===undefined){return false;}if(eY===undefined){return dD[eX];}dD[eX]=eY;if(eX==="s"){dD.ss=eY-1;}return true;}function a(eZ){if(!this.isValid()){return this.localeData().invalidDate();}var eX=this.localeData();var eY=dF(this,!eZ,eX);if(eZ){eY=eX.pastFuture(+this,eY);}return eX.postformat(eY);}var aS=Math.abs;function bG(){if(!this.isValid()){return this.localeData().invalidDate();}var e7=aS(this._milliseconds)/1000;var e8=aS(this._days);var eZ=aS(this._months);var e1,e6,e3;e1=de(e7/60);e6=de(e1/60);e7%=60;e1%=60;e3=de(eZ/12);eZ%=12;var eY=e3;var e4=eZ;var eX=e8;var e2=e6;var e0=e1;var e9=e7;var e5=this.asSeconds();if(!e5){return"P0D";}return(e5<0?"-":"")+"P"+(eY?eY+"Y":"")+(e4?e4+"M":"")+(eX?eX+"D":"")+((e2||e0||e9)?"T":"")+(e2?e2+"H":"")+(e0?e0+"M":"")+(e9?e9+"S":"");}var d0=dL.prototype;d0.isValid=s;d0.abs=bk;d0.add=by;d0.subtract=dM;d0.as=eC;d0.asMilliseconds=eU;d0.asSeconds=L;d0.asMinutes=dq;d0.asHours=t;d0.asDays=d7;d0.asWeeks=dN;d0.asMonths=d2;d0.asYears=bh;d0.valueOf=cZ;d0._bubble=cR;d0.get=G;d0.milliseconds=c;d0.seconds=be;d0.minutes=aC;d0.hours=U;d0.days=bc;d0.weeks=d9;d0.months=eF;d0.years=bI;d0.humanize=a;d0.toISOString=bG;d0.toString=bG;d0.toJSON=bG;d0.locale=eW;d0.localeData=dP;d0.toIsoString=eb("toIsoString() is deprecated. Please use toISOString() instead (notice the capitals)",bG);d0.lang=y;ct("X",0,0,"unix");ct("x",0,0,"valueOf");bb("x",B);bb("X",eL);bR("X",function(eX,eZ,eY){eY._d=new Date(parseFloat(eX,10)*1000);});bR("x",function(eX,eZ,eY){eY._d=new Date(cM(eX));});ex.version="2.18.1";aP(dy);ex.fn=b9;ex.min=n;ex.max=bj;ex.now=cu;ex.utc=cr;ex.unix=c9;ex.months=cQ;ex.isDate=eq;ex.locale=A;ex.invalid=N;ex.duration=dc;ex.isMoment=b8;ex.weekdays=c2;ex.parseZone=cJ;ex.localeData=Q;ex.isDuration=ae;ex.monthsShort=cx;ex.weekdaysMin=Y;ex.defineLocale=cw;ex.updateLocale=eg;ex.locales=b1;ex.weekdaysShort=cI;ex.normalizeUnits=cL;ex.relativeTimeRounding=ep;ex.relativeTimeThreshold=ci;ex.calendarFormat=au;ex.prototype=b9;return ex;})));
jQuery.extend({createUploadIframe:function(d,b){var a="jUploadFrame"+d;if(window.ActiveXObject){var c=document.createElement("iframe");c.id=a;c.name=a;if(typeof b=="boolean"){c.src="javascript:false";}else{if(typeof b=="string"){c.src=b;}}}else{var c=document.createElement("iframe");c.id=a;c.name=a;}c.style.position="absolute";c.style.top="-1000px";c.style.left="-1000px";document.body.appendChild(c);return c;},createUploadForm:function(g,b){var e="jUploadForm"+g;var a="jUploadFile"+g;var d=jQuery('<form  action="" method="POST" name="'+e+'" id="'+e+'" enctype="multipart/form-data"></form>');var c=jQuery("#"+b);var f=jQuery(c).clone();jQuery(c).attr("id",a);jQuery(c).before(f);jQuery(c).appendTo(d);jQuery(d).css("position","absolute");jQuery(d).css("top","-1200px");jQuery(d).css("left","-1200px");jQuery(d).appendTo("body");return d;},ajaxFileUpload:function(k){k=jQuery.extend({},jQuery.ajaxSettings,k);var a=k.fileElementId;var b=jQuery.createUploadForm(a,k.fileElementId);var i=jQuery.createUploadIframe(a,k.secureuri);var h="jUploadFrame"+a;var j="jUploadForm"+a;if(k.global&&!jQuery.active++){jQuery.event.trigger("ajaxStart");}var c=false;var f={};if(k.global){jQuery.event.trigger("ajaxSend",[f,k]);}var d=function(l){var p=document.getElementById(h);try{if(p.contentWindow){f.responseText=p.contentWindow.document.body?p.contentWindow.document.body.innerHTML:null;f.responseXML=p.contentWindow.document.XMLDocument?p.contentWindow.document.XMLDocument:p.contentWindow.document;}else{if(p.contentDocument){f.responseText=p.contentDocument.document.body?p.contentDocument.document.body.innerHTML:null;f.responseXML=p.contentDocument.document.XMLDocument?p.contentDocument.document.XMLDocument:p.contentDocument.document;}}}catch(o){jQuery.handleError(k,f,null,o);}if(f||l=="timeout"){c=true;var m;try{m=l!="timeout"?"success":"error";if(m!="error"){var n=jQuery.uploadHttpData(f,k.dataType);if(k.success){k.success(n,m);}if(k.global){jQuery.event.trigger("ajaxSuccess",[f,k]);}}else{jQuery.handleError(k,f,m);}}catch(o){m="error";jQuery.handleError(k,f,m,o);}if(k.global){jQuery.event.trigger("ajaxComplete",[f,k]);}if(k.global&&!--jQuery.active){jQuery.event.trigger("ajaxStop");}if(k.complete){k.complete(f,m);}jQuery(p).unbind();setTimeout(function(){try{jQuery(p).remove();jQuery(b).remove();}catch(q){jQuery.handleError(k,f,null,q);}},100);f=null;}};if(k.timeout>0){setTimeout(function(){if(!c){d("timeout");}},k.timeout);}try{var b=jQuery("#"+j);jQuery(b).attr("action",k.url);jQuery(b).attr("method","POST");jQuery(b).attr("target",h);if(b.encoding){b.encoding="multipart/form-data";}else{b.enctype="multipart/form-data";}jQuery(b).submit();}catch(g){jQuery.handleError(k,f,null,g);}if(window.attachEvent){document.getElementById(h).attachEvent("onload",d);}else{document.getElementById(h).addEventListener("load",d,false);}return{abort:function(){}};},uploadHttpData:function(r,type){var data=!type;data=type=="xml"||data?r.responseXML:r.responseText;if(type=="script"){jQuery.globalEval(data);}if(type=="json"){eval("data = "+data);}if(type=="html"){jQuery("<div>").html(data).evalScripts();}return data;}});
(function(a){if(typeof define==="function"&&define.amd){define(["jquery","jquery.ui.widget"],a);}else{a(window.jQuery);}}(function(a){a.support.fileInput=!(new RegExp("(Android (1\\.[0156]|2\\.[01]))|(Windows Phone (OS 7|8\\.0))|(XBLWP)|(ZuneWP)|(WPDesktop)|(w(eb)?OSBrowser)|(webOS)|(Kindle/(1\\.0|2\\.[05]|3\\.0))").test(window.navigator.userAgent)||a('<input type="file">').prop("disabled"));a.support.xhrFileUpload=!!(window.ProgressEvent&&window.FileReader);a.support.xhrFormDataFileUpload=!!window.FormData;a.support.blobSlice=window.Blob&&(Blob.prototype.slice||Blob.prototype.webkitSlice||Blob.prototype.mozSlice);a.widget("blueimp.fileupload",{options:{dropZone:a(document),pasteZone:a(document),fileInput:undefined,replaceFileInput:true,paramName:undefined,singleFileUploads:true,limitMultiFileUploads:undefined,limitMultiFileUploadSize:undefined,limitMultiFileUploadSizeOverhead:512,sequentialUploads:false,limitConcurrentUploads:undefined,forceIframeTransport:false,redirect:undefined,redirectParamName:undefined,postMessage:undefined,multipart:true,maxChunkSize:undefined,uploadedBytes:undefined,recalculateProgress:true,progressInterval:100,bitrateInterval:500,autoUpload:true,messages:{uploadedBytes:"Uploaded bytes exceed file size"},i18n:function(c,b){c=this.messages[c]||c.toString();if(b){a.each(b,function(d,e){c=c.replace("{"+d+"}",e);});}return c;},formData:function(b){return b.serializeArray();},add:function(c,b){if(c.isDefaultPrevented()){return false;}if(b.autoUpload||(b.autoUpload!==false&&a(this).fileupload("option","autoUpload"))){b.process().done(function(){b.submit();});}},processData:false,contentType:false,cache:false},_specialOptions:["fileInput","dropZone","pasteZone","multipart","forceIframeTransport"],_blobSlice:a.support.blobSlice&&function(){var b=this.slice||this.webkitSlice||this.mozSlice;return b.apply(this,arguments);},_BitrateTimer:function(){this.timestamp=((Date.now)?Date.now():(new Date()).getTime());this.loaded=0;this.bitrate=0;this.getBitrate=function(d,c,b){var e=d-this.timestamp;if(!this.bitrate||!b||e>b){this.bitrate=(c-this.loaded)*(1000/e)*8;this.loaded=c;this.timestamp=d;}return this.bitrate;};},_isXHRUpload:function(b){return !b.forceIframeTransport&&((!b.multipart&&a.support.xhrFileUpload)||a.support.xhrFormDataFileUpload);},_getFormData:function(b){var c;if(a.type(b.formData)==="function"){return b.formData(b.form);}if(a.isArray(b.formData)){return b.formData;}if(a.type(b.formData)==="object"){c=[];a.each(b.formData,function(d,e){c.push({name:d,value:e});});return c;}return[];},_getTotal:function(c){var b=0;a.each(c,function(d,e){b+=e.size||1;});return b;},_initProgressObject:function(c){var b={loaded:0,total:0,bitrate:0};if(c._progress){a.extend(c._progress,b);}else{c._progress=b;}},_initResponseObject:function(b){var c;if(b._response){for(c in b._response){if(b._response.hasOwnProperty(c)){delete b._response[c];}}}else{b._response={};}},_onProgress:function(f,d){if(f.lengthComputable){var c=((Date.now)?Date.now():(new Date()).getTime()),b;if(d._time&&d.progressInterval&&(c-d._time<d.progressInterval)&&f.loaded!==f.total){return;}d._time=c;b=Math.floor(f.loaded/f.total*(d.chunkSize||d._progress.total))+(d.uploadedBytes||0);this._progress.loaded+=(b-d._progress.loaded);this._progress.bitrate=this._bitrateTimer.getBitrate(c,this._progress.loaded,d.bitrateInterval);d._progress.loaded=d.loaded=b;d._progress.bitrate=d.bitrate=d._bitrateTimer.getBitrate(c,b,d.bitrateInterval);this._trigger("progress",a.Event("progress",{delegatedEvent:f}),d);this._trigger("progressall",a.Event("progressall",{delegatedEvent:f}),this._progress);}},_initProgressListener:function(b){var c=this,d=b.xhr?b.xhr():a.ajaxSettings.xhr();if(d.upload){a(d.upload).bind("progress",function(f){var g=f.originalEvent;f.lengthComputable=g.lengthComputable;f.loaded=g.loaded;f.total=g.total;c._onProgress(f,b);});b.xhr=function(){return d;};}},_isInstanceOf:function(b,c){return Object.prototype.toString.call(c)==="[object "+b+"]";},_initXHRData:function(c){var e=this,g,d=c.files[0],b=c.multipart||!a.support.xhrFileUpload,f=a.type(c.paramName)==="array"?c.paramName[0]:c.paramName;c.headers=a.extend({},c.headers);if(c.contentRange){c.headers["Content-Range"]=c.contentRange;}if(!b||c.blob||!this._isInstanceOf("File",d)){c.headers["Content-Disposition"]='attachment; filename="'+encodeURI(d.name)+'"';}if(!b){c.contentType=d.type||"application/octet-stream";c.data=c.blob||d;}else{if(a.support.xhrFormDataFileUpload){if(c.postMessage){g=this._getFormData(c);if(c.blob){g.push({name:f,value:c.blob});}else{a.each(c.files,function(h,i){g.push({name:(a.type(c.paramName)==="array"&&c.paramName[h])||f,value:i});});}}else{if(e._isInstanceOf("FormData",c.formData)){g=c.formData;}else{g=new FormData();a.each(this._getFormData(c),function(h,i){g.append(i.name,i.value);});}if(c.blob){g.append(f,c.blob,d.name);}else{a.each(c.files,function(h,i){if(e._isInstanceOf("File",i)||e._isInstanceOf("Blob",i)){g.append((a.type(c.paramName)==="array"&&c.paramName[h])||f,i,i.uploadName||i.name);}});}}c.data=g;}}c.blob=null;},_initIframeSettings:function(b){var c=a("<a></a>").prop("href",b.url).prop("host");b.dataType="iframe "+(b.dataType||"");b.formData=this._getFormData(b);if(b.redirect&&c&&c!==location.host){b.formData.push({name:b.redirectParamName||"redirect",value:b.redirect});}},_initDataSettings:function(b){if(this._isXHRUpload(b)){if(!this._chunkedUpload(b,true)){if(!b.data){this._initXHRData(b);}this._initProgressListener(b);}if(b.postMessage){b.dataType="postmessage "+(b.dataType||"");}}else{this._initIframeSettings(b);}},_getParamName:function(b){var c=a(b.fileInput),d=b.paramName;if(!d){d=[];c.each(function(){var e=a(this),f=e.prop("name")||"files[]",g=(e.prop("files")||[1]).length;while(g){d.push(f);g-=1;}});if(!d.length){d=[c.prop("name")||"files[]"];}}else{if(!a.isArray(d)){d=[d];}}return d;},_initFormSettings:function(b){if(!b.form||!b.form.length){b.form=a(b.fileInput.prop("form"));if(!b.form.length){b.form=a(this.options.fileInput.prop("form"));}}b.paramName=this._getParamName(b);if(!b.url){b.url=b.form.prop("action")||location.href;}b.type=(b.type||(a.type(b.form.prop("method"))==="string"&&b.form.prop("method"))||"").toUpperCase();if(b.type!=="POST"&&b.type!=="PUT"&&b.type!=="PATCH"){b.type="POST";}if(!b.formAcceptCharset){b.formAcceptCharset=b.form.attr("accept-charset");}},_getAJAXSettings:function(c){var b=a.extend({},this.options,c);this._initFormSettings(b);this._initDataSettings(b);return b;},_getDeferredState:function(b){if(b.state){return b.state();}if(b.isResolved()){return"resolved";}if(b.isRejected()){return"rejected";}return"pending";},_enhancePromise:function(b){b.success=b.done;b.error=b.fail;b.complete=b.always;return b;},_getXHRPromise:function(e,d,c){var b=a.Deferred(),f=b.promise();d=d||this.options.context||f;if(e===true){b.resolveWith(d,c);}else{if(e===false){b.rejectWith(d,c);}}f.abort=b.promise;return this._enhancePromise(f);},_addConvenienceMethods:function(f,d){var c=this,b=function(e){return a.Deferred().resolveWith(c,e).promise();};d.process=function(g,e){if(g||e){d._processQueue=this._processQueue=(this._processQueue||b([this])).pipe(function(){if(d.errorThrown){return a.Deferred().rejectWith(c,[d]).promise();}return b(arguments);}).pipe(g,e);}return this._processQueue||b([this]);};d.submit=function(){if(this.state()!=="pending"){d.jqXHR=this.jqXHR=(c._trigger("submit",a.Event("submit",{delegatedEvent:f}),this)!==false)&&c._onSend(f,this);}return this.jqXHR||c._getXHRPromise();};d.abort=function(){if(this.jqXHR){return this.jqXHR.abort();}this.errorThrown="abort";c._trigger("fail",null,this);return c._getXHRPromise(false);};d.state=function(){if(this.jqXHR){return c._getDeferredState(this.jqXHR);}if(this._processQueue){return c._getDeferredState(this._processQueue);}};d.processing=function(){return !this.jqXHR&&this._processQueue&&c._getDeferredState(this._processQueue)==="pending";};d.progress=function(){return this._progress;};d.response=function(){return this._response;};},_getUploadedBytes:function(d){var b=d.getResponseHeader("Range"),e=b&&b.split("-"),c=e&&e.length>1&&parseInt(e[1],10);return c&&c+1;},_chunkedUpload:function(m,g){m.uploadedBytes=m.uploadedBytes||0;var f=this,d=m.files[0],e=d.size,b=m.uploadedBytes,c=m.maxChunkSize||e,i=this._blobSlice,j=a.Deferred(),l=j.promise(),h,k;if(!(this._isXHRUpload(m)&&i&&(b||c<e))||m.data){return false;}if(g){return true;}if(b>=e){d.error=m.i18n("uploadedBytes");return this._getXHRPromise(false,m.context,[null,"error",d.error]);}k=function(){var p=a.extend({},m),n=p._progress.loaded;p.blob=i.call(d,b,b+c,d.type);p.chunkSize=p.blob.size;p.contentRange="bytes "+b+"-"+(b+p.chunkSize-1)+"/"+e;f._initXHRData(p);f._initProgressListener(p);h=((f._trigger("chunksend",null,p)!==false&&a.ajax(p))||f._getXHRPromise(false,p.context)).done(function(o,r,q){b=f._getUploadedBytes(q)||(b+p.chunkSize);if(n+p.chunkSize-p._progress.loaded){f._onProgress(a.Event("progress",{lengthComputable:true,loaded:b-p.uploadedBytes,total:b-p.uploadedBytes}),p);}m.uploadedBytes=p.uploadedBytes=b;p.result=o;p.textStatus=r;p.jqXHR=q;f._trigger("chunkdone",null,p);f._trigger("chunkalways",null,p);if(b<e){k();}else{j.resolveWith(p.context,[o,r,q]);}}).fail(function(o,r,q){p.jqXHR=o;p.textStatus=r;p.errorThrown=q;f._trigger("chunkfail",null,p);f._trigger("chunkalways",null,p);j.rejectWith(p.context,[o,r,q]);});};this._enhancePromise(l);l.abort=function(){return h.abort();};k();return l;},_beforeSend:function(c,b){if(this._active===0){this._trigger("start");this._bitrateTimer=new this._BitrateTimer();this._progress.loaded=this._progress.total=0;this._progress.bitrate=0;}this._initResponseObject(b);this._initProgressObject(b);b._progress.loaded=b.loaded=b.uploadedBytes||0;b._progress.total=b.total=this._getTotal(b.files)||1;b._progress.bitrate=b.bitrate=0;this._active+=1;this._progress.loaded+=b.loaded;this._progress.total+=b.total;},_onDone:function(b,g,f,d){var e=d._progress.total,c=d._response;if(d._progress.loaded<e){this._onProgress(a.Event("progress",{lengthComputable:true,loaded:e,total:e}),d);}c.result=d.result=b;c.textStatus=d.textStatus=g;c.jqXHR=d.jqXHR=f;this._trigger("done",null,d);},_onFail:function(d,f,e,c){var b=c._response;if(c.recalculateProgress){this._progress.loaded-=c._progress.loaded;this._progress.total-=c._progress.total;}b.jqXHR=c.jqXHR=d;b.textStatus=c.textStatus=f;b.errorThrown=c.errorThrown=e;this._trigger("fail",null,c);},_onAlways:function(d,e,c,b){this._trigger("always",null,b);},_onSend:function(h,f){if(!f.submit){this._addConvenienceMethods(h,f);}var g=this,j,b,i,c,k=g._getAJAXSettings(f),d=function(){g._sending+=1;k._bitrateTimer=new g._BitrateTimer();j=j||(((b||g._trigger("send",a.Event("send",{delegatedEvent:h}),k)===false)&&g._getXHRPromise(false,k.context,b))||g._chunkedUpload(k)||a.ajax(k)).done(function(e,m,l){g._onDone(e,m,l,k);}).fail(function(e,m,l){g._onFail(e,m,l,k);}).always(function(m,n,l){g._onAlways(m,n,l,k);g._sending-=1;g._active-=1;if(k.limitConcurrentUploads&&k.limitConcurrentUploads>g._sending){var e=g._slots.shift();while(e){if(g._getDeferredState(e)==="pending"){e.resolve();break;}e=g._slots.shift();}}if(g._active===0){g._trigger("stop");}});return j;};this._beforeSend(h,k);if(this.options.sequentialUploads||(this.options.limitConcurrentUploads&&this.options.limitConcurrentUploads<=this._sending)){if(this.options.limitConcurrentUploads>1){i=a.Deferred();this._slots.push(i);c=i.pipe(d);}else{this._sequence=this._sequence.pipe(d,d);c=this._sequence;}c.abort=function(){b=[undefined,"abort","abort"];if(!j){if(i){i.rejectWith(k.context,b);}return d();}return j.abort();};return this._enhancePromise(c);}return d();},_onAdd:function(p,l){var o=this,u=true,t=a.extend({},this.options,l),d=l.files,r=d.length,f=t.limitMultiFileUploads,h=t.limitMultiFileUploadSize,s=t.limitMultiFileUploadSizeOverhead,n=0,m=this._getParamName(t),c,b,q,k,g=0;if(h&&(!r||d[0].size===undefined)){h=undefined;}if(!(t.singleFileUploads||f||h)||!this._isXHRUpload(t)){q=[d];c=[m];}else{if(!(t.singleFileUploads||h)&&f){q=[];c=[];for(k=0;k<r;k+=f){q.push(d.slice(k,k+f));b=m.slice(k,k+f);if(!b.length){b=m;}c.push(b);}}else{if(!t.singleFileUploads&&h){q=[];c=[];for(k=0;k<r;k=k+1){n+=d[k].size+s;if(k+1===r||((n+d[k+1].size+s)>h)||(f&&k+1-g>=f)){q.push(d.slice(g,k+1));b=m.slice(g,k+1);if(!b.length){b=m;}c.push(b);g=k+1;n=0;}}}else{c=m;}}}l.originalFiles=d;a.each(q||d,function(e,i){var j=a.extend({},l);j.files=q?i:[i];j.paramName=c[e];o._initResponseObject(j);o._initProgressObject(j);o._addConvenienceMethods(p,j);u=o._trigger("add",a.Event("add",{delegatedEvent:p}),j);return u;});return u;},_replaceFileInput:function(d){var b=d.fileInput,c=b.clone(true);d.fileInputClone=c;a("<form></form>").append(c)[0].reset();b.after(c).detach();a.cleanData(b.unbind("remove"));this.options.fileInput=this.options.fileInput.map(function(e,f){if(f===b[0]){return c[0];}return f;});if(b[0]===this.element[0]){this.element=c;}},_handleFileTreeEntry:function(g,i){var d=this,h=a.Deferred(),c=function(k){if(k&&!k.entry){k.entry=g;}h.resolve([k]);},e=function(k){d._handleFileTreeEntries(k,i+g.name+"/").done(function(l){h.resolve(l);}).fail(c);},f=function(){j.readEntries(function(k){if(!k.length){e(b);}else{b=b.concat(k);f();}},c);},j,b=[];i=i||"";if(g.isFile){if(g._file){g._file.relativePath=i;h.resolve(g._file);}else{g.file(function(k){k.relativePath=i;h.resolve(k);},c);}}else{if(g.isDirectory){j=g.createReader();f();}else{h.resolve([]);}}return h.promise();},_handleFileTreeEntries:function(b,d){var c=this;return a.when.apply(a,a.map(b,function(e){return c._handleFileTreeEntry(e,d);})).pipe(function(){return Array.prototype.concat.apply([],arguments);});},_getDroppedFiles:function(c){c=c||{};var b=c.items;if(b&&b.length&&(b[0].webkitGetAsEntry||b[0].getAsEntry)){return this._handleFileTreeEntries(a.map(b,function(e){var d;if(e.webkitGetAsEntry){d=e.webkitGetAsEntry();if(d){d._file=e.getAsFile();}return d;}return e.getAsEntry();}));}return a.Deferred().resolve(a.makeArray(c.files)).promise();},_getSingleFileInputFiles:function(d){d=a(d);var b=d.prop("webkitEntries")||d.prop("entries"),c,e;if(b&&b.length){return this._handleFileTreeEntries(b);}c=a.makeArray(d.prop("files"));if(!c.length){e=d.prop("value");if(!e){return a.Deferred().resolve([]).promise();}c=[{name:e.replace(/^.*\\/,"")}];}else{if(c[0].name===undefined&&c[0].fileName){a.each(c,function(f,g){g.name=g.fileName;g.size=g.fileSize;});}}return a.Deferred().resolve(c).promise();},_getFileInputFiles:function(b){if(!(b instanceof a)||b.length===1){return this._getSingleFileInputFiles(b);}return a.when.apply(a,a.map(b,this._getSingleFileInputFiles)).pipe(function(){return Array.prototype.concat.apply([],arguments);});},_onChange:function(d){var b=this,c={fileInput:a(d.target),form:a(d.target.form)};this._getFileInputFiles(c.fileInput).always(function(e){c.files=e;if(b.options.replaceFileInput){b._replaceFileInput(c);}if(b._trigger("change",a.Event("change",{delegatedEvent:d}),c)!==false){b._onAdd(d,c);}});},_onPaste:function(d){var b=d.originalEvent&&d.originalEvent.clipboardData&&d.originalEvent.clipboardData.items,c={files:[]};if(b&&b.length){a.each(b,function(e,g){var f=g.getAsFile&&g.getAsFile();if(f){c.files.push(f);}});if(this._trigger("paste",a.Event("paste",{delegatedEvent:d}),c)!==false){this._onAdd(d,c);}}},_onDrop:function(f){f.dataTransfer=f.originalEvent&&f.originalEvent.dataTransfer;var b=this,d=f.dataTransfer,c={};if(d&&d.files&&d.files.length){f.preventDefault();this._getDroppedFiles(d).always(function(e){c.files=e;if(b._trigger("drop",a.Event("drop",{delegatedEvent:f}),c)!==false){b._onAdd(f,c);}});}},_onDragOver:function(c){c.dataTransfer=c.originalEvent&&c.originalEvent.dataTransfer;var b=c.dataTransfer;if(b&&a.inArray("Files",b.types)!==-1&&this._trigger("dragover",a.Event("dragover",{delegatedEvent:c}))!==false){c.preventDefault();b.dropEffect="copy";}},_initEventHandlers:function(){if(this._isXHRUpload(this.options)){this._on(this.options.dropZone,{dragover:this._onDragOver,drop:this._onDrop});this._on(this.options.pasteZone,{paste:this._onPaste});}if(a.support.fileInput){this._on(this.options.fileInput,{change:this._onChange});}},_destroyEventHandlers:function(){this._off(this.options.dropZone,"dragover drop");this._off(this.options.pasteZone,"paste");this._off(this.options.fileInput,"change");},_setOption:function(b,c){var d=a.inArray(b,this._specialOptions)!==-1;if(d){this._destroyEventHandlers();}this._super(b,c);if(d){this._initSpecialOptions();this._initEventHandlers();}},_initSpecialOptions:function(){var b=this.options;if(b.fileInput===undefined){b.fileInput=this.element.is('input[type="file"]')?this.element:this.element.find('input[type="file"]');}else{if(!(b.fileInput instanceof a)){b.fileInput=a(b.fileInput);}}if(!(b.dropZone instanceof a)){b.dropZone=a(b.dropZone);}if(!(b.pasteZone instanceof a)){b.pasteZone=a(b.pasteZone);}},_getRegExp:function(d){var c=d.split("/"),b=c.pop();c.shift();return new RegExp(c.join("/"),b);},_isRegExpOption:function(b,c){return b!=="url"&&a.type(c)==="string"&&/^\/.*\/[igm]{0,3}$/.test(c);},_initDataAttributes:function(){var c=this,b=this.options,d=a(this.element[0].cloneNode(false));a.each(d.data(),function(e,f){var g="data-"+e.replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase();if(d.attr(g)){if(c._isRegExpOption(e,f)){f=c._getRegExp(f);}b[e]=f;}});},_create:function(){this._initDataAttributes();this._initSpecialOptions();this._slots=[];this._sequence=this._getXHRPromise(true);this._sending=this._active=0;this._initProgressObject(this);this._initEventHandlers();},active:function(){return this._active;},progress:function(){return this._progress;},add:function(c){var b=this;if(!c||this.options.disabled){return;}if(c.fileInput&&!c.files){this._getFileInputFiles(c.fileInput).always(function(d){c.files=d;b._onAdd(null,c);});}else{c.files=a.makeArray(c.files);this._onAdd(null,c);}},send:function(f){if(f&&!this.options.disabled){if(f.fileInput&&!f.files){var d=this,b=a.Deferred(),g=b.promise(),c,e;g.abort=function(){e=true;if(c){return c.abort();}b.reject(null,"abort","abort");return g;};this._getFileInputFiles(f.fileInput).always(function(h){if(e){return;}if(!h.length){b.reject();return;}f.files=h;c=d._onSend(null,f);c.then(function(i, k, j){b.resolve(i,k,j);},function(i, k, j){b.reject(i,k,j);});});return this._enhancePromise(g);}f.files=a.makeArray(f.files);if(f.files.length){return this._onSend(null,f);}}return this._getXHRPromise(false,f&&f.context);}});}));
(function(a){if(typeof define==="function"&&define.amd){define(["jquery"],a);}else{a(window.jQuery);}}(function(b){var a=0;b.ajaxTransport("iframe",function(d){if(d.async){var c=d.initialIframeSrc||"javascript:false;",f,e,g;return{send:function(h, i){f=b('<form style="display:none;" method="POST"></form>');f.attr("accept-charset",d.formAcceptCharset);g=/\?/.test(d.url)?"&":"?";if(d.type==="DELETE"){d.url=d.url+g+"_method=DELETE";d.type="POST";}else{if(d.type==="PUT"){d.url=d.url+g+"_method=PUT";d.type="POST";}else{if(d.type==="PATCH"){d.url=d.url+g+"_method=PATCH";d.type="POST";}}}a+=1;e=b('<iframe src="'+c+'" name="iframe-transport-'+a+'"></iframe>').bind("load",function(){var j,k=b.isArray(d.paramName)?d.paramName:[d.paramName];e.unbind("load").bind("load",function(){var l;try{l=e.contents();if(!l.length||!l[0].firstChild){throw new Error();}}catch(m){l=undefined;}i(200,"success",{iframe:l});b('<iframe src="'+c+'"></iframe>').appendTo(f);window.setTimeout(function(){f.remove();},0);});f.prop("target",e.prop("name")).prop("action",d.url).prop("method",d.type);if(d.formData){b.each(d.formData,function(l,m){b('<input type="hidden"/>').prop("name",m.name).val(m.value).appendTo(f);});}if(d.fileInput&&d.fileInput.length&&d.type==="POST"){j=d.fileInput.clone();d.fileInput.after(function(l){return j[l];});if(d.paramName){d.fileInput.each(function(l){b(this).prop("name",k[l]||d.paramName);});}f.append(d.fileInput).prop("enctype","multipart/form-data").prop("encoding","multipart/form-data");d.fileInput.removeAttr("form");}f.submit();if(j&&j.length){d.fileInput.each(function(m,l){var n=b(j[m]);b(l).prop("name",n.prop("name")).attr("form",n.attr("form"));n.replaceWith(l);});}});f.append(e).appendTo(document.body);},abort:function(){if(e){e.unbind("load").prop("src",c);}if(f){f.remove();}}};}});b.ajaxSetup({converters:{"iframe text":function(c){return c&&b(c[0].body).text();},"iframe json":function(c){return c&&b.parseJSON(b(c[0].body).text());},"iframe html":function(c){return c&&b(c[0].body).html();},"iframe xml":function(c){var d=c&&c[0];return d&&b.isXMLDoc(d)?d:b.parseXML((d.XMLDocument&&d.XMLDocument.xml)||b(d.body).html());},"iframe script":function(c){return c&&b.globalEval(b(c[0].body).text());}}});}));
(function(a){if(typeof define==="function"&&define.amd){define(["jquery"],a);}else{a(window.jQuery);}}(function(b){var a=0,d=["accepts","cache","contents","contentType","crossDomain","data","dataType","headers","ifModified","mimeType","password","processData","timeout","traditional","type","url","username"],c=function(e){return e;};b.ajaxSetup({converters:{"postmessage text":c,"postmessage json":c,"postmessage html":c}});b.ajaxTransport("postmessage",function(e){if(e.postMessage&&window.postMessage){var g,i=b("<a>").prop("href",e.postMessage)[0],h=i.protocol+"//"+i.host,f=e.xhr().upload;return{send:function(k,m){a+=1;var l={id:"postmessage-transport-"+a},j="message."+l.id;g=b('<iframe style="display:none;" src="'+e.postMessage+'" name="'+l.id+'"></iframe>').bind("load",function(){b.each(d,function(o,n){l[n]=e[n];});l.dataType=l.dataType.replace("postmessage ","");b(window).bind(j,function(p){p=p.originalEvent;var o=p.data,n;if(p.origin===h&&o.id===l.id){if(o.type==="progress"){n=document.createEvent("Event");n.initEvent(o.type,false,true);b.extend(n,o);f.dispatchEvent(n);}else{m(o.status,o.statusText,{postmessage:o.result},o.headers);g.remove();b(window).unbind(j);}}});g[0].contentWindow.postMessage(l,h);}).appendTo(document.body);},abort:function(){if(g){g.remove();}}};}});}));
(function(a){if(typeof define==="function"&&define.amd){define(["jquery"],a);}else{a(window.jQuery);}}(function(a){if(window.XDomainRequest&&!a.support.cors){a.ajaxTransport(function(c){if(c.crossDomain&&c.async){if(c.timeout){c.xdrTimeout=c.timeout;delete c.timeout;}var b;return{send:function(f, d){var e=/\?/.test(c.url)?"&":"?";function g(h, k, j, i){b.onload=b.onerror=b.ontimeout=a.noop;b=null;d(h,k,j,i);}b=new XDomainRequest();if(c.type==="DELETE"){c.url=c.url+e+"_method=DELETE";c.type="POST";}else{if(c.type==="PUT"){c.url=c.url+e+"_method=PUT";c.type="POST";}else{if(c.type==="PATCH"){c.url=c.url+e+"_method=PATCH";c.type="POST";}}}b.open(c.type,c.url);b.onload=function(){g(200,"OK",{text:b.responseText},"Content-Type: "+b.contentType);};b.onerror=function(){g(404,"Not Found");};if(c.xdrTimeout){b.ontimeout=function(){g(0,"timeout");};b.timeout=c.xdrTimeout;}b.send((c.hasContent&&c.data)||null);},abort:function(){if(b){b.onerror=a.noop();b.abort();}}};}});}}));
